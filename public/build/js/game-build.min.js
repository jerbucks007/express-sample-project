!function(){var e=!1;document.addEventListener("keydown",function(t){17==((t=t||window.event).which||t.keyCode)&&(e=!0),(e&&109==t.which||e&&189==t.which)&&(t.preventDefault(),t.stopPropagation()),(e&&107==t.which||e&&187==t.which)&&(t.preventDefault(),t.stopPropagation())}),document.addEventListener("keyup",function(t){console.log("KEYUP",t),17===t.keyCode&&(e=!1)}),document.addEventListener("wheel",function(t){e&&(t.preventDefault(),t.stopPropagation())},{passive:!1}),document.addEventListener("gesturestart",function(t){e&&(t.preventDefault(),t.stopPropagation())},{passive:!1});var t=new class{constructor(){this.config={reconnection:!0,reconnectionDelay:5e3,"reconnectionDelayMax ":1/0,secure:!0,autoConnect:!0,path:wsPath+"/socket.io",transports:["websocket"],query:{}},this.host=location.host,console.log("wsPath >>>>>>>>>",wsPath),this.socket=io(this.host,this.config),this.socketHandler("table")}on(e,t){this.socket.on(e,function(){var e=arguments;t.apply(this.socket,e)})}emit(e,t){this.socket.emit(e,t)}setHost(e){this.host=e}socketHandler(e){var a=this;this.socket.on("connect",t=>{console.log(`### [${e}_socket] #### connect`)}),this.socket.on("reconnect",()=>{console.log(`### [${e}_socket] #### reconnect`),O.restartGame(function(){})}),this.socket.on("connecting",()=>{console.log(`### [${e}_socket] #### connecting`)}),this.socket.on("reconnecting",t=>{console.log(`### [${e}_socket] #### reconnecting`)}),this.socket.on("reconnect_attempt",()=>{console.log(`### [${e}_socket] #### reconnect attempt`),t.socket.io.opts.transports=["websocket"]}),this.socket.on("connect_failed",()=>{console.log(`### [${e}_socket] #### connect_failed`)}),this.socket.on("connect_error",()=>{console.log(`### [${e}_socket] #### connect_error`)}),this.socket.on("error",t=>{console.log(`### [${e}_socket] #### error`,t),a.socketHandler("table")}),this.socket.on("reconnect_failed",()=>{console.log(`### [${e}_socket] #### reconnect_failed`)}),this.socket.on("close",()=>{console.log(`### [${e}_socket] #### close`)}),this.socket.on("accessDenied",()=>{console.log(`### [${e}_socket] #### accessDenied`)}),this.socket.on("disconnected",()=>{console.log(`### [${e}_socket] #### disconnected`),O.removeTickers()}),this.socket.on("disconnect",()=>{console.log(`### [${e}_socket] #### disconnect`),O.removeTickers()})}};t.on("shuffle cards",function(){O.cleanCanvas(),B.cleanRoadMap(),O.animateShuffle(),k.disableHome(!0),O.disableSideBetContainer({counter:0})}),t.on("first card",function(e){O.burnCard(e)}),t.on("bet tick",function(e){if(!G.isBettingOpen)return!1;r.setTimer(e)}),t.on("animate bet chips",function(e){if(!G.isBettingOpen)return!1;O.animateBet(e)}),t.on("draw card",function(e){if(!G.isBettingOpen)return!1;O.drawCard(e)}),t.on("start new round",function(){O.hideWaitForNextRoundContainer(),O.cleanCanvas(),G.isBettingOpen=!0,t.emit("rebet status"),k.disableHome(!0),k.disableMenu(!0),k.enableRebet=Object.values(O.rebetValues).length>0,k.isRebetHidden=!(Object.values(O.rebetValues).length>0)&&k.isRebetHidden,console.log("self.rebetValues enable",k.enableRebet)}),t.on("round result",function(e){if(!G.isBettingOpen)return!1;O.evaluateResult(e),t.emit("get my result"),O.setTotalRound()}),t.on("get my balance",function(e){console.log("BAAAAAAL GET MY BALANCE SOCKET",e),C.balanceFromSocket=e,G.loadItems("get my balance");var t=document.getElementById("bet_credit");e=e.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],t&&(t.innerHTML=Number(e)>0?Number(e).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):Number(e)),G.loadComplete&&(C.delayBalanceUpdate=!1),setTimeout(function(){var t=e;O.balanceTemp=e,C.animateBalance(k.balance,t,function(e,a){k.balance=t;k.balanceValue.text=e||0})},k.balance<1?0:100)}),t.on("player sit",function(e){L.playerSit(e)}),t.on("table limit",function(e){G.loadItems("table limit"),O.setTableDetails(e),T.init(),D.playIntro()}),t.on("get my result",function(e){if(!G.isBettingOpen)return!1;e&&k.setTotalWin(e)}),t.on("my position",function(e){e>-1&&(L.selectedSeat=e)}),t.on("player list",function(e){L.isSeatDisable?L.supplySeatsAfterTimer(e):L.supplySeats(e),g.updatePlayers(e),g.updateStandingPlayers(e),O.updateTableName()}),t.on("road map",function(e){B.loadRoadMaps(e.roadmap),B.updateRoadmapCount(e.roadmapResult)}),t.on("table close",function(){k.setAlert("table close",function(e){e&&(0,i[i.list["table close"].action])();k.hideAlert()})}),t.on("rebet",function(e){k.rebet(e)}),t.on("rebet chips",function(e){var t=0;if(e.length>0)for(var a=0,n=e.length;a<n;a++)t=a,O.animateRebet(e[t],t)}),t.on("rebet status",function(e){var t=setInterval(function(){if(r.tickStarted){if(e){if(Object.values(O.rebetValues).length>0){O.rebetValuesTemp={},O.totalRebetTemp=null;var a=!O.checkRebetValues()&&e;k.updateRebetStatus(a)}else if(Object.values(O.rebetValuesTemp).length>0){O.rebetValues=O.rebetValuesTemp,O.totalRebetAmount=O.totalRebetTemp,O.rebetValuesTemp={},O.totalRebetTemp=null;a=!O.checkRebetValues()&&e;k.updateRebetStatus(a)}}else k.updateRebetStatus(e);clearInterval(t)}},100)}),t.on("my bets",function(e){e&&(O.haveBet=!0,k.disableHome(!1),k.isRebetHidden=!1,k.updateRebetStatus(!1))}),t.on("table chips",function(e){O.reconstructGame(e)}),t.on("server error",function(e){var t=e.toString();i.list[t];t=t||"default error",k.setAlert(t,function(e){if(e){var a=i.list[t].action;C.isSBO&&"windowClose"===a&&C.isMobile&&(a="gotoLogin"),(0,i[a])()}k.hideAlert()})}),t.on("game error",function(e){var t=e.toString();i.list[t];t=t||"default error",k.setAlert(t,function(e){if(e){var a=i.list[t].action;C.isSBO&&"windowClose"===a&&C.isMobile&&(a="gotoLogin"),(0,i[a])()}k.hideAlert()})}),t.on("game error notif",function(e){if(e)if("max limit"===e){console.log("MIN MAX CODE",e);var t=O.tableDetails[O.currentBetType.tableLimit+"Max"],a=O.gameContainer.getChildByName("totalBetsContainer").getChildByName("totalBetContainer-"+O.currentBetType.betType).getChildByName("betValue"),n="number"==typeof a.text?a.text:a.text.replace(/\,/g,"");t-Number(n)>0?k.setAlert(e,function(t){if(O.canBet=!0,console.log("MIN MAX CODE",e,t,i.list[e].action),t){var a=i.list[e].action;(0,i[a])()}k.hideAlert()}):(O.setNotif(i.notifs[e]),O.canBet=!0)}else"min limit"===e?(console.log("MIN MAX CODE",e),k.setAlert(e,function(t){if(O.canBet=!0,console.log("MIN MAX CODE",e,t,i.list[e].action),t){var a=i.list[e].action;(0,i[a])()}k.hideAlert()})):(O.setNotif(i.notifs[e]),O.canBet=!0,O.rebetValues=O.rebetValuesTemp,O.totalRebetAmount=O.totalRebetTemp,O.rebetValuesTemp={},O.totalRebetTemp=null);else O.canBet=!0}),t.on("new game round",function(e){O.updateGameRoundID(e),O.disableSideBetContainer(e),t.emit("check state"),O.isBetHereVisible=!(O.haveBet||O.numOfRounds>1),O.canBet=!0,console.log("isBetHereVisible",O.isBetHereVisible,O.numOfRounds)}),t.on("player taunt",function(e){if(!G.isBettingOpen)return!1;A.displayTaunt(e)}),t.on("bet success",function(e){if(!G.isBettingOpen)return!1;k.setAlert("bet success",function(e){e&&(0,i[i.list["bet success"].action])();k.hideAlert()},e),setTimeout(function(){"bet success"===k.currentErrorCode&&k.hideAlert()},2e3)}),t.on("playerbet history",function(e){I.reports=e,I.createReportList()}),t.on("table state",function(e){null===C.tableState?(C.tableState=e,G.checkState(e)):0===C.tableState.state&&O.hideWaitForNextRoundContainer(),O.tableInfo=e,O.updateTableName()}),t.on("table limit closed",function(e){C.tableLimitClosed(e)}),t.on("update table limit",function(){t.emit("table limit")});var a=function(){this.lang=userData.lang,this.constantLanguages=[{id:"en",alias:["en"],name:"English"},{id:"zh-cn",alias:["zh","zh-cn"],name:"Simplified Chinese"},{id:"zh-tw",alias:["zh-tw"],name:"Traditional Chinese"},{id:"id",alias:["id","id-id"],name:"Bahasa Indonesia"},{id:"vi",alias:["vi","vi-vn"],name:"Vietnamese"},{id:"th",alias:["th","th-th"],name:"Thai"}],this.translationList={currentAvatar:{en:"CURRENT AVATAR","zh-cn":"CURRENT AVATAR","zh-tw":"CURRENT AVATAR",id:"CURRENT AVATAR",vi:"CURRENT AVATAR",th:"CURRENT AVATAR"},Confirm:{en:"Confirm","zh-cn":"Confirm","zh-tw":"Confirm",id:"Confirm",vi:"Confirm",th:"Confirm"},Okay:{en:"Okay","zh-cn":"Okay","zh-tw":"Okay",id:"Okay",vi:"Okay",th:"Okay"},Cancel:{en:"Cancel","zh-cn":"Cancel","zh-tw":"Cancel",id:"Cancel",vi:"Cancel",th:"Cancel"},allSideBets:{en:"All side bets lose on 7","zh-cn":"All side bets lose on 7","zh-tw":"All side bets lose on 7",id:"All side bets lose on 7",vi:"All side bets lose on 7",th:"All side bets lose on 7"},Dragon:{en:"D R A G O N","zh-cn":"D R A G O N","zh-tw":"D R A G O N",id:"D R A G O N",vi:"D R A G O N",th:"D R A G O N"},Tiger:{en:"T I G E R","zh-cn":"T I G E R","zh-tw":"T I G E R",id:"T I G E R",vi:"T I G E R",th:"T I G E R"},Tie:{en:"T I E","zh-cn":"T I E","zh-tw":"T I E",id:"T I E",vi:"T I E",th:"T I E"},Big:{en:"Big","zh-cn":"Big","zh-tw":"Big",id:"Big",vi:"Big",th:"Big"},Small:{en:"Small","zh-cn":"Small","zh-tw":"Small",id:"Small",vi:"Small",th:"Small"},Red:{en:"Red","zh-cn":"Red","zh-tw":"Red",id:"Red",vi:"Red",th:"Red"},Black:{en:"Black","zh-cn":"Black","zh-tw":"Black",id:"Black",vi:"Black",th:"Black"},tapToPlaceBet:{en:"Tap to place bet","zh-cn":"Tap to place bet","zh-tw":"Tap to place bet",id:"Tap to place bet",vi:"Tap to place bet",th:"Tap to place bet"},gameRound:{en:"GAME ROUND","zh-cn":"GAME ROUND","zh-tw":"GAME ROUND",id:"GAME ROUND",vi:"GAME ROUND",th:"GAME ROUND"},bettingOpen:{en:"BETTING OPEN","zh-cn":"BETTING OPEN","zh-tw":"BETTING OPEN",id:"BETTING OPEN",vi:"BETTING OPEN",th:"BETTING OPEN"},balance:{en:"BALANCE","zh-cn":"BALANCE","zh-tw":"BALANCE",id:"BALANCE",vi:"BALANCE",th:"BALANCE"},totalWin:{en:"TOTAL WIN","zh-cn":"TOTAL WIN","zh-tw":"TOTAL WIN",id:"TOTAL WIN",vi:"TOTAL WIN",th:"TOTAL WIN"},totalBet:{en:"TOTAL BET","zh-cn":"TOTAL BET","zh-tw":"TOTAL BET",id:"TOTAL BET",vi:"TOTAL BET",th:"TOTAL BET"},avatarSelection:{en:"AVATAR SELECTION","zh-cn":"AVATAR SELECTION","zh-tw":"AVATAR SELECTION",id:"AVATAR SELECTION",vi:"AVATAR SELECTION",th:"AVATAR SELECTION"},sitHere:{en:"S I T  H E R E","zh-cn":"S I T  H E R E","zh-tw":"S I T  H E R E",id:"S I T  H E R E",vi:"S I T  H E R E",th:"S I T  H E R E"},standingPlayer:{en:"STANDING PLAYER","zh-cn":"STANDING PLAYER","zh-tw":"STANDING PLAYER",id:"STANDING PLAYER",vi:"STANDING PLAYER",th:"STANDING PLAYER"},taunts:{en:"TAUNTS","zh-cn":"TAUNTS","zh-tw":"TAUNTS",id:"TAUNTS",vi:"TAUNTS",th:"TAUNTS"},loading:{en:"L O A D I N G","zh-cn":"L O A D I N G","zh-tw":"L O A D I N G",id:"L O A D I N G",vi:"L O A D I N G",th:"L O A D I N G"},beadRoad:{en:"BEAD ROAD","zh-cn":"BEAD ROAD","zh-tw":"BEAD ROAD",id:"BEAD ROAD",vi:"BEAD ROAD",th:"BEAD ROAD"},bigRoad:{en:"BIG ROAD","zh-cn":"BIG ROAD","zh-tw":"BIG ROAD",id:"BIG ROAD",vi:"BIG ROAD",th:"BIG ROAD"},bigEyeRoad:{en:"BIG EYE ROAD","zh-cn":"BIG EYE ROAD","zh-tw":"BIG EYE ROAD",id:"BIG EYE ROAD",vi:"BIG EYE ROAD",th:"BIG EYE ROAD"},smallRoad:{en:"SMALL ROAD","zh-cn":"SMALL ROAD","zh-tw":"SMALL ROAD",id:"SMALL ROAD",vi:"SMALL ROAD",th:"SMALL ROAD"},cockroachRoad:{en:"COCKROACH ROAD","zh-cn":"COCKROACH ROAD","zh-tw":"COCKROACH ROAD",id:"COCKROACH ROAD",vi:"COCKROACH ROAD",th:"COCKROACH ROAD"}},this.langId=this.getLangID(userData.lang)};a.prototype.getLangID=function(e){for(var t="en",a=0;a<this.constantLanguages.length;a++){var n=this.constantLanguages[a];n.alias.findIndex(t=>t===e)>-1&&(t=n.id)}return console.log("LANGUAGE ID",t),t},a.prototype.getTranslation=function(e){return this.translationList[e][this.langId]};var n=new a,i=new function(){this.acceptLowerBet=!0,this.goto404=function(){window.location.replace(window.location.origin+wsPath+"/404")},this.goto405=function(){window.location.replace(window.location.origin+wsPath+"/405")},this.gotoLobby=function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(console.log("RESPONSE",e),4==e.readyState&&200==e.status){let a=JSON.parse(e.response);a.error||(t.emit("gotolobby",tableID),window.location.replace(a.url))}},e.open("POST",wsPath+"/gotoLobby",!0),e.send(null)},this.windowClose=function(){window.close()},this.standPlayer=function(){L.removeFromSeat(),k.hideAlert()},this.popupClose=function(){k.hideAlert()},this.gotoLogin=function(){window.location.replace(userData.loginUrl)},this.gotoBlankPage=function(){},this.lowerBet=function(){console.log("MIN MAX ALERT lowerBet");var e=O.tableDetails[O.currentBetType.tableLimit+"Max"],t=O.gameContainer.getChildByName("totalBetsContainer").getChildByName("totalBetContainer-"+O.currentBetType.betType).getChildByName("betValue"),a="number"==typeof t.text?t.text:t.text.replace(/\,/g,""),n=Number(a),i=e-n;console.log("MIN MAX ALERT lowerBet ---",e,n,i,O.currentBetType.betType),i>0&&k.getChipList(i,O.currentBetType.betType,function(e,t){for(var a=0;a<e.length;a++){var n=t[0]+t[1]+t[2],i=t.length>3?t[3]+t[4]+t[5]:null;O.sendBet(n,i,!1,O.currentBetType.tableLimit,e[a])}})},this.topUp=function(){console.log("MIN MAX ALERT topUp");var e=O.tableDetails[O.currentBetType.tableLimit+"Min"],t=O.currentBetType.betType,a=t[0]+t[1]+t[2],n=t.length>3?t[3]+t[4]+t[5]:null;O.sendBet(a,n,!1,O.currentBetType.tableLimit,e)},this.list={"invalid session":{message:"Your session has been expired. Please re-login to play again.",title:"Session Expired",titleColor:"#FFF",button:1,action:"windowClose",pos:-10},"leave game":{message:"Do you want to exit the game?",title:"Leaving the game",titleColor:"#FFF",button:3,action:"gotoLobby",pos:-10},"stand player":{message:"You've been removed from your seat for idling 3 consecutive rounds.",title:"Stand",titleColor:"#FFF",button:0,action:"standPlayer",pos:10},"kick player":{message:"You've been kicked from the game for idling 5 consecutive rounds.",title:"Player Kicked",titleColor:"#FFF",button:1,action:"gotoLobby",pos:-10},"table close":{message:"This table was closed. Please enter another table.",title:"Table Closed",titleColor:"#FFF",button:1,action:"gotoLobby",pos:-10},"multiple window":{message:"Multi window detected.",title:"Problem Occured",titleColor:"#FFF",button:1,action:"goto405",pos:-10},"table limit close":{message:"The table limit was closed. Please choose another table limit.",title:"Table Limit Closed",titleColor:"#FFF",button:1,action:"gotoLobby",pos:-10},"all table limit close":{message:"All table limits were closed. Game will now close.",title:"Table Limit Closed",titleColor:"#FFF",button:1,action:"windowClose",pos:-10},"player booted":{message:"Your account has been booted by the system. Please try again later or contact our customer support.",title:"Session Expired",titleColor:"#FFF",button:1,action:"windowClose",pos:-10},"account suspended":{message:"Your account has a problem. Please contact our customer support.",title:"",titleColor:"#FFF",button:1,action:"windowClose",pos:-10},"account closed":{message:"Your account has a problem. Please contact our customer support.",title:"",titleColor:"#FFF",button:1,action:"windowClose",pos:-10},"bet failed":{message:"Sorry there is an error. Please try again.",title:"TRANSACTION FAILED",titleColor:"#D60000",button:1,action:"popupClose",pos:-10},"bet success":{message:"Ref no.: ",title:"BET ACCEPTED",titleColor:"#51FD42",button:0,action:"popupClose",pos:50},"no internet":{message:"No Internet Connection",title:" ",titleColor:"#51FD42",button:0,action:"gotoBlankPage",pos:0},400:{message:"Sorry there is an error. Please try again.",title:"Problem Occured",titleColor:"#FFF",button:1,action:"popupClose",pos:-10},401:{message:"Player is not logged in.",title:"Problem Occured",titleColor:"#FFF",button:1,action:"windowClose",pos:-10},402:{message:"Not enough balance.",title:"Insufficient Balance",titleColor:"#FFF",button:1,action:"popupClose",pos:-10},403:{message:"Bet already exist. Please try again.",title:"Problem Occured",titleColor:"#FFF",button:1,action:"popupClose",pos:-10},404:{message:"Bet was not found. Please try again.",title:"Problem Occured",titleColor:"#FFF",button:1,action:"popupClose",pos:-10},405:{message:"API suspended. Please try again.",title:"Problem Occured",titleColor:"#FFF",button:1,action:"popupClose",pos:-10},406:{message:"Over the max winning. Please try again.",title:"Problem Occured",titleColor:"#FFF",button:1,action:"popupClose",pos:-10},407:{message:"Over the max loss. Please try again.",title:"Problem Occured",titleColor:"#FFF",button:1,action:"popupClose",pos:-10},409:{message:"Sorry there is an error. Please try again.",title:"Problem Occured",titleColor:"#FFF",button:1,action:"popupClose",pos:-10},410:{message:"Sorry there is an error. Please try again.",title:"Problem Occured",titleColor:"#FFF",button:1,action:"popupClose",pos:-10},411:{message:"Your account has been suspended. Please contact our customer support.",title:"Account Suspended",titleColor:"#FFF",button:1,action:"windowClose",pos:-10},412:{message:"Your account has been closed. Please contact our customer support.",title:"Account Closed",titleColor:"#FFF",button:1,action:"windowClose",pos:-10},413:{message:"There is a problem with your bet. Please contact our customer support.",title:"Betting Budget Exceeded",titleColor:"#FFF",button:1,action:"windowClose",pos:-10},1:{message:"Sorry there is an error. Please try again.",title:"Internal Error",titleColor:"#FFF",button:1,action:"windowClose",pos:-10},"side bet alert":{message:"Side Bets are only available for the first 50 rounds.",title:"",titleColor:"#51FD42",button:0,action:"popupClose",pos:0},"default error":{message:"Sorry there is an error. Please try again.",title:"Problem Occured",titleColor:"#FFF",button:1,action:"windowClose",pos:-10},"max limit":{message:"Your bet is higher than the maximum bet.",title:"",titleColor:"#FFF",button:4,action:"lowerBet",pos:-10},"min limit":{message:"Your bet is lower than the minimum bet.",title:"",titleColor:"#FFF",button:5,action:"topUp",pos:-10}},this.notifs={"max limit":{label:"Your bet has reached the maximum limit"},"min limit":{label:"Your bet is lower than the minimum limit"},"bet failed":{label:"Betting failed"},"insufficient balance":{label:"Insufficient Balance"}}},o=function(){this.time=0,this.timerLabel=null,this.tickStarted=!1,this.isShaking=!1,this.isRotating=!1,this.timerval={},this.isTickAdded=!1,this.tickListener=null,this.isStartedWithMax=null,this.rebetStatusChanged=!1,this.waitTimer=null};o.prototype.createTimerContainer=function(e){var t=O.gameContainer.getChildByName("tableContainer"),a=C.createContainer(t,"timerContainer",!0);a.y=-118,a.scale=1,a.alpha=0;var n=a.addChild(new createjs.Shape);n.graphics.setStrokeStyle(2).beginLinearGradientStroke(["#FFF","#8F8F8F"],[0,1],0,20,0,60).beginFill("#000").drawCircle(0,0,56),n.name="outSideinnerCircle",n.shadow=new createjs.Shadow("rgba(0, 0, 0, .6)",0,6,9);var i=f.createSprite(a,f.tableSpriteSheet,"timerbg","timerBg",1);i.mask=n,i.shadow=new createjs.Shadow("rgba(0, 0, 0, 1)",0,0,12);var o=a.addChild(new createjs.Shape);o.graphics.beginRadialGradientFill(["#111111","#111111"],[0,1],0,0,10,0,0,55).moveTo(0,0).arc(0,0,55,0,0),o.name="innerSideCircle";var r=a.addChild(new createjs.Shape);r.graphics.setStrokeStyle(2).beginStroke("rgba(105, 110, 105, .2)").beginFill("#000").drawCircle(0,0,48),r.name="innerTimerCircle";var l=a.addChild(new createjs.Shape);l.graphics.setStrokeStyle(0).beginStroke("rgba(0,0,0,0)").beginLinearGradientFill(["rgba(0,0,0,0)","rgba(196,196,196,.4)","rgba(0,0,0,0)"],[0,1,1],0,0,0,45).drawCircle(0,0,45),l.name="gradient",l.scaleY=-1;var s=a.addChild(new createjs.Shape);s.graphics.beginFill("#03fe00").drawCircle(0,-52,4),s.name="mainCircle",this.timerLabel=C.createText(a,"timerLabel","center","middle","#03fe00","900 50px Lato",null),this.timerLabel.shadow=new createjs.Shadow("#03fe00",0,0,15),console.log("timerContainer",a),e()},o.prototype.setWaitTimer=function(e){console.log("WAIT TIMER",e),this.timerval=e,this.timerLabel.text=e.curr,this.tickStarted=0!==e.curr;var t=O.gameContainer.getChildByName("tableContainer").getChildByName("timerContainer");createjs.Tween.get(t).to({alpha:0===e.curr?0:1},0===e.curr?0:300),this.startTimer(e),0===e.curr&&(clearInterval(r.waitTimer),createjs.Tween.get(r.timerLabel,{loop:!1,override:!0}).to({rotation:0},80),r.clearTicker())},o.prototype.setTimer=function(e){var t=this;this.timerval=e,this.timerLabel.text=e.curr,e.curr===e.max&&D.playAudio("place_your_bets"),this.tickStarted=0!==e.curr,this.startTimer(e);var a,n,i=O.gameContainer.getChildByName("tableContainer").getChildByName("timerContainer");if(null===t.isStartedWithMax&&(t.isStartedWithMax=e.curr===e.max,O.animateBetHere(!O.isPlaceBetInfoVisible&&O.isBetHereVisible)),0===e.curr)T.disableChips(),k.hideMenu(),k.updateRebetStatus(!1),O.haveBet&&k.disableHome(!1),k.disableMenu(!1),setTimeout(function(){createjs.Ticker.off("tick",t.tickListener),t.isStartedWithMax=null,k.hideMenu(),k.disableMenu(!1)},1e3),setTimeout(function(){createjs.Tween.get(i).to({alpha:0},300),k.hideMenu(),k.disableMenu(!1)},200),setTimeout(function(){k.hideMenu(),k.disableMenu(!1)},500),O.bettingStatDisplay(!1),O.displayMinMaxContainer(!1),A.openTauntList(!1,9),d.displayStandingPlayerList(!1),"block"===C.alertCanvas.style.display&&("max limit"!==k.currentErrorCode&&"min limit"!==k.currentErrorCode||(k.hideAlert(),O.canBet=!0)),t.rebetStatusChanged=!1;else{1===e.curr&&setTimeout(function(){L.disableSeat(!0)},920),createjs.Tween.get(i).to({alpha:1},300),T.enableChips(),t.rebetStatusChanged||k.updateRebetStatus(k.enableRebet),t.rebetStatusChanged=!0,O.bettingStatDisplay(!0),L.disableSeat(!1);var o=O.gameContainer.getChildByName("tableContainer").getChildByName("cardSlotMainContainer");O.cardValueTgr.text=null,O.cardValueDrg.text=null;for(var r=0;r<2;r++)void 0,n=void 0,a=r,(n=o.getChildByName("cardSlotContainer-"+a)).children.length>0&&n.removeAllChildren()}},o.prototype.rotateCircle=function(e){var t=O.gameContainer.getChildByName("tableContainer").getChildByName("timerContainer").getChildByName("mainCircle"),a=(this.isStartedWithMax,1e3);this.isRotating||(this.isRotating=!0,t.rotation=e,createjs.Tween.get(t).to({rotation:360},this.timerval.curr*a))},o.prototype.shakeTimer=function(){console.log("------shakeTimer",this.isShaking),this.isShaking||(this.isShaking=!0,createjs.Tween.get(this.timerLabel,{loop:!0,reversed:!0}).to({rotation:10},80).to({rotation:-10},80))},o.prototype.startTimer=function(e){var t=this,a=O.gameContainer.getChildByName("tableContainer").getChildByName("timerContainer"),n=a.getChildByName("mainCircle"),i=a.getChildByName("innerSideCircle");O.gameContainer.getChildByName("bettingStatusContainer").getChildByName("bettingOpenStatusContainer").getChildByName("gradientLineContainer");t.timerLabel.text=e.curr,createjs.Tween.get(t.timerLabel).to({scale:1.2},100).to({scale:1},100);var o=i,r=e.max,l=e.curr,s=360/r*(r-l),c=-90,d=s,u=c*Math.PI/180,h=Math.min(360,c+d)*Math.PI/180;o.graphics.clear(),o.graphics.beginRadialGradientFill(["#111111","#111111"],[0,1],0,0,10,0,0,55).moveTo(0,0).arc(0,0,55,u,h),t.rotateCircle(d),console.log("TIMER",t.isTickAdded,t.tickListener),t.isTickAdded||(t.isTickAdded=!0,t.tickListener=createjs.Ticker.on("tick",function(e){l-=e.delta/1e3,d=s=360/r*(r-l),u=(c=-90)*Math.PI/180,h=Math.min(360,c+d)*Math.PI/180,o.graphics.clear(),o.graphics.beginRadialGradientFill(["#111111","#111111"],[0,1],0,0,10,0,0,55).moveTo(0,0).arc(0,0,55,u,h),d>=90&&d<=100?(t.timerLabel.color="#cdff01",t.timerLabel.shadow=new createjs.Shadow("#cdff01",0,0,15),n.graphics.clear(),n.graphics.beginFill("#cdff01").drawCircle(0,-52,4)):d>=100&&d<=170?(t.timerLabel.color="#fbff01",t.timerLabel.shadow=new createjs.Shadow("#fbff01",0,0,15),n.graphics.clear(),n.graphics.beginFill("#fbff01").drawCircle(0,-52,4)):d>=170&&d<=185?(t.timerLabel.color="#fcbd00",t.timerLabel.shadow=new createjs.Shadow("#fcbd00",0,0,15),n.graphics.clear(),n.graphics.beginFill("#fcbd00").drawCircle(0,-52,4)):d>=185&&d<=260?(t.timerLabel.color="#fe7b02",t.timerLabel.shadow=new createjs.Shadow("#fe7b02",0,0,15),n.graphics.clear(),n.graphics.beginFill("#fe7b02").drawCircle(0,-52,4)):d>=260&&d<=280?(t.timerLabel.color="#ff5901",t.timerLabel.shadow=new createjs.Shadow("#ff5901",0,0,15),n.graphics.clear(),n.graphics.beginFill("#ff5901").drawCircle(0,-52,4)):d>=280&&d<=360?(t.timerLabel.color="#ff0100",t.timerLabel.shadow=new createjs.Shadow("#ff0100",0,0,15),n.graphics.clear(),n.graphics.beginFill("#ff0100").drawCircle(0,-52,4),t.shakeTimer(),"TIME IS RUNNING OUT"!==O.statusLabel.text&&(O.statusLabel.text="TIME IS RUNNING OUT",O.statusLabel.color="#fae100",O.statusLabel.font="200 20px Carter",O.gradientLineTop.graphics.clear(),O.gradientLineTop.graphics.setStrokeStyle(3,"round").beginStroke("rgba(225, 221, 0, .6)").moveTo(-34.5,0).lineTo(34.5,0),O.gradientLineTop.shadow=new createjs.Shadow("#fae100",0,0,4),O.gradientLineBot.graphics.clear(),O.gradientLineBot.graphics.setStrokeStyle(3,"round").beginStroke("rgba(225, 221, 0, .6)").moveTo(-34.5,0).lineTo(34.5,0),O.gradientLineBot.shadow=new createjs.Shadow("#fae100",0,0,4))):d>360?createjs.Tween.get(t.timerLabel,{loop:!1,override:!0}).to({rotation:0},80):(t.timerLabel.color="#03fe00",t.timerLabel.shadow=new createjs.Shadow("#03fe00",0,0,15),n.graphics.clear(),n.graphics.beginFill("#03fe00").drawCircle(0,-52,4))}))},o.prototype.clearTimer=function(){this.time=0,this.timerLabel=null,this.tickStarted=!1,this.isShaking=!1,this.isRotating=!1,this.timerval={},this.isTickAdded=!1,this.tickListener=null,this.isStartedWithMax=null,this.rebetStatusChanged=!1},o.prototype.clearTicker=function(){console.log("TIMER CLEAR TICKER",this.isTickAdded),createjs.Ticker.off("tick",this.tickListener),this.time=0,this.tickStarted=!1,this.isShaking=!1,this.isRotating=!1,this.timerval={},this.isTickAdded=!1,this.tickListener=null,this.isStartedWithMax=null,this.rebetStatusChanged=!1};var r=new o,l=function(){this.time=0,this.timerLabel=null,this.tickStarted=!1,this.isShaking=!1,this.isRotating=!1,this.timerval={},this.isTickAdded=!1,this.tickListener=null,this.isStartedWithMax=null,this.rebetStatusChanged=!1,this.endTimer=null,this.endTimerContainer=null};l.prototype.createTimerContainer=function(){this.endTimerContainer=C.createContainer(O.waitForNextRoundContainer,"endTimerContainer",!0),this.endTimerContainer.y=-85,this.endTimerContainer.scaleY=this.endTimerContainer.scaleX=1.51,this.endTimerContainer.alpha=0;var e=this.endTimerContainer.addChild(new createjs.Shape);e.graphics.setStrokeStyle(2).beginLinearGradientStroke(["#FFF","#8F8F8F"],[0,1],0,20,0,60).beginFill("#000").drawCircle(0,0,56),e.name="outSideinnerCircle",e.shadow=new createjs.Shadow("rgba(0, 0, 0, .6)",0,6,9);var t=f.createSprite(this.endTimerContainer,f.tableSpriteSheet,"timerbg","timerBg",1);t.mask=e,t.shadow=new createjs.Shadow("rgba(0, 0, 0, 1)",0,0,12);var a=this.endTimerContainer.addChild(new createjs.Shape);a.graphics.beginRadialGradientFill(["#111111","#111111"],[0,1],0,0,10,0,0,55).moveTo(0,0).arc(0,0,55,0,0),a.name="innerSideCircle";var n=this.endTimerContainer.addChild(new createjs.Shape);n.graphics.setStrokeStyle(2).beginStroke("rgba(105, 110, 105, .2)").beginFill("#000").drawCircle(0,0,48),n.name="innerTimerCircle";var i=this.endTimerContainer.addChild(new createjs.Shape);i.graphics.setStrokeStyle(0).beginStroke("rgba(0,0,0,0)").beginLinearGradientFill(["rgba(0,0,0,0)","rgba(196,196,196,.4)","rgba(0,0,0,0)"],[0,1,1],0,0,0,45).drawCircle(0,0,45),i.name="gradient",i.scaleY=-1;var o=this.endTimerContainer.addChild(new createjs.Shape);o.graphics.beginFill("#03fe00").drawCircle(0,-52,4),o.name="mainCircle",this.timerLabel=C.createText(this.endTimerContainer,"timerLabel","center","middle","#03fe00","900 50px Lato",null),this.timerLabel.shadow=new createjs.Shadow("#03fe00",0,0,15),console.log("self.endTimerContainer",this.endTimerContainer)},l.prototype.setEndTimer=function(e){if(console.log("WAIT TIMER",e),!this.timerLabel)return!1;this.timerval=e,this.timerLabel.text=e.curr,this.tickStarted=0!==e.curr,createjs.Tween.get(s.endTimerContainer).to({alpha:0===e.curr?0:1},0===e.curr?0:300),this.startTimer(e),0===e.curr&&(clearInterval(s.endTimer),createjs.Tween.get(s.timerLabel,{loop:!1,override:!0}).to({rotation:0},80),s.clearTicker(),setTimeout(function(){s.clearTimer()},1e3))},l.prototype.rotateCircle=function(e){var t=s.endTimerContainer.getChildByName("mainCircle");this.isRotating||(this.isRotating=!0,t.rotation=e,createjs.Tween.get(t).to({rotation:360},1e3*this.timerval.curr))},l.prototype.shakeTimer=function(){console.log("------shakeTimer",this.isShaking),this.isShaking||(this.isShaking=!0,createjs.Tween.get(this.timerLabel,{loop:!0,reversed:!0}).to({rotation:10},80).to({rotation:-10},80))},l.prototype.startTimer=function(e){var t=this,a=t.endTimerContainer.getChildByName("mainCircle"),n=t.endTimerContainer.getChildByName("innerSideCircle");O.gameContainer.getChildByName("bettingStatusContainer").getChildByName("bettingOpenStatusContainer").getChildByName("gradientLineContainer");t.timerLabel.text=e.curr,createjs.Tween.get(t.timerLabel).to({scale:1.2},100).to({scale:1},100);var i=n,o=e.max,r=e.curr,l=360/o*(o-r),s=-90,c=l,d=s*Math.PI/180,u=Math.min(360,s+c)*Math.PI/180;i.graphics.clear(),i.graphics.beginRadialGradientFill(["#111111","#111111"],[0,1],0,0,10,0,0,55).moveTo(0,0).arc(0,0,55,d,u),t.rotateCircle(c),console.log("TIMER",t.isTickAdded,t.tickListener),t.isTickAdded||(t.isTickAdded=!0,t.tickListener=createjs.Ticker.on("tick",function(e){r-=e.delta/1e3,c=l=360/o*(o-r),d=(s=-90)*Math.PI/180,u=Math.min(360,s+c)*Math.PI/180,i.graphics.clear(),i.graphics.beginRadialGradientFill(["#111111","#111111"],[0,1],0,0,10,0,0,55).moveTo(0,0).arc(0,0,55,d,u),c>=90&&c<=100?(t.timerLabel.color="#cdff01",t.timerLabel.shadow=new createjs.Shadow("#cdff01",0,0,15),a.graphics.clear(),a.graphics.beginFill("#cdff01").drawCircle(0,-52,4)):c>=100&&c<=170?(t.timerLabel.color="#fbff01",t.timerLabel.shadow=new createjs.Shadow("#fbff01",0,0,15),a.graphics.clear(),a.graphics.beginFill("#fbff01").drawCircle(0,-52,4)):c>=170&&c<=185?(t.timerLabel.color="#fcbd00",t.timerLabel.shadow=new createjs.Shadow("#fcbd00",0,0,15),a.graphics.clear(),a.graphics.beginFill("#fcbd00").drawCircle(0,-52,4)):c>=185&&c<=260?(t.timerLabel.color="#fe7b02",t.timerLabel.shadow=new createjs.Shadow("#fe7b02",0,0,15),a.graphics.clear(),a.graphics.beginFill("#fe7b02").drawCircle(0,-52,4)):c>=260&&c<=280?(t.timerLabel.color="#ff5901",t.timerLabel.shadow=new createjs.Shadow("#ff5901",0,0,15),a.graphics.clear(),a.graphics.beginFill("#ff5901").drawCircle(0,-52,4)):c>=280&&c<=360?(t.timerLabel.color="#ff0100",t.timerLabel.shadow=new createjs.Shadow("#ff0100",0,0,15),a.graphics.clear(),a.graphics.beginFill("#ff0100").drawCircle(0,-52,4),t.shakeTimer()):c>360?createjs.Tween.get(t.timerLabel,{loop:!1,override:!0}).to({rotation:0},80):(t.timerLabel.color="#03fe00",t.timerLabel.shadow=new createjs.Shadow("#03fe00",0,0,15),a.graphics.clear(),a.graphics.beginFill("#03fe00").drawCircle(0,-52,4))}))},l.prototype.clearTimer=function(){this.time=0,this.timerLabel=null,this.tickStarted=!1,this.isShaking=!1,this.isRotating=!1,this.timerval={},this.isTickAdded=!1,this.tickListener=null},l.prototype.clearTicker=function(){createjs.Ticker.off("tick",this.tickListener),this.time=0,this.tickStarted=!1,this.isShaking=!1,this.isRotating=!1,this.timerval={},this.isTickAdded=!1,this.tickListener=null};var s=new l,c=function(){this.standingContentListContainer=null,this.standingScrollContainer=null,this.scrollBar=null,this.standplayerIcon=null,this.currentY=0,this.scrollStart=null,this.marker=!0,this.isCloseEnable=!1};c.prototype.createStandingContainer=function(e){var t=this,a=C.createContainer(O.gameContainer,"standingPlayerContainer",!0);a.x=-589,a.y=192,t.standplayerIcon=f.createSprite(a,f.tableSpriteSheet,"standingPlayerButton","standplayerIcon",1),O.standingplayerCount=C.createText(a,"standingplayerCount","center","middle","#FFF","900 22px Roboto CondensedBold",g.standingPlayers.length),O.standingplayerCount.y=30,C.addMouseOverandOut(a,1.1,1);var i=C.createCircle(a,"sHitarea","rgba(0, 0, 0, 1)",2,"rgba(255,255,255,1)",40,!1);a.hitArea=i;var o=C.createContainer(O.gameContainer,"standingPlayersListMainContainer",!1);o.x=-502,o.y=35,o.alpha=0;var r=C.createContainer(o,"standingPlayersListContainer",!0),l=(C.createRoundRect(r,"standingPlayerListBg","rgba(0, 0, 0, .9)",1,"#FFF",267,470,5,!0),C.createRoundRect(r,"standingPlayerListHitArea","rgba(0, 0, 0, 1)",1,"#FFF",267,470,5,!1));r.hitArea=l;var s=C.createContainer(r,"standingPlayerHeaderContainer",!0);s.y=-198,C.createText(s,"standingPlayerLabel","left","middle","#FCA204","900 14px LatoBlack",n.getTranslation("standingPlayer")).x=-106,C.createRect(s,"standingLine","#FFF",0,"rgba(0,0,0,0)",209,1,!0).y=25;var c=C.createContainer(o,"standingPlayerContentContainer",!0);c.y=14,t.standingScrollContainer=C.createContainer(c,"standingScrollContainer",!1),t.standingScrollContainer.x=107;C.createRoundRect(t.standingScrollContainer,"standingContentBG","#1A1A1A",0,"rgba(0,0,0,0)",10,363,5,!0);console.log("standingScrollContainer",t.standingScrollContainer);var d=C.createRect(c,"standingContentBG","rgba(0, 0, 0, 0)",0,"rgba(0,0,0,0)",210,372,!0);t.standingContentListContainer=C.createContainer(c,"standingContentListContainer",!0);var u=C.createRect(t.standingContentListContainer,"standingContentListBG","gray",0,"rgba(0,0,0,0)",210,372,!1);t.standingContentListContainer.hitArea=u;C.createContainer(t.standingContentListContainer,"standingAvatarsContainer",!0);t.standingContentListContainer.mask=d;var h=C.createContainer(O.gameContainer,"standingPlayerCloseContainer",!1);h.x=-590,h.y=190;C.createCircle(h,"standingPlayerCloseBg","rgba(255,255,255,1)",1,"rgba(255,255,255,1)",40,!0);var p=f.createSprite(h,f.panelSpriteSheet,"close","closeSprite",1.2),m=(new createjs.ColorMatrix).adjustBrightness(-200);p.filters=[new createjs.ColorMatrixFilter(m)],p.cache(-18,-18,36,36),C.addMouseOverandOut(h,1.1,1);O.gameContainer.getChildByName("standingPlayerOuterBG");a.on("click",function(){C.checkSession(function(e){e?(O.displayMinMaxContainer(!1),A.openTauntList(!1,10),t.displayStandingPlayerList(!0),console.log("visible open",o.visible)):C.displayAlert("invalid session")})}),h.on("click",function(){C.checkSession(function(e){e?t.isCloseEnable&&t.displayStandingPlayerList(!1):C.displayAlert("invalid session")})}),r.on("click",function(){});var b=null;t.standingContentListContainer.on("pressmove",function(e){b=null===b?e.rawY:b;var a=C.isMobile?25:20,n=u.graphics.command.h;if(b>e.rawY){var i=(n-372)/2*-1;if(t.standingContentListContainer.y=i<t.standingContentListContainer.y?t.standingContentListContainer.y-a:t.standingContentListContainer.y,t.scrollBar){var o=(363/n*363-363)/2*-1,r=a/n*363;t.scrollBar.y=o>t.scrollBar.y?t.scrollBar.y+r:t.scrollBar.y}}else{var l=(n-372)/2*1;if(t.standingContentListContainer.y=l>t.standingContentListContainer.y?t.standingContentListContainer.y+a:t.standingContentListContainer.y,t.scrollBar){var s=(363/n*363-363)/2;r=a/n*363;t.scrollBar.y=s<t.scrollBar.y?t.scrollBar.y-r:t.scrollBar.y}}}),t.standingContentListContainer.on("pressup",function(e){b=null}),e()},c.prototype.updateStanding=function(){var e=this,t=e.standingContentListContainer.getChildByName("standingContentListBG"),a=e.standingContentListContainer.getChildByName("standingAvatarsContainer"),n=g.standingPlayers.length>8?Math.round((g.standingPlayers.length-8)/2):0,i=g.standingPlayers.length>6?g.standingPlayers.length<8?438.5:438.5+110*n:372,o=(i-372)/2;if(t.graphics.clear(),t.graphics.setStrokeStyle(0).beginStroke("rgba(0,0,0,0)").beginFill("gray").drawRect(0,0,210,i),t.regX=t.graphics.command.w/2,t.regY=t.graphics.command.h/2,e.standingContentListContainer.y=o,e.scrollBar&&e.standingScrollContainer.removeChildAt(1),i>372){e.standingScrollContainer.visible=!0;var r=363/i*363;e.scrollBar=C.createRoundRect(e.standingScrollContainer,"scrollBar","#8E8C8D",0,"rgba(255,255,255,0)",10,r,5,!0),e.scrollBar.y=(r-363)/2,C.addMouseOverandOut(e.scrollBar,1.05,1);var l=null,s=C.isMobile?25:20;e.scrollBar.on("pressmove",function(a){l=null===l?a.rawY:l;var n=t.graphics.command.h;if(l>a.rawY){var i=(r-363)/2,o=s/n*363;e.scrollBar.y=i<e.scrollBar.y?e.scrollBar.y-o:e.scrollBar.y;var c=(n-372)/2*1;e.standingContentListContainer.y=c>e.standingContentListContainer.y?e.standingContentListContainer.y+s:e.standingContentListContainer.y}else{var d=(r-363)/2*-1;o=s/n*363;e.scrollBar.y=d>e.scrollBar.y?e.scrollBar.y+o:e.scrollBar.y;var u=(n-372)/2*-1;e.standingContentListContainer.y=u<e.standingContentListContainer.y?e.standingContentListContainer.y-s:e.standingContentListContainer.y}}),e.scrollBar.on("pressup",function(e){l=null})}else e.standingScrollContainer.visible=!1;var c=-1*(i/2-52.5);a.removeAllChildren();for(var d=0;d<g.standingPlayers.length;d++){var u=g.standingPlayers[d],h=d,p=C.createContainer(a,"seatContainer-"+h,!0);p.y=c,p.x=h%2>0?52.5:-52.5;var m=C.createContainer(p,"avatarButtonContainer",!0),b=m.addChild(new createjs.Shape);b.graphics.setStrokeStyle(0).beginStroke("rgba(0, 0, 0, 0)").beginLinearGradientFill(["#834612","#f1e597","#f1e597"],[0,.5,1],0,-20,0,80).drawCircle(0,0,38.5),b.name="seatBorder";var y=C.createCircle(m,"seatBg","rgba(0, 0, 0, .6)",0,"rgba(0, 0, 0, 0)",36.5,!0),v=m.addChild(new createjs.Shape);v.graphics.setStrokeStyle(0).beginStroke("rgba(0, 0, 0, 0)").beginLinearGradientFill(["rgba(255,255,255,.8)","rgba(0,0,0,0)","rgba(0,0,0,0)"],[0,1,.3],0,-22,0,50).drawCircle(0,0,25),v.name="topGradient",v.y=-10,f.createSprite(m,f.avatarSpriteSheet,"avatar"+u.avatar,"playerAvatarSprite",.178).mask=y;var S=C.createContainer(p,"displayNameContainer",!0);S.y=30;C.createRoundRectStrokeGradient(S,"displayNameBorder","rgba(0, 0, 0, .8)",1,["#834612","#f1e597","#f1e597"],78,22,5,!0,[0,.5,1],0,0,0,48),C.createText(S,"playerName","center","middle","#FFF","700 13px Roboto Condensed",L.formatName(u.displayname));c=h>0&&h%2>0?c+109:c}},c.prototype.displayStandingPlayerList=function(e){console.log("displayStandingPlayerList",e);var t=this,a=O.gameContainer.getChildByName("standingPlayersListMainContainer"),n=O.gameContainer.getChildByName("standingPlayerCloseContainer"),i=O.gameContainer.getChildByName("standingPlayerOuterBG"),o=O.gameContainer.getChildByName("bettingStatusContainer").getChildByName("bettingCloseStatusContainer"),r=O.gameContainer.getChildByName("resultContainer");if(e&&!o.alpha){if(r.visible)return!1;a.visible=!0,i.visible=!0,createjs.Tween.get(a).to({x:-455,y:-43,alpha:1},150).call(function(){t.standplayerIcon.visible=!1,n.visible=!0,t.isCloseEnable=!0,t.currentY=a.visible?t.currentY:null})}else t.standplayerIcon.visible=!0,createjs.Tween.get(a,{override:!0}).to({x:-502,y:35,alpha:0},150).call(function(){n.visible=!1,a.visible=!1,t.isCloseEnable=!1,t.currentY=a.visible?t.currentY:null}),i.visible=!1},c.prototype.scrollList=function(e){this.scrollStart=null===this.scrollStart?e:this.scrollStart;var t=this.standingContentListContainer.getChildByName("standingContentListBG").graphics.command.h;if(this.scrollStart>e){var a=(t-372)/2*-1;this.standingContentListContainer.y=a<this.standingContentListContainer.y?this.standingContentListContainer.y-5:this.standingContentListContainer.y}else{var n=(t-372)/2*1;this.standingContentListContainer.y=n>this.standingContentListContainer.y?this.standingContentListContainer.y+5:this.standingContentListContainer.y}},c.prototype.clearStanding=function(){this.standingContentListContainer=null,this.standingScrollContainer=null,this.scrollBar=null,this.standplayerIcon=null,this.currentY=0,this.scrollStart=null,this.marker=!0,this.isCloseEnable=!1};var d=new c,u=function(){this.list=[{pos:1,x:-580,y:-160},{pos:2,x:-580,y:-30},{pos:3,x:-580,y:100},{pos:4,x:-580,y:230},{pos:5,x:580,y:-160},{pos:6,x:580,y:-30},{pos:7,x:580,y:100},{pos:8,x:580,y:230}],this.avatarList=[{index:1,id:"avatar1",image:1},{index:2,id:"avatar2",image:2},{index:3,id:"avatar3",image:3},{index:4,id:"avatar4",image:4},{index:5,id:"avatar5",image:5},{index:6,id:"avatar6",image:6},{index:7,id:"avatar7",image:7},{index:8,id:"avatar8",image:8},{index:9,id:"avatar9",image:9},{index:10,id:"avatar10",image:10}],this.carousel=[{x:0,y:-40,scale:1.27,saturation:0,stroke:"rgba(255, 197, 0, 1)"},{x:235,y:-20,scale:.64,saturation:-30,stroke:"rgba(150, 150, 150, 1)"},{x:160,y:-80,scale:.495,saturation:-60,stroke:"rgba(150, 150, 150, 1)"},{x:-160,y:-80,scale:.495,saturation:-60,stroke:"rgba(150, 150, 150, 1)"},{x:-235,y:-20,scale:.64,saturation:-30,stroke:"rgba(150, 150, 150, 1)"}],this.avatarContainerList=null,this.indicatorContainerList=null,this.avatarContentContainer=null,this.arrowContainerList=null,this.isOpen=!1,this.switchActive=!1,this.switchEnabled=!0,this.selectedAvatar=Number(userData.avatar),this.active=Number(userData.avatar),this.temp=[],this.currentAvatarText=null};u.prototype.createAvatarSelection=function(e){var a=this;a.avatarContentContainer=e,a.createList(),a.createArrows(),a.createIndicator();var i=C.createContainer(a.avatarContentContainer,"playerDetailsContainer",!0);C.createText(i,"displaynameText","left","middle","#FFF","900 18px Roboto Condensed","DISPLAYNAME: "+userData.displayname.toUpperCase());a.currentAvatarText=C.createText(i,"currentAvatarText","left","middle","#FFF","900 18px Roboto Condensed",n.getTranslation("currentAvatar")),i.x=-450,i.y=-157,a.currentAvatarText.y=25,console.log("playerDetailsContainer",i);var o=C.createContainer(a.avatarContentContainer,"confirmButtonContainer",!0);C.createRoundRect(o,"confirmButtonBg","#FFF",1,"#FFF",74,42,4,!0),C.createText(o,"confirmLabel","center","middle","#2e2e2e ","900 20px Roboto Condensed",n.getTranslation("Confirm"));o.y=204,C.addMouseOverandOut(o,1.2,1),o.on("click",function(){a.selectedAvatar=a.active,a.reloadImages(),t.emit("change avatar",a.active),k.hideMenu()})},u.prototype.createList=function(){var e=this;if(e.avatarContainerList=e.avatarContentContainer.addChild(new createjs.Container),e.avatarContainerList.name="avatarContainerList",e.avatarContainerList.y=42,C.isMobile){var t=null;e.avatarContainerList.on("pressmove",function(e){t=null===t?e.rawX:t}),e.avatarContainerList.on("pressup",function(a){a.rawX>=t?(e.switchAvatar(null,{type:0,avatar:e}),console.log("pressmove <<<<",t,a.rawX,0),t=null):(e.switchAvatar(null,{type:1,avatar:e}),console.log("pressmove >>>>",t,a.rawX,1),t=null),console.log("pressup >>>>",t)})}for(var a=0,n=0;a<e.avatarList.length;a++){var i=e.avatarList[a],o=e.avatarContainerList.numChildren,r=e.avatarContainerList.addChildAt(new createjs.Container,2==o||o==e.avatarList.length-2?1:o);r.name="avatarContainer-"+(a+1),a>=0&&a<=2||a>=e.avatarList.length-2&&a<=e.avatarList.length?(r.x=e.carousel[n].x,r.y=e.carousel[n].y,r.scale=e.carousel[n].scale,n++):r.visible=!1;var l=r.addChild(new createjs.Shape);l.name="avatarBorder",l.graphics.beginStroke("rgba(255, 197, 0, 1)").setStrokeStyle(5).beginFill("rgba(255, 0, 255, 1)").drawCircle(0,0,130),l.shadow=new createjs.Shadow("#000",0,0,15);var s=r.addChild(new createjs.Sprite(f.avatarSpriteSheet));s.gotoAndStop("avatar"+i.image),s.name="avatarImage",s.mask=l}var c=e.avatarContainerList.getChildAt(0);e.avatarContainerList.setChildIndex(c,e.avatarList.length-1),console.log("avatarContainerList",e.avatarContainerList)},u.prototype.createIndicator=function(){this.indicatorContainerList=this.avatarContentContainer.addChild(new createjs.Container),this.indicatorContainerList.name="indicatorContainerList",this.indicatorContainerList.x=-55*this.avatarList.length/2+15,this.indicatorContainerList.y=-190;for(var e=0;e<this.avatarList.length;e++){this.avatarList[e];var t=this.indicatorContainerList.addChild(new createjs.Container);t.name="indicatorContainer-"+(e+1),t.x=55*e;var a=t.addChild(new createjs.Sprite(f.bulbSpriteSheet));a.name="indicatorOff",a.gotoAndStop("selected_off");var n=t.addChild(new createjs.Sprite(f.bulbSpriteSheet));n.name="indicatorActive",n.gotoAndStop("selected_on"),n.visible=!1}console.log("indicatorContainerList",this.indicatorContainerList)},u.prototype.createArrows=function(){this.arrowContainerList=this.avatarContentContainer.addChild(new createjs.Container),this.arrowContainerList.name="arrowContainerList";for(var e=0;e<2;e++){var t=this.arrowContainerList.addChild(new createjs.Container);if(t.name="buttonContainer",t.x=0==e?-476:476,t.cursor="pointer",C.isMobile){var a=new createjs.Shape;a.graphics.f("white").dr(0,0,60,120),a.regX=a.graphics.command.w/2,a.regY=a.graphics.command.h/2,t.hitArea=a}t.on("click",this.switchAvatar,null,!1,{type:e,avatar:this}),t.on("mouseover",i),t.on("mouseout",o),C.createBitmap(t,"arrow","arrowImage",.85).rotation=0==e?90:-90;var n=C.createRect(t,"buttonHitArea","#FFF",0,"#000",30,40,!1);t.hitArea=n,console.log("buttonContainer",t)}function i(e){e.target.scale=1.2}function o(e){e.target.scale=1}},u.prototype.switchAvatar=function(e,t){var a=t.avatar;if(!a.switchActive)if(a.switchActive=!0,0==t.type?(a.active=1==a.active?a.avatarList.length:a.active-1,a.animateAvatar(a.active,t.type)):(a.active=a.active==a.avatarList.length?1:a.active+1,a.animateAvatar(a.active,t.type)),a.currentAvatarText.visible=a.active===a.selectedAvatar,e){var n=e.target;createjs.Tween.hasActiveTweens(n)||(C.isMobile?createjs.Tween.get(n).to({scale:.5},50).wait(100).to({scale:1},50).call(function(){a.switchActive=!1}):createjs.Tween.get(n).to({scale:1},50).wait(100).to({scale:1.2},50).call(function(){a.switchActive=!1}))}else setTimeout(function(){a.switchActive=!1},220)},u.prototype.animateAvatar=function(e,t){var a=this;if(a.switchEnabled){a.switchEnabled=!1;for(var n=0,i=0,o=0;n<a.avatarList.length;n++)!function(){var r=a.avatarContainerList.getChildByName("avatarContainer-"+(n+1));if(n>=0&&n<=2||n>=a.avatarList.length-2&&n<=a.avatarList.length){if(0==t)switch(n){case 0:i=1;break;case 1:i=2;break;case 2:i=3;break;case a.avatarList.length-2:i=a.carousel.length-1;break;case a.avatarList.length-1:i=0}else if(1==t)switch(n){case 0:i=a.carousel.length-1;break;case 1:i=0;break;case 2:i=1;break;case a.avatarList.length-2:i=2;break;case a.avatarList.length-1:i=3}createjs.Tween.get(r,{override:!0}).to({x:a.carousel[i].x,y:a.carousel[i].y,scale:a.carousel[i].scale},250).call(function(){++o==a.carousel.length&&(a.rotateImages(e),a.reloadIndicator(),a.reloadImages(),a.reloadDisplay(),a.switchEnabled=!0)})}}()}},u.prototype.rotateImages=function(e){this.temp=[],this.temp=this.temp.concat(this.avatarList);for(var t=1;t<e;t++)this.temp.push(this.temp.shift())},u.prototype.reloadImages=function(){for(var e=0,t=0;e<this.temp.length;e++){var a=this.temp[e],n=this.avatarContainerList.getChildByName("avatarContainer-"+(e+1)),i=n.getChildByName("avatarBorder"),o=n.getChildByName("avatarImage");if(o.gotoAndStop(a.id),o.scaleX=300/o.spriteSheet._frameWidth,o.scaleY=300/o.spriteSheet._frameHeight,e>=0&&e<=2||e>=this.temp.length-2&&e<=this.temp.length){i.graphics._stroke.style=this.selectedAvatar==a.image?"rgba(255, 197, 0, 1)":"rgba(150, 150, 150, 1)";var r=(new createjs.ColorMatrix).adjustSaturation(this.carousel[t].saturation);o.filters=[new createjs.ColorMatrixFilter(r)],o.cache(-200,-200,400,400),t++}else o.uncache()}this.currentAvatarText.visible=this.active===this.selectedAvatar},u.prototype.reloadDisplay=function(){for(var e=0,t=0;e<this.avatarList.length;e++){var a=this.avatarContainerList.getChildByName("avatarContainer-"+(e+1));(e>=0&&e<=2||e>=this.avatarList.length-2&&e<=this.avatarList.length)&&(a.x=this.carousel[t].x,a.y=this.carousel[t].y,a.scale=this.carousel[t].scale,t++)}},u.prototype.reloadIndicator=function(){for(var e=0;e<this.avatarList.length;e++){var t=e+1;this.indicatorContainerList.getChildByName("indicatorContainer-"+t).getChildByName("indicatorActive").visible=t==this.active}},u.prototype.reload=function(){var e=this;e.active=e.avatarList.findIndex(t=>t.image===e.selectedAvatar),e.active=e.active+1,e.rotateImages(e.active),e.reloadIndicator(),e.reloadImages(),e.reloadDisplay()},u.prototype.clearAvatar=function(){this.avatarContainerList=null,this.indicatorContainerList=null,this.avatarContentContainer=null,this.arrowContainerList=null,this.isOpen=!1,this.switchActive=!1,this.switchEnabled=!0,this.selectedAvatar=Number(userData.avatar),this.active=Number(userData.avatar),this.temp=[],this.currentAvatarText=null};var h=new u,p=function(){this.playerInfo=userData,this.playerBetsResult=[{pos:-1,totalAmount:0,totalPayout:0},{pos:0,totalAmount:0,totalPayout:0},{pos:1,totalAmount:0,totalPayout:0},{pos:2,totalAmount:0,totalPayout:0},{pos:3,totalAmount:0,totalPayout:0},{pos:4,totalAmount:0,totalPayout:0},{pos:5,totalAmount:0,totalPayout:0}],this.players=[],this.standingPlayers=[],this.playerIndex=null,this.tempStanding=[{pos:-1,avatar:"1",displayname:"DIAMOND000001"},{pos:-1,avatar:"2",displayname:"DIAMOND000002"},{pos:-1,avatar:"3",displayname:"DIAMOND000003"},{pos:-1,avatar:"4",displayname:"DIAMOND000004"},{pos:-1,avatar:"5",displayname:"DIAMOND000005"},{pos:-1,avatar:"6",displayname:"DIAMOND000006"},{pos:-1,avatar:"7",displayname:"DIAMOND000007"},{pos:-1,avatar:"8",displayname:"DIAMOND000008"},{pos:-1,avatar:"9",displayname:"DIAMOND000009"},{pos:-1,avatar:"10",displayname:"SPADE0000010"},{pos:-1,avatar:"1",displayname:"SPADE000001"},{pos:-1,avatar:"2",displayname:"SPADE000002"},{pos:-1,avatar:"3",displayname:"SPADE000003"},{pos:-1,avatar:"4",displayname:"SPADE000004"},{pos:-1,avatar:"5",displayname:"SPADE000005"},{pos:-1,avatar:"6",displayname:"SPADE000006"},{pos:-1,avatar:"7",displayname:"SPADE000007"},{pos:-1,avatar:"8",displayname:"SPADE000008"},{pos:-1,avatar:"9",displayname:"SPADE000009"},{pos:-1,avatar:"10",displayname:"SPADE0000010"},{pos:-1,avatar:"1",displayname:"HEART000001"},{pos:-1,avatar:"2",displayname:"HEART000002"},{pos:-1,avatar:"3",displayname:"HEART000003"},{pos:-1,avatar:"4",displayname:"HEART000004"},{pos:-1,avatar:"5",displayname:"HEART000005"},{pos:-1,avatar:"6",displayname:"HEART000006"},{pos:-1,avatar:"7",displayname:"HEART000007"},{pos:-1,avatar:"8",displayname:"HEART000008"},{pos:-1,avatar:"9",displayname:"HEART000009"},{pos:-1,avatar:"10",displayname:"HEART0000010"}]};p.prototype.updatePlayers=function(e){if(r.timerval.curr<1&&(this.players=[]),this.standingPlayers=[],this.players.length<1)this.players=e,this.updateStandingPlayers(e);else for(var t=0;t<e.length;t++){var a=e[t];this.playerIndex=a.displayname===this.playerInfo.displayname?t:null;var n=this.players.findIndex(e=>e.displayname===a.displayname);if(a.pos<0&&this.standingPlayers.push(a),n>-1){var i=n;this.players[i].pos=a.pos,this.players[i].avatar=a.avatar}else this.players.push(a);O.standingplayerCount.text=t===e.length-1?this.standingPlayers.length:O.standingplayerCount.text}d.updateStanding(),console.log("self.players",this.players,this.standingPlayers)},p.prototype.updateStandingPlayers=function(e){this.standingPlayers=[];for(var t=0;t<e.length;t++){var a=e[t];this.playerIndex=a.displayname===this.playerInfo.displayname?t:null,a.pos<0&&this.standingPlayers.push(a),O.standingplayerCount.text=t===e.length-1?this.standingPlayers.length:O.standingplayerCount.text}},p.prototype.storeBets=function(e){var t=this.players.findIndex(t=>t.displayname===e.displayname);if(!this.players[t])return!1;var a=e.betAmount*(e.er/userData.exchangeRate.value);this.players[t].bets?("DRG"!==e.betType&&"TGR"!==e.betType||(this.players[t].totalBets[e.betType]+=a),this.players[t].bets.push({betAmount:a,betType:e.betType,destination:e.destination,er:e.er})):(this.players[t].bets=[],this.players[t].totalBets={DRG:0,TGR:0},this.players[t].bets.push({betAmount:a,betType:e.betType,destination:e.destination,er:e.er}),"DRG"!==e.betType&&"TGR"!==e.betType||(this.players[t].totalBets[e.betType]+=a))},p.prototype.clearPlayer=function(){this.playerInfo=userData,this.playerBetsResult=[{pos:-1,totalAmount:0,totalPayout:0},{pos:0,totalAmount:0,totalPayout:0},{pos:1,totalAmount:0,totalPayout:0},{pos:2,totalAmount:0,totalPayout:0},{pos:3,totalAmount:0,totalPayout:0},{pos:4,totalAmount:0,totalPayout:0},{pos:5,totalAmount:0,totalPayout:0}],this.players=[],this.standingPlayers=[],this.playerIndex=null};var g=new p,m=function(){this.selectedChip=0,this.betsContainer=null,this.gameStage=null,this.alertStage=null,this.roadmapStage=null,this.mainContainer=null,this.alertMainContainer=null,this.roadmapMainContainer=null,this.isFullScreen=!1,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),this.balance=null,this.playerBalance=null,this.playerBalanceDisplay=null,this.alertCanvas=null,this.delayBalanceUpdate=!1,this.grayMatrix=(new createjs.ColorMatrix).adjustHue(0).adjustSaturation(0),this.isWindowActive=!0,this.isSocketDisconnected=!1,this.isSBO=!!isSBO,this.reconstructTotalBet=0,this.balanceFromSocket=0,this.tableUrl=null,this.tableState=null};m.prototype.createStage=function(e){this.gameStage||this.alertStage||(this.gameStage=new createjs.Stage(document.getElementById("gameStage")),this.gameStage.name="gameStage",this.alertStage=new createjs.Stage(document.getElementById("alertStage")),this.alertStage.name="alertStage",this.alertCanvas=document.getElementById("alertStage"),this.alertCanvas.style.display="none",this.isMobile?(createjs.Touch.enable(this.gameStage),createjs.Touch.enable(this.alertStage)):(this.gameStage.enableMouseOver(),this.alertStage.enableMouseOver())),this.createMainContainer(e)},m.prototype.createMainContainer=function(e){this.mainContainer||this.alertMainContainer?C.mainContainer.uncache(-640,-360,1280,720):(this.mainContainer=this.gameStage.addChild(new createjs.Container),this.mainContainer.name="mainContainer",this.mainContainer.x=this.gameStage.canvas.width/2,this.mainContainer.y=this.gameStage.canvas.height/2,this.alertMainContainer=this.alertStage.addChild(new createjs.Container),this.alertMainContainer.name="alertMainContainer",this.alertMainContainer.x=this.alertStage.canvas.width/2,this.alertMainContainer.y=this.alertStage.canvas.height/2),console.log("##CANVAS mainContainer",this.mainContainer),console.log("##CANVAS alertMainContainer",this.alertMainContainer),e()},m.prototype.updateGameStage=function(e){C.gameStage.update(),C.alertStage.update()},m.prototype.createRect=function(e,t,a,n,i,o,r,l){var s=e.addChild(new createjs.Shape);return s.name=t,s.graphics.setStrokeStyle(n).beginStroke(i).beginFill(a).drawRect(0,0,o,r),s.regX=s.graphics.command.w/2,s.regY=s.graphics.command.h/2,s.visible=l,s},m.prototype.createRectGradient=function(e,t,a,n,i,o,r,l,s,c,d,u,h){var p=e.addChild(new createjs.Shape);return p.name=t,p.graphics.setStrokeStyle(a).beginStroke(n).beginLinearGradientFill(l,s,c,d,u,h).drawRect(0,0,i,o),p.regX=p.graphics.command.w/2,p.regY=p.graphics.command.h/2,p.visible=r,p},m.prototype.createCircle=function(e,t,a,n,i,o,r){var l=e.addChild(new createjs.Shape);return l.name=t,l.graphics.setStrokeStyle(n).beginStroke(i).beginFill(a).drawCircle(0,0,o),l.visible=r,l},m.prototype.createRoundRect=function(e,t,a,n,i,o,r,l,s){var c=e.addChild(new createjs.Shape);return c.name=t,c.graphics.setStrokeStyle(n).beginStroke(i).beginFill(a).drawRoundRect(0,0,o,r,l),c.regX=c.graphics.command.w/2,c.regY=c.graphics.command.h/2,c.visible=s,c},m.prototype.clearRoundRect=function(e,t,a,n,i,o,r,l){e.graphics.clear(),e.graphics.setStrokeStyle(a).beginStroke(n).beginFill(t).drawRoundRect(0,0,i,o,r),e.regX=e.graphics.command.w/2,e.regY=e.graphics.command.h/2,e.visible=l},m.prototype.createRoundRectStrokeGradient=function(e,t,a,n,i,o,r,l,s,c,d,u,h,p){var g=e.addChild(new createjs.Shape);return g.name=t,g.graphics.setStrokeStyle(n).beginLinearGradientStroke(i,c,d,u,h,p).beginFill(a).drawRoundRect(0,0,o,r,l),g.regX=g.graphics.command.w/2,g.regY=g.graphics.command.h/2,g.visible=s,g},m.prototype.createRoundRectComplex=function(e,t,a,n,i,o,r,l,s){var c=e.addChild(new createjs.Shape);return c.name=t,c.graphics.setStrokeStyle(n).beginStroke(i).beginFill(a).drawRoundRectComplex(0,0,o,r,l[0],l[1],l[2],l[3]),c.regX=c.graphics.command.w/2,c.regY=c.graphics.command.h/2,c.visible=s,c},m.prototype.createContainer=function(e,t,a){var n=e.addChild(new createjs.Container);return n.name=t,n.visible=a,n},m.prototype.createText=function(e,t,a,n,i,o,r){var l=e.addChild(new createjs.Text);return l.name=t,l.textAlign=a,l.textBaseline=n,l.color=i,l.font=o,l.text=r,l},m.prototype.createBitmap=function(e,t,a,n){var i=e.addChild(new createjs.Bitmap(y.loadQueue.getResult(t)));return i.name=a,i.regX=i.image.width/2,i.regY=i.image.height/2,i.scale=n,i},m.prototype.createLoadingBitmap=function(e,t,a,n,i){var o=e.addChild(new createjs.Bitmap(i.getResult(t)));return o.name=a,o.scale=n,o},m.prototype.createPolystar=function(e,t,a,n,i,o,r,l,s){var c=e.addChild(new createjs.Shape);return c.name=t,c.graphics.setStrokeStyle(n).beginStroke(i).beginFill(a).drawPolyStar(0,0,o,r,l,s),c.regY=c.graphics.command.radius/2,c},m.prototype.addMouseOverandOut=function(e,t,a){e.on("mouseover",function(a){if(O.isDrawingPhase)return!1;e.cursor="pointer",createjs.Tween.get(e).to({scaleX:t,scaleY:t},100)}),e.on("mouseout",function(t){e.cursor="default",createjs.Tween.get(e).to({scaleX:a,scaleY:a},100)}),e.on("mousedown",function(t){createjs.Tween.get(e).to({scaleX:a,scaleY:a},100)})},m.prototype.applyFullScreen=function(){var e=document.fullscreenElement&&null!==document.fullscreenElement||document.webkitFullscreenElement&&null!==document.webkitFullscreenElement||document.mozFullScreenElement&&null!==document.mozFullScreenElement||document.msFullscreenElement&&null!==document.msFullscreenElement;this.isFullScreen=!e;var t=document.documentElement;this.isFullScreen?t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen():document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},m.prototype.animateBalance=function(e,t,a){var n=this,i=e,o=t,r={};r.duration=200,r.distance=o-i,r.start=(new Date).getTime(),r.end=r.start+r.duration,Math.floor(i)!==Math.floor(o)&&createjs.Ticker.addEventListener("tick",function e(){var t=(new Date).getTime(),o=Math.min((r.duration-(r.end-t))/r.duration,1),l=Number(i)+Number(r.distance*o);setTimeout(function(){n.balance=l,n.playerBalance=n.balance,n.playerBalanceDisplay=n.balance>0?n.balance.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):n.balance,a(n.playerBalanceDisplay,n.balance)}),o>=1&&createjs.Ticker.removeEventListener("tick",e)})},m.prototype.animateNumber=function(e,t,a){var n=this,i=e,o=t,r={};r.duration=200,r.distance=o-i,r.start=(new Date).getTime(),r.end=r.start+r.duration,Math.floor(i)!==Math.floor(o)&&createjs.Ticker.addEventListener("tick",function e(){var t=(new Date).getTime(),o=Math.min((r.duration-(r.end-t))/r.duration,1),l=i+r.distance*o;setTimeout(function(){n.balance=l,n.playerBalance=n.balance,n.playerBalanceDisplay=n.balance>0?n.balance.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):n.balance,a(n.playerBalanceDisplay,n.balance)}),o>=1&&createjs.Ticker.removeEventListener("tick",e)})},m.prototype.addDelay=function(e,t){setTimeout(function(){e()},t)},m.prototype.randomOrigin=function(e){var t=Math.floor(2*Math.random()),a=Math.random()*e;return t<1?a:-1*a},m.prototype.getRandomVal=function(e){return Math.floor(Math.random()*e)},m.prototype.intToPos=function(e){return e<1?-1*e:e},m.prototype.addDecimal=function(e,t){return parseFloat(Math.round(100*e)/100).toFixed(t)},m.prototype.createSBSpecialShape=function(e,t,a,n,i,o){var r=new createjs.Shape;return r.name=t,r.graphics.beginFill(a),r.graphics.setStrokeStyle(n).beginStroke(i),r.graphics.moveTo(-126,-43.5),r.graphics.lineTo(100,-43.5),r.graphics.arcTo(130,-43.5,130,55,8),r.graphics.lineTo(130,48),r.graphics.arcTo(130,55,100,55,8),r.graphics.lineTo(-78,55),r.graphics.quadraticCurveTo(-100,48,-120,10),r.graphics.bezierCurveTo(-130,-15,-135,-40,-126,-43.5),r.visible=o,e.addChild(r),r},m.prototype.createSBSpecialShapeBoundary=function(e,t,a,n,i,o){var r=new createjs.Shape;return r.name=t,r.graphics.beginFill(a).setStrokeStyle(n).beginStroke("strokeF").moveTo(-126,-43.5).lineTo(-111,-43.5).quadraticCurveTo(-110,10,-60,55).lineTo(-78,55).quadraticCurveTo(-100,48,-120,10).bezierCurveTo(-130,-15,-135,-40,-126,-43.5),r.visible=o,e.addChild(r),r},m.prototype.getCardValue=function(e){var t=Number(e.replace(/\D/g,""));if(!t)switch(e[0]){case"A":t=1;break;case"J":t=11;break;case"Q":t=12;break;case"K":t=13}return t},m.prototype.formatAmount=function(e){var t;if((e="undefined"===e||void 0===e?0:e)>999&&e<1e6)t=(a=e.toString()).substring(0,a.length-3),t=(n=a[a.length-3])>0?t+"."+n+"K":t+"K";else if(e>999999&&e<1e9){t=(a=e.toString()).substring(0,a.length-6),t=(n=a[a.length-6])>0?t+"."+n+"M":t+"M"}else if(e>999999999&&e<1e12){var a,n;t=(a=e.toString()).substring(0,a.length-12),t=(n=a[a.length-12])>0?t+"."+n+"B":t+"B"}else t=e;return t},m.prototype.checkSession=function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==t.readyState&&200==t.status)try{JSON.parse(t.response).st>0?(console.log("CHECK SESSION 1",!1),e(!1)):(console.log("CHECK SESSION 2",!0),e(!0))}catch(t){console.log("CHECK SESSION 3",!1,t),e(!1)}},t.onerror=function(t){console.log("CHECK SESSION 4",!1),e(!1)},t.open("GET",wsPath+"/browse",!0),t.send(null)},m.prototype.displayAlert=function(e){var t=this;k.setAlert(e,function(a){if(a){var n=i.list[e].action;t.isSBO&&"windowClose"===n&&t.isMobile&&(n="gotoLogin"),(0,i[n])()}k.hideAlert()})},m.prototype.formatLimit=function(e,t){return this.formatAmount(e)+" - "+this.formatAmount(t)},m.prototype.addMouseOverandOutBrightness=function(e,t,a,n,i){var o=(new createjs.ColorMatrix).adjustBrightness(50);e.on("mouseover",function(r){e.cursor="pointer",e.filters=[new createjs.ColorMatrixFilter(o)],e.cache(t,a,n,i)}),e.on("mouseout",function(t){e.cursor="default",e.uncache()}),e.on("mousedown",function(t){e.uncache()})},m.prototype.clearCGen=function(){this.selectedChip=0,this.betsContainer=null,this.isFullScreen=!1,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),this.balance=null,this.playerBalance=null,this.playerBalanceDisplay=null,this.delayBalanceUpdate=!1,this.grayMatrix=(new createjs.ColorMatrix).adjustHue(0).adjustSaturation(0),this.isWindowActive=!0},m.prototype.subtractToBalance=function(e,t){var a=this;if(t){console.log("BAAAAAAL GET MY BALANCE subtract",a.balanceFromSocket,a.reconstructTotalBet),a.reconstructTotalBet=a.reconstructTotalBet+e;var n=a.balanceFromSocket-a.reconstructTotalBet;setTimeout(function(){var e=n;O.balanceTemp=n,a.animateBalance(k.balance,e,function(t,a){k.balance=e;k.balanceValue.text=t||0})},k.balance<1?0:100),a.reconstructTotalBet=0}else a.reconstructTotalBet=a.reconstructTotalBet+e},m.prototype.getRebetValues=function(){var e={bets:{},totalRebetAmount:0};O.totalRebetAmount=0;var t=O.rebetValues,a=0;for(var n in t)if(n.length<4&&(e.bets[n]=t[n],e.totalRebetAmount=e.totalRebetAmount+t[n].stake),a+=1,Object.values(O.rebetValues).length===a)return e},m.prototype.pushStateHistory=function(){this.tableUrl=window.location},m.prototype.tableLimitClosed=function(e){var t=e,a=1===t?"table limit close":"all table limit close";k.setAlert(a,function(e){if(e){var n=t,o=1===n?"table limit close":"all table limit close",r=i[i.list[o].action];console.log("tableLimitClosed",n,a,i.list[o].action),r()}k.hideAlert()})};var C=new m;window.onpopstate=function(e){},window.addEventListener("orientationchange",function(){}),document.addEventListener("visibilitychange",function(e){console.log("visibilitychange",e.target.hidden),C.isWindowActive=!e.target.hidden,e.target.hidden||(t.emit("check state"),r.clearTicker())}),document.addEventListener("contextmenu",function(e){e.preventDefault()});var b=function(){this.loadComplete=!1,this.loadQueue=null,this.resources=[{id:"table",src:rsPath+"/images/main table.png"},{id:"arrow",src:rsPath+"/images/arrow.png"},{id:"footer",src:rsPath+"/images/footer.png"},{id:"bethere_main",src:rsPath+"/images/bethere-main.png"},{id:"bethere_sub",src:rsPath+"/images/bethere-sub.png"},{id:"bethere_subspec",src:rsPath+"/images/bethere-subspec.png"},{id:"bethere_tie",src:rsPath+"/images/bethere-tie.png"},{id:"placebetinfo",src:rsPath+"/images/place bet info.png"},{id:"placebetinfo_sbo",src:rsPath+"/images/place bet info sbo.png"},{id:"check",src:rsPath+"/images/check.png"},{id:"cards",src:rsPath+"/images/sprites/card.png"},{id:"panel_icons",src:rsPath+"/images/sprites/icons.png"},{id:"card_shuffling",src:rsPath+"/images/sprites/card shuffling.png"},{id:"avatar",src:rsPath+"/images/sprites/avatar.png"},{id:"selection",src:rsPath+"/images/sprites/selection.png"},{id:"shining",src:rsPath+"/images/sprites/result shining.png"},{id:"seat_border",src:rsPath+"/images/sprites/seat border.png"},{id:"rebet_border",src:rsPath+"/images/sprites/rebet border.png"},{id:"table_sprites",src:rsPath+"/images/sprites/table sprites.png"},{id:"result_icons",src:rsPath+"/images/sprites/result icons.png"},{id:"game_guide",src:rsPath+"/images/sprites/game guide sprites.png"},{id:"decimal_chip",src:rsPath+"/images/sprites/decimal chip.png"},{id:"report_table",src:rsPath+"/images/report table.png"}],this.loadingResources=[{id:"logo",src:rsPath+"/images/logo.png"},{id:"loading_bar",src:rsPath+"/images/loading bar.png"},{id:"loading_bg",src:rsPath+"/images/loadingbg.png"}],this.audio=[{id:"intro",src:rsPath+"/sounds/introfinal.mp3",autoplay:!0},{id:"bg",src:rsPath+"/sounds/loopingfinal.ogg",loop:!0},{id:"chip",src:rsPath+"/sounds/Coin - for chip.mp3"},{id:"hand_values",src:rsPath+"/sounds/Dragon Tiger Hand Values.mp3",sprite:{DRG1:[450,1e3],DRG2:[2050,930],DRG3:[3670,850],DRG4:[5300,930],DRG5:[7050,1090],DRG6:[8960,1070],DRG7:[10620,975],DRG8:[12330,950],DRG9:[14040,1030],DRG10:[15765,1010],DRG11:[17470,1100],DRG12:[19210,1030],DRG13:[20960,1170],TGR1:[23020,940],TGR2:[24670,920],TGR3:[26370,880],TGR4:[28145,895],TGR5:[29930,940],TGR6:[31690,1110],TGR7:[33550,1e3],TGR8:[35283,969],TGR9:[36882,948],TGR10:[38525,925],TGR11:[40400,1050],TGR12:[42190,1e3],TGR13:[43816,1161]},volume:.8},{id:"flip",src:rsPath+"/sounds/flip1.mp3"},{id:"no_more_bets",src:rsPath+"/sounds/No more bets.mp3",volume:.8},{id:"place_your_bets",src:rsPath+"/sounds/Place your Bet.mp3",volume:.8},{id:"TIEwin",src:rsPath+"/sounds/Tie Game.mp3",volume:.8},{id:"DRGwin",src:rsPath+"/sounds/Dragon Wins.mp3",volume:.8},{id:"TGRwin",src:rsPath+"/sounds/Tiger Wins.mp3",volume:.8}]};b.prototype.clearResources=function(){this.loadComplete=!1,this.loadQueue=null};var y=new b,v=function(){this.tableSpriteSheet=null,this.cardSpriteSheet=null,this.panelSpriteSheet=null,this.cardShufflingSpriteSheet=null,this.avatarSpriteSheet=null,this.bulbSpriteSheet=null,this.shiningSpriteSheet=null,this.seatBorderSpriteSheet=null,this.rebetBorderSpriteSheet=null,this.resultSpriteSheet=null,this.gameGuideSpriteSheet=null};v.prototype.init=function(e){var t=this;t.createTableSpriteSheet(function(a){t.tableSpriteSheet=a,t.createCardSpriteSheet(function(a){t.cardSpriteSheet=a,t.createPanelSpriteSheet(function(a){t.panelSpriteSheet=a,t.createCardShufflingSpriteSheet(function(a){t.cardShufflingSpriteSheet=a,t.createAvatarSpriteSheet(function(a){t.avatarSpriteSheet=a,t.createBulbSpriteSheet(function(a){t.bulbSpriteSheet=a,t.createShiningSpriteSheet(function(a){t.shiningSpriteSheet=a,t.createSeatBorderSpriteSheet(function(a){t.seatBorderSpriteSheet=a,t.createRebetBorderSpriteSheet(function(a){t.rebetBorderSpriteSheet=a,t.createResultSpriteSheet(function(a){t.resultSpriteSheet=a,t.createGameGuideSpriteSheet(function(a){t.gameGuideSpriteSheet=a,e()})})})})})})})})})})})},v.prototype.createSprite=function(e,t,a,n,i){var o=e.addChild(new createjs.Sprite(t));return o.gotoAndStop(a),o.name=n,o.scaleX=o.scaleY=i,o},v.prototype.createCardSpriteSheet=function(e){e(new createjs.SpriteSheet({images:[y.loadQueue.getResult("cards")],frames:{width:215.125,height:300.57,regX:107.5625,regY:150.285},animations:{AH:[0,0,"AH"],AD:[1,1,"AD"],AS:[2,2,"AS"],AC:[3,3,"AC"],"8H":[4,4,"8H"],"8D":[5,5,"8D"],"8S":[6,6,"8S"],"8C":[7,7,"8C"],"2H":[8,8,"2H"],"2D":[9,9,"2D"],"2S":[10,10,"2S"],"2C":[11,11,"2C"],"9H":[12,12,"9H"],"9D":[13,13,"9D"],"9S":[14,14,"9S"],"9C":[15,15,"9C"],"3H":[16,16,"3H"],"3D":[17,17,"3D"],"3S":[18,18,"3S"],"3C":[19,19,"3C"],"10H":[20,20,"10H"],"10D":[21,21,"10D"],"10S":[22,22,"10S"],"10C":[23,23,"10C"],"4H":[24,24,"4H"],"4D":[25,25,"4D"],"4S":[26,26,"4S"],"4C":[27,27,"4C"],JH:[28,28,"JH"],JD:[29,29,"JD"],JS:[30,30,"JS"],JC:[31,31,"JC"],"5H":[32,32,"5H"],"5D":[33,33,"5D"],"5S":[34,34,"5S"],"5C":[35,35,"5C"],QH:[36,36,"QH"],QD:[37,37,"QD"],QS:[38,38,"QS"],QC:[39,39,"QC"],"6H":[40,40,"6H"],"6D":[41,41,"6D"],"6S":[42,42,"6S"],"6C":[43,43,"6C"],KH:[44,44,"KH"],KD:[45,45,"KD"],KS:[46,46,"KS"],KC:[47,47,"KC"],"7H":[48,48,"7H"],"7D":[49,49,"7D"],"7S":[50,50,"7S"],"7C":[51,51,"7C"],YLW:[52,52,"YLW"],BCK:[53,53,"BCK"]}}))},v.prototype.createPanelSpriteSheet=function(e){e(new createjs.SpriteSheet({images:[y.loadQueue.getResult("panel_icons")],frames:{width:60,height:60,regX:30,regY:30},animations:{user:[0,0,"user"],minimize:[1,1,"minimize"],statement:[2,2,"statement"],roadmap:[3,3,"roadmap"],decrement:[4,4,"decrement"],history:[5,5,"history"],play:[6,6,"play"],arrow:[7,7,"arrow"],touchoff:[8,8,"touchoff"],unmute:[9,9,"unmute"],touch:[10,10,"touch"],increment:[11,11,"increment"],close:[12,12,"close"],fastforward:[13,13,"fastforward"],stop:[14,14,"stop"],seat:[15,15,"seat"],menu:[16,16,"menu"],mute:[17,17,"mute"],home:[18,18,"home"],rebet:[19,19,"rebet"],doc:[20,20,"doc"],fullscreen:[21,21,"fullscreen"],info:[22,22,"info"],bubble:[23,23,"bubble"],player:[24,24,"player"]}}))},v.prototype.createCardShufflingSpriteSheet=function(e){e(new createjs.SpriteSheet({images:[y.loadQueue.getResult("card_shuffling")],frames:{width:640,height:360.1,regX:320,regY:180.05},animations:{run:[0,89,!1,C.isMobile?1.3:.5]}}))},v.prototype.createAvatarSpriteSheet=function(e){e(new createjs.SpriteSheet({images:[y.loadQueue.getResult("avatar")],frames:{width:449.2,height:450,regX:224.6,regY:225},animations:{avatar1:[0,0,"avatar1"],avatar2:[1,1,"avatar2"],avatar3:[2,2,"avatar3"],avatar4:[3,3,"avatar4"],avatar5:[4,4,"avatar5"],avatar6:[5,5,"avatar6"],avatar7:[6,6,"avatar7"],avatar8:[7,7,"avatar8"],avatar9:[8,8,"avatar9"],avatar10:[9,9,"avatar10"]}}))},v.prototype.createBulbSpriteSheet=function(e){e(new createjs.SpriteSheet({images:[y.loadQueue.getResult("selection")],frames:{width:54.5,height:2,regX:27.25,regY:1},animations:{selected_on:[0,0],selected_off:[1,1]}}))},v.prototype.createShiningSpriteSheet=function(e){e(new createjs.SpriteSheet({images:[y.loadQueue.getResult("shining")],frames:{width:524,height:195,regX:262,regY:97.5},animations:{run:[0,33,"run",C.isMobile?1.1:.5]}}))},v.prototype.createSeatBorderSpriteSheet=function(e){e(new createjs.SpriteSheet({images:[y.loadQueue.getResult("seat_border")],frames:{width:87,height:87,regX:43.5,regY:43.5},animations:{run:[0,15,"run",C.isMobile?.6:.4]}}))},v.prototype.createRebetBorderSpriteSheet=function(e){e(new createjs.SpriteSheet({images:[y.loadQueue.getResult("rebet_border")],frames:{width:110,height:122,regX:55,regY:61},animations:{run:[0,41,"run",C.isMobile?1:.4]}}))},v.prototype.createTableSpriteSheet=function(e){e(new createjs.SpriteSheet({images:[y.loadQueue.getResult("table_sprites")],frames:[[0,0,78,77,0,39,38.5],[78,0,78,77,0,39,38.5],[156,0,78,77,0,39,38.5],[234,0,78,77,0,39,38.5],[312,0,78,77,0,39,38.5],[390,0,78,77,0,39,38.5],[468,0,78,77,0,39,38.5],[546,0,78,77,0,39,38.5],[624,0,78,77,0,39,38.5],[702,0,78,77,0,39,38.5],[780,0,78,77,0,39,38.5],[858,0,78,77,0,39,38.5],[936,0,78,77,0,39,38.5],[1014,0,78,77,0,39,38.5],[1092,0,78,77,0,39,38.5],[0,77,78,77,0,39,38.5],[78,77,78,77,0,39,38.5],[156,77,78,77,0,39,38.5],[234,77,78,77,0,39,38.5],[312,77,78,77,0,39,38.5],[390,77,78,77,0,39,38.5],[468,77,78,77,0,39,38.5],[546,77,78,77,0,39,38.5],[624,77,78,77,0,39,38.5],[702,77,78,77,0,39,38.5],[780,77,78,77,0,39,38.5],[858,77,78,77,0,39,38.5],[936,77,78,77,0,39,38.5],[1014,77,78,77,0,39,38.5],[1092,77,78,77,0,39,38.5],[0,154,78,77,0,39,38.5],[78,154,78,77,0,39,38.5],[156,154,78,77,0,39,38.5],[234,154,78,77,0,39,38.5],[312,154,78,77,0,39,38.5],[390,154,78,77,0,39,38.5],[468,154,78,77,0,39,38.5],[546,154,78,77,0,39,38.5],[624,154,78,77,0,39,38.5],[702,154,78,77,0,39,38.5],[780,154,78,77,0,39,38.5],[858,154,78,77,0,39,38.5],[936,154,78,77,0,39,38.5],[1014,154,78,77,0,39,38.5],[1092,154,78,77,0,39,38.5],[0,231,260,59,0,130,29.5],[260,231,98,98,0,49,49],[358,231,98,98,0,49,49],[456,231,68,168,0,34,84],[524,231,155,101,0,77.5,50.5],[679,231,155,101,0,77.5,50.5],[834,231,155,101,0,77.5,50.5],[989,231,75,76,0,37.5,38],[1064,231,75,110,0,37.5,55],[1139,231,75,110,0,37.5,55],[1214,231,133,61,0,66.5,30.5],[0,399,1279,80,0,639.5,40],[0,479,1279,202,0,639.5,101],[1170,0,119,119,0,59.5,59.5],[1170,119,83,83,0,41.5,41.5],[1289,0,120,94,0,60,47],[1409,0,195,40,0,97.5,20],[1604,0,108,108,0,54,54]],animations:{dcoin1:[0,0,"dcoin1"],dcoin2:[1,1,"dcoin2"],dcoin3:[2,2,"dcoin3"],dcoin4:[3,3,"dcoin4"],dcoin5:[4,4,"dcoin5"],dcoin6:[5,5,"dcoin6"],dcoin7:[6,6,"dcoin7"],dcoin8:[7,7,"dcoin8"],dcoin9:[8,8,"dcoin9"],dcoin10:[9,9,"dcoin10"],dcoin11:[10,10,"dcoin11"],dcoin12:[11,11,"dcoin12"],dcoin13:[12,12,"dcoin13"],dcoin14:[13,13,"dcoin14"],dcoin15:[14,14,"dcoin15"],coin1:[15,15,"coin1"],coin2:[16,16,"coin2"],coin3:[17,17,"coin3"],coin4:[18,18,"coin4"],coin5:[19,19,"coin5"],coin6:[20,20,"coin6"],coin7:[21,21,"coin7"],coin8:[22,22,"coin8"],coin9:[23,23,"coin9"],coin10:[24,24,"coin10"],coin11:[25,25,"coin11"],coin12:[26,26,"coin12"],coin13:[27,27,"coin13"],coin14:[28,28,"coin14"],coin15:[29,29,"coin15"],nvcoin1:[30,30,"nvcoin1"],nvcoin2:[31,31,"nvcoin2"],nvcoin3:[32,32,"nvcoin3"],nvcoin4:[33,33,"nvcoin4"],nvcoin5:[34,34,"nvcoin5"],nvcoin6:[35,35,"nvcoin6"],nvcoin7:[36,36,"nvcoin7"],nvcoin8:[37,37,"nvcoin8"],nvcoin9:[38,38,"nvcoin9"],nvcoin10:[39,39,"nvcoin10"],nvcoin11:[40,40,"nvcoin11"],nvcoin12:[41,41,"nvcoin12"],nvcoin13:[42,42,"nvcoin13"],nvcoin14:[43,43,"nvcoin14"],nvcoin15:[44,44,"nvcoin15"],cointray:[45,45,"cointray"],rebet:[46,46,"rebet"],standingPlayerButton:[47,47,"standingPlayerButton"],roadmapButton:[48,48,"roadmapButton"],shoe:[49,49,"shoe"],emptyshoe:[50,50,"emptyshoe"],shoeBase:[51,51,"shoeBase"],shoeCover:[52,52,"shoeCover"],burnCard:[53,53,"burnCard"],burnCardEmpty:[54,54,"burnCardEmpty"],minmaxCont:[55,55,"minmaxCont"],notifbg:[56,56,"notifbg"],bettingclose:[57,57,"bettingclose"],selected_chip:[58,58,"selected_chip"],rotate:[59,59,"rotate"],bubble:[60,60,"bubble"],betamountbg:[61,61,"betamountbg"],timerbg:[62,62,"timerbg"]}}))},v.prototype.createResultSpriteSheet=function(e){e(new createjs.SpriteSheet({images:[y.loadQueue.getResult("result_icons")],frames:[[0,0,564,361,0,282,180.5],[564,0,564,361,0,282,180.5],[0,361,593,72,0,296.5,36],[593,361,490,72,0,245,36],[593,433,156,71,0,78,35.5],[0,433,589,210,0,216.5,105.5]],animations:{dragon:[0,0,"dragon"],tiger:[1,1,"tiger"],dragonwins:[2,2,"dragonwins"],tigerwins:[3,3,"tigerwins"],tie:[4,4,"tie"],win_glow:[5,5,"win_glow"]}}))},v.prototype.createGameGuideSpriteSheet=function(e){e(new createjs.SpriteSheet({images:[y.loadQueue.getResult("game_guide")],frames:{width:1e3,height:500,regX:500,regY:250},animations:{game_rule_1:[0,0,"game_rule_1"],game_rule_2:[1,1,"game_rule_2"],game_rule_3:[2,2,"game_rule_3"],game_rule_4:[3,3,"game_rule_4"]}}))},v.prototype.clearSprites=function(){this.tableSpriteSheet=null,this.cardSpriteSheet=null,this.panelSpriteSheet=null,this.cardShufflingSpriteSheet=null,this.avatarSpriteSheet=null,this.bulbSpriteSheet=null,this.shiningSpriteSheet=null,this.seatBorderSpriteSheet=null,this.rebetBorderSpriteSheet=null,this.resultSpriteSheet=null,this.gameGuideSpriteSheet=null};var f=new v,S=function(){this.bead=[],this.big=[],this.bigeye=[],this.cockroach=[],this.small=[],this.roadmapContainer=null,this.roadmapsContainer=null,this.cellColors=["#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000","#1a1a1a","#1a1a1a","#000","#000"],this.beadStatus={col:0,cell:0,max:22},this.bigStatus={col:0,cell:0,max:22},this.bigeyeStatus={col:0,cell:0,max:22},this.cockroachStatus={col:0,cell:0,max:22},this.smallStatus={col:0,cell:0,max:22},this.selectedRoadmap=1,this.roadmaps=[{label:"BEAD ROAD",name:"bead",x:0,sufHidden:22,preHidden:0,id:"beadRoad"},{label:"BIG ROAD",name:"big",x:0,sufHidden:22,preHidden:0,id:"bigRoad"},{label:"BIG EYE ROAD",name:"bigeye",x:0,sufHidden:22,preHidden:0,id:"bigEyeRoad"},{label:"SMALL ROAD",name:"small",x:0,sufHidden:22,preHidden:0,id:"smallRoad"},{label:"COCKROACH ROAD",name:"cockroach",x:0,sufHidden:22,preHidden:0,id:"cockroachRoad"}],this.roadMapTypeText=null,this.sufHidden=22,this.preHidden=0,this.dragonCount=null,this.tigerCount=null,this.tieCount=null,this.roadmapScrollContainer=null,this.isChanged=!1};S.prototype.createRoadmapContainer=function(e){var t=this;k.footerBgContainer=C.createContainer(O.gameContainer,"footerBgContainer",!0);C.createBitmap(k.footerBgContainer,"footer","panelBg",1);k.footerBgContainer.y=285,console.log("footerBgContainer",k.footerBgContainer),t.roadmapContainer=C.createContainer(O.gameContainer,"roadmapContainer",!1),t.roadmapContainer.y=218,t.roadmapContainer.x=-5,t.roadmapScrollContainer=C.createContainer(t.roadmapContainer,"roadmapScrollContainer",!0),t.roadmapScrollContainer.x=-20,t.roadmapScrollContainer.y=65;C.createRoundRect(t.roadmapScrollContainer,"roadmapScrollBg","rgba(52,69,64,1)",0,"rgba(0,0,0,0)",440,6,3,!0);console.log("self.roadmapScrollContainer",t.roadmapScrollContainer),t.createRoadmapBg();var a=C.createContainer(t.roadmapContainer,"topContainer",!0);a.x=-20,a.y=-75;C.createRect(a,"topBg","#000",1,"rgba(0, 0, 0, 0)",440,30,!0);t.roadMapTypeText=C.createText(a,"roadMapTypeText","left","middle","rgba(255, 255, 0, 1)","500 22px Roboto Condensed",n.getTranslation(t.roadmaps[t.selectedRoadmap].id)),t.roadMapTypeText.x=-211,t.roadMapTypeText.y=2,t.dragonCount=C.createText(a,"dragonCount","left","middle","#b40100","900 22px Roboto Condensed","D : 0"),t.dragonCount.x=5,t.dragonCount.y=2,t.tigerCount=C.createText(a,"tigerCount","left","middle","#435eff","900 22px Roboto Condensed","T : 0"),t.tigerCount.x=80,t.tigerCount.y=2,t.tieCount=C.createText(a,"tieCount","left","middle","#04f201","900 22px Roboto Condensed","T : 0"),t.tieCount.x=150,t.tieCount.y=2,console.log("topContainer",a);var i=C.createContainer(t.roadmapContainer,"roadmapsContainer",!0),o=C.createRect(i,"rmHitArea","#FFF",0,"#000",440,120,!1);i.hitArea=o,o.x=-20,t.roadmapsContainer=C.createContainer(i,"roadmapsContainer",!0);var r=0;i.on("pressmove",function(e){t.roadmapsContainer.uncache();var a=t.roadmapScrollContainer.getChildByName("roadmap"),n=20*(t[t.roadmaps[t.selectedRoadmap].name].length+3),i=440/n*440,o=20/n*440;if(t[t.roadmaps[t.selectedRoadmap].name].length>18){if(r=r<1?e.rawX:r,e.rawX>r){t.roadmapsContainer.x=0!==t.roadmapsContainer.x?t.roadmapsContainer.x+4:0;var l=C.intToPos(t.roadmapsContainer.x%20);t.roadmapsContainer.x=t.roadmapsContainer.x+l,t.sufHidden=22+C.intToPos(t.roadmapsContainer.x/20),t.hideCol(1),a.x=Math.round(a.x)<=Math.round((i-440)/2)?a.x:a.x-o}else{var s=-20*(t[t.roadmaps[t.selectedRoadmap].name+"Status"].max-22);t.roadmapsContainer.x=t.roadmapsContainer.x-4;l=20-C.intToPos(t.roadmapsContainer.x%20);t.roadmapsContainer.x=t.roadmapsContainer.x-l,t.roadmapsContainer.x=t.roadmapsContainer.x<=s?s:t.roadmapsContainer.x,t.preHidden=C.intToPos(t.roadmapsContainer.x/20)-1,t.hideCol(0),a.x=Math.round(a.x)>=Math.round((i-440)/2*-1)?a.x:a.x+o}t.updateRoadmapX(t.selectedRoadmap),t.roadmapsContainer.cache(-240,-60,2640,150)}}),i.on("pressup",function(e){r=0});var l=C.createContainer(t.roadmapsContainer,"beadContainer",0===t.selectedRoadmap),s=C.createContainer(t.roadmapsContainer,"bigContainer",1===t.selectedRoadmap),c=C.createContainer(t.roadmapsContainer,"bigeyeContainer",2===t.selectedRoadmap),d=C.createContainer(t.roadmapsContainer,"smallContainer",3===t.selectedRoadmap),u=C.createContainer(t.roadmapsContainer,"cockroachContainer",4===t.selectedRoadmap);t.createRoadmap(l),t.createRoadmap(s),t.createRoadmap(c),t.createRoadmap(d),t.createRoadmap(u),t.createArrows();var h=C.createRoundRectStrokeGradient(t.roadmapContainer,"roadmapBg","rgba(0, 0, 0, 0)",1,["#87410E","#F2E798","#F2E798"],440,149,0,!0,[0,.5,1],0,0,0,150);h.x=-20,h.y=-15,console.log("##CANVAS ############0 beadContainer",l.visible,typeof t.selectedRoadmap),console.log("##CANVAS ############1 bigContainer",s.visible),console.log("##CANVAS ############2 bigeyeContainer",c.visible),console.log("##CANVAS ############3 smallContainer",d.visible),console.log("##CANVAS ############4 cockroachContainer",u.visible),console.log("##CANVAS roadmapBg",h),console.log("##CANVAS roadmapContainer",t.roadmapContainer),console.log("##CANVAS self.roadmapsContainer",t.roadmapsContainer),e()},S.prototype.setScroll=function(e){var t=this,a=20*(t[e].length+3),n=440/a*440;t.roadmapScrollContainer.getChildByName("roadmap")&&t.roadmapScrollContainer.removeChildAt(1),t.roadmapScrollContainer.visible=a>440;var i=C.createRoundRect(t.roadmapScrollContainer,"roadmap","rgba(140,140,140,1)",0,"rgba(0,0,0,0)",n,6,3,!0);i.x=(n-440)/2*-1,C.addMouseOverandOut(i,1.05,1);var o=20/a*440,r=0;i.on("pressmove",function(e){if(t.roadmapsContainer.uncache(),t[t.roadmaps[t.selectedRoadmap].name].length>18){if(r=r<1?e.rawX:r,e.rawX>r){var a=-20*(t[t.roadmaps[t.selectedRoadmap].name+"Status"].max-22);t.roadmapsContainer.x=t.roadmapsContainer.x-4;var l=20-C.intToPos(t.roadmapsContainer.x%20);t.roadmapsContainer.x=t.roadmapsContainer.x-l,t.roadmapsContainer.x=t.roadmapsContainer.x<=a?a:t.roadmapsContainer.x,t.preHidden=C.intToPos(t.roadmapsContainer.x/20)-1,t.hideCol(0),i.x=Math.round(i.x)>=Math.round((n-440)/2*-1)?i.x:i.x+o}else{i.x=Math.round(i.x)<=Math.round((n-440)/2)?i.x:i.x-o,t.roadmapsContainer.x=0!==t.roadmapsContainer.x?t.roadmapsContainer.x+4:0;l=C.intToPos(t.roadmapsContainer.x%20);t.roadmapsContainer.x=t.roadmapsContainer.x+l,t.sufHidden=22+C.intToPos(t.roadmapsContainer.x/20),t.hideCol(1)}t.updateRoadmapX(t.selectedRoadmap),t.roadmapsContainer.cache(-240,-60,2640,150)}}),i.on("pressup",function(e){r=0})},S.prototype.createRoadmapBg=function(){for(var e=this,t=C.createContainer(e.roadmapContainer,"roadmapBgContainer",!0),a=-50,n=-230,i=0;i<22;i++)!function(){var o,r,l=i,s=C.createContainer(t,"colContainer-"+l,!0);s.x=n;for(var c=0;c<6;c++)void 0,r=void 0,o=c,r=e.cellColors[l],2!==o&&3!==o||(r="#1a1a1a"===r?"#000":"#1a1a1a"),C.createRect(s,"rmHitArea",r,1,"rgba(0, 0, 0, 0)",20,20,!0).y=a,a+=20;a=-50,n+=20}(),23===i&&t.cache(-240,-60,480,120)},S.prototype.updateRoadmapX=function(e){this.roadmaps[e].x=this.roadmapsContainer.x},S.prototype.createArrows=function(){var e=this,t=C.createContainer(e.roadmapContainer,"arrowsContainer",!0);t.x=225,t.y=-15;f.createSprite(t,f.tableSpriteSheet,"roadmapButton","arrowButton",1);var a=C.createRoundRectComplex(t,"arrowButtonHitArea","rgba(255, 255, 255, 1)",1,"#000",50,150,[0,9,9,0],!1);t.hitArea=a,console.log("arrowButtonHitArea",a),C.addMouseOverandOutBrightness(t,-34,-84,68,168),t.on("click",function(){C.checkSession(function(t){t?(e.roadmapsContainer.uncache(),e.selectedRoadmap=e.selectedRoadmap>3?0:e.selectedRoadmap+1,e.roadMapTypeText.text=e.roadmaps[e.selectedRoadmap].label,e.displayRoadmap(),e.roadmapsContainer.x=0,e.roadmapsContainer.x=e.roadmaps[e.selectedRoadmap].x,e.scrollRoadMap(e.selectedRoadmap),e.roadmapsContainer.cache(-240,-60,2640,150)):C.displayAlert("invalid session")})}),console.log("arrowsContainer",t)},S.prototype.scrollRoadMap=function(e){var t=this.roadmaps[e].name,a=this.roadmapsContainer.getChildByName(t+"Container");if(this[t].length>18)for(var n=18;n<this[t].length;n++)if(n>18){var i=-20*(this[t+"Status"].max-22);this.roadmapsContainer.x=i;var o=a.children[n+3];o.visible=!0,o.alpha=1;var r=a.children[n+3-22];r.visible=!1,r.alpha=0}this.setScroll(t)},S.prototype.displayRoadmap=function(){var e=this.roadmapsContainer.getChildByName("beadContainer"),t=this.roadmapsContainer.getChildByName("bigContainer"),a=this.roadmapsContainer.getChildByName("bigeyeContainer"),n=this.roadmapsContainer.getChildByName("cockroachContainer"),i=this.roadmapsContainer.getChildByName("smallContainer");e.visible=0===this.selectedRoadmap,t.visible=1===this.selectedRoadmap,a.visible=2===this.selectedRoadmap,i.visible=3===this.selectedRoadmap,n.visible=4===this.selectedRoadmap},S.prototype.createRoadmap=function(e){for(var t=this,a=-50,n=-230,i=0;i<132;i++)!function(){var o=i,r=C.createContainer(e,"colContainer-"+o,!0);r.x=n,r.visible=o<22,r.alpha=o<22?1:0;for(var l=0;l<6;l++)!function(){var e=l;C.createContainer(r,"cellContainer-"+o+"-"+e,!0).y=a;var n=t.cellColors[o];2!==e&&3!==e||(n="#1a1a1a"===n?"#000":"#1a1a1a"),a+=20}();a=-50,n+=20,131===o&&t.roadmapsContainer.cache(-240,-60,2640,150)}()},S.prototype.createBMTie=function(e,t){var a=new createjs.Container;if(a.name="tieCont",void 0!==t&&t>0){var n=a.addChild(new createjs.Shape);n.name="maskline",n.graphics.setStrokeStyle(.2).beginStroke("rgba(0, 0, 0, 0)").beginFill("rgba(0, 0, 0, 0)").drawCircle(0,0,10);var i=new createjs.Shape;if(i.x=2.5,i.y=2.5,i.graphics.beginFill("#04f201"),i.graphics.setStrokeStyle(2).beginStroke("#04f201"),i.graphics.moveTo(-8,8).lineTo(8,-8),a.addChild(i),t>1)C.createText(a,"tieValue","center","middle","#FFF","500 20px Roboto Condensed",t).y=.5}return a},S.prototype.createDrg=function(e,t){var a=e<1||3===e?0:2,n=e<1||3===e?"rgba(0, 0, 0, 0)":"#b40100",i=e<1||3===e?"#b40100":"rgba(0, 0, 0, 0)",o=new createjs.Container;o.name="drgCont";var r=o.addChild(new createjs.Shape);if(r.name="DRG",e>3?(r.graphics.beginFill("#b40100"),r.graphics.setStrokeStyle(4).beginStroke("#b40100"),r.graphics.moveTo(8,-8).lineTo(-8,8)):r.graphics.setStrokeStyle(a).beginStroke(n).beginFill(i).drawCircle(0,0,a>0?7.3:8),void 0!==t&&t>0){var l=o.addChild(new createjs.Shape);l.name="maskline",l.graphics.setStrokeStyle(.2).beginStroke("rgba(0, 0, 0, 0)").beginFill("rgba(0, 0, 0, 0)").drawCircle(0,0,10);var s=new createjs.Shape;if(s.x=2,s.y=2,s.graphics.beginFill("#04f201"),s.graphics.setStrokeStyle(3,"round","round").beginStroke("#04f201"),s.graphics.moveTo(-6,6).lineTo(6,-6),o.addChild(s),t>1)C.createText(o,"tieValue","center","middle","#FFF","500 18px Roboto Condensed",t).y=1}var c=C.createText(o,"drgText","center","middle","#FFF","500 17px Roboto Condensed","D");return c.y=C.isMobile&&C.isIOS?0:2,c.shadow=new createjs.Shadow("#000",0,2,3),c.visible=e<1,o},S.prototype.createTgr=function(e,t){var a=e<1||3===e?0:2,n=e<1||3===e?"rgba(0, 0, 0, 0)":"#435eff",i=e<1||3===e?"#435eff":"rgba(0, 0, 0, 0)",o=new createjs.Container;o.name="tgrCont";var r=o.addChild(new createjs.Shape);if(r.name="TGR",e>3?(r.graphics.beginFill("#435eff"),r.graphics.setStrokeStyle(4).beginStroke("#435eff"),r.graphics.moveTo(8,-8).lineTo(-8,8)):r.graphics.setStrokeStyle(a).beginStroke(n).beginFill(i).drawCircle(0,0,a>0?7.3:8),void 0!==t&&t>0){var l=o.addChild(new createjs.Shape);l.name="maskline",l.graphics.setStrokeStyle(.2).beginStroke("rgba(0, 0, 0, 0)").beginFill("rgba(0, 0, 0, 0)").drawCircle(0,0,10);var s=new createjs.Shape;if(s.x=2,s.y=2,s.graphics.beginFill("#04f201"),s.graphics.setStrokeStyle(3,"round","round").beginStroke("#04f201"),s.graphics.moveTo(-6,6).lineTo(6,-6),o.addChild(s),t>1)C.createText(o,"tieValue","center","middle","#FFF","500 18px Roboto Condensed",t).y=1}var c=C.createText(o,"drgText","center","middle","#FFF","500 17px Roboto Condensed","T");return c.y=C.isMobile&&C.isIOS?0:2,c.shadow=new createjs.Shadow("#000",0,2,3),c.visible=e<1,o},S.prototype.createTie=function(){var e=new createjs.Container;e.name="tieCont";var t=e.addChild(new createjs.Shape);t.name="TIE",t.graphics.setStrokeStyle(0).beginStroke("rgba(0, 0, 0, 0)").beginFill("#04f201").drawCircle(0,0,8);var a=C.createText(e,"drgText","center","middle","#FFF","500 17px Roboto Condensed","T");return a.y=C.isMobile&&C.isIOS?0:2,a.shadow=new createjs.Shadow("#000",0,2,3),e},S.prototype.loadRoadMaps=function(e){var t=0;for(var a in e)this.setRoadMap(e[a],a,t),t++;this.setScroll(this.roadmaps[this.selectedRoadmap].name)},S.prototype.setRoadMap=function(e,t,a){this.roadmapsContainer.uncache();var n=this.roadmapsContainer.getChildByName(t+"Container");if(this[t].length<1){this[t]=e;for(var i=0;i<e.length;i++){for(var o=e[i],r=0;r<o.length;r++){var l,s=n.children[i].children[r];if(i>18){var c=n.children[i+3];if(c.visible=!0,c.alpha=1,this[t+"Status"].max=i+4,this.roadmaps[this.selectedRoadmap].name===t){var d=-20*(this[t+"Status"].max-22);this.roadmapsContainer.x=d;var u=n.children[i+3-22];u.visible=!1,u.alpha=0}}if(this[t+"Status"].col=i,this[t+"Status"].cell=r,o[r].win){switch(o[r].win){case"DRG":l=this.createDrg(a,o[r].tie);break;case"TIE":l=this.createTie();break;case"TGR":l=this.createTgr(a,o[r].tie)}s.addChild(l)}else""!==o[r].win&&null!==o[r].win||(l=this.createBMTie(a,o[r].tie),s.addChild(l))}4===a&&i===e.length-1&&this.roadmapsContainer.cache(-240,-60,2640,150)}}else"bead"===t?this.addResToRoadmap(e,t,a):this.reWriteNewCol(e,t,a)},S.prototype.reWriteNewCol=function(e,t,a){for(var n=this.roadmapsContainer.getChildByName(t+"Container"),i=0;i<e.length;i++){for(var o=e[i],r=0;r<o.length;r++){var l,s=n.children[i].children[r];if(currentCol=i,currentCell=r,i>18){var c=n.children[i+3];if(c.visible=!0,c.alpha=1,this[t+"Status"].max=i+4,this.roadmaps[this.selectedRoadmap].name===t){var d=-20*(this[t+"Status"].max-22);this.roadmapsContainer.x=d;var u=n.children[i+3-22];u.visible=!1,u.alpha=0}}if(o[r].tie>0&&s.removeChildAt(0),!s.children[0])if(o[r].win){switch(o[r].win){case"DRG":l=this.createDrg(a,o[r].tie);break;case"TIE":l=this.createTie();break;case"TGR":l=this.createTgr(a,o[r].tie);break;case null:l=this.createBMTie(a,o[r].tie)}s.addChild(l)}else""!==o[r].win&&null!==o[r].win||(l=this.createBMTie(a,o[r].tie),s.addChild(l))}i===e.length-1&&this.roadmapsContainer.cache(-240,-60,2640,150)}this[t]=e},S.prototype.addResToRoadmap=function(e,t,a){var n,i=this.roadmapsContainer.getChildByName(t+"Container"),o=this[t+"Status"].cell>4?0:this[t+"Status"].cell+1,r=this[t+"Status"].cell>4?this[t+"Status"].col+1:this[t+"Status"].col,l=i.children[r].children[o];if(e[r]&&e[r][o]&&e[r][o].win)switch(e[r][o].win){case"DRG":n=this.createDrg(a);break;case"TIE":n=this.createTie();break;case"TGR":n=this.createTgr(a)}l.addChild(n),this[t+"Status"].col=r,this[t+"Status"].cell=o,this.roadmapsContainer.cache(-240,-60,2640,150)},S.prototype.hideCol=function(e){for(var t=this,a=t.roadmapsContainer.getChildByName(t.roadmaps[t.selectedRoadmap].name+"Container"),n=0;n<a.children.length;n++)!function(){var i=n,o=a.children[i];if(e>0){var r=t.sufHidden-22;o.visible=i>=r&&i<t.sufHidden,o.alpha=i>=r&&i<t.sufHidden?1:0}else{var l=t.preHidden+23;o.visible=!(i<=t.preHidden||l<=i),o.alpha=i<=t.preHidden||l<=i?0:1}}()},S.prototype.resetRoadMap=function(e){var t=e;this.roadmapsContainer.uncache();for(var a=0;a<t.children.length;a++)!function(){var e=a,n=t.children[e];n.visible=e<22,n.alpha=e<22?1:0;for(var i=0;i<n.children.length;i++){n.children[i].removeChildAt(0)}}();this.roadmapsContainer.x=0,this.bead=[],this.big=[],this.bigeye=[],this.cockroach=[],this.small=[],this.beadStatus={col:0,cell:0,max:22},this.bigStatus={col:0,cell:0,max:22},this.bigeyeStatus={col:0,cell:0,max:22},this.cockroachStatus={col:0,cell:0,max:22},this.smallStatus={col:0,cell:0,max:22},this.roadmaps=[{label:"BEAD ROAD",name:"bead",x:0,sufHidden:22,preHidden:0},{label:"BIG ROAD",name:"big",x:0,sufHidden:22,preHidden:0},{label:"BIG EYE ROAD",name:"bigeye",x:0,sufHidden:22,preHidden:0},{label:"SMALL ROAD",name:"small",x:0,sufHidden:22,preHidden:0},{label:"COCKROACH ROAD",name:"cockroach",x:0,sufHidden:22,preHidden:0}],this.sufHidden=22,this.preHidden=0,this.roadmapsContainer.cache(-240,-60,2640,150)},S.prototype.cleanRoadMap=function(){var e=this.roadmapsContainer.getChildByName("beadContainer"),t=this.roadmapsContainer.getChildByName("bigContainer"),a=this.roadmapsContainer.getChildByName("bigeyeContainer"),n=this.roadmapsContainer.getChildByName("cockroachContainer"),i=this.roadmapsContainer.getChildByName("smallContainer");this.resetRoadMap(e),this.resetRoadMap(t),this.resetRoadMap(a),this.resetRoadMap(n),this.resetRoadMap(i),this.dragonCount.text="D : 0",this.tigerCount.text="T : 0",this.tieCount.text="T : 0"},S.prototype.updateRoadmapCount=function(e){this.dragonCount.text="D : "+e.DRG,this.tigerCount.text="T : "+e.TGR,this.tieCount.text="T : "+e.TIE},S.prototype.addFormatRoadmapCount=function(e){var t;return e<10?t="00"+e:e>9&&e<100?t="0"+e:e>99&&(t=e),t},S.prototype.clearRoadMap=function(){this.bead=[],this.big=[],this.bigeye=[],this.cockroach=[],this.small=[],this.roadmapContainer=null,this.roadmapsContainer=null,this.beadStatus={col:0,cell:0,max:22},this.bigStatus={col:0,cell:0,max:22},this.bigeyeStatus={col:0,cell:0,max:22},this.cockroachStatus={col:0,cell:0,max:22},this.smallStatus={col:0,cell:0,max:22},this.selectedRoadmap=1,this.roadmaps=[{label:"BEAD ROAD",name:"bead",x:0,sufHidden:22,preHidden:0},{label:"BIG ROAD",name:"big",x:0,sufHidden:22,preHidden:0},{label:"BIG EYE ROAD",name:"bigeye",x:0,sufHidden:22,preHidden:0},{label:"SMALL ROAD",name:"small",x:0,sufHidden:22,preHidden:0},{label:"COCKROACH ROAD",name:"cockroach",x:0,sufHidden:22,preHidden:0}],this.roadMapTypeText=null,this.sufHidden=22,this.preHidden=0,this.dragonCount=null,this.tigerCount=null,this.tieCount=null,this.roadmapScrollContainer=null,this.isChanged=!1};var B=new S,w=function(){this.playerChipsContainer=null,this.footerContainer=null,this.chipXOrig=-144,this.chips=[],this.defaultChips=[1,5,10,50,100,500,1e3,5e3,1e4,5e4,1e5,5e5,1e6,2e6,5e6],this.allChips=[1,5,10,50,100,500,1e3,5e3,1e4,5e4,1e5,5e5,1e6,2e6,5e6],this.chipBorderContainer=null,this.chipPos=[-144,-72,0,72,144]};w.prototype.init=function(){for(var e=O.tableDetails.defaultChip?O.tableDetails.defaultChip:1,t=this.defaultChips.findIndex(t=>t===e),a=t;a<t+5;a++)this.chips.push(this.defaultChips[a]);console.log("COINS",this.chips),this.createChips()},w.prototype.createChips=function(){var e=this,t=C.mainContainer.getChildByName("panelContainer");e.footerContainer=t.getChildByName("footerContainer"),e.playerChipsContainer=C.createContainer(e.footerContainer,"playerChipsContainer",!0),e.playerChipsContainer.x=454,e.playerChipsContainer.y=-20,e.chipBorderContainer=C.createContainer(e.playerChipsContainer,"chipBorderContainer",!0),e.chipBorderContainer.x=e.chipPos[C.selectedChip];var a=f.createSprite(e.chipBorderContainer,f.tableSpriteSheet,"selected_chip","chipBorder",.5),n=f.createSprite(e.chipBorderContainer,f.tableSpriteSheet,"selected_chip","chipBorder1",.5),i=f.createSprite(e.chipBorderContainer,f.tableSpriteSheet,"selected_chip","chipBorder2",.5);createjs.Tween.get().call(function(){createjs.Tween.get(a,{loop:!0}).to({scale:.888},500).to({scale:1.12,alpha:.2},600).wait(200).to({alpha:0},700).wait(300)}).wait(800).call(function(){createjs.Tween.get(n,{loop:!0}).to({scale:.888},500).to({scale:1.12,alpha:.2},600).wait(200).to({alpha:0},700).wait(300)}).wait(800).call(function(){createjs.Tween.get(i,{loop:!0}).to({scale:.888},500).to({scale:1.12,alpha:.2},600).wait(200).to({alpha:0},700).wait(300)}),console.log("self.chipBorderContainer",e.chipBorderContainer);for(var o=0;o<e.chips.length;o++)!function(){var t=o,a=e.defaultChips.findIndex(a=>a===e.chips[t]),n=C.createContainer(e.playerChipsContainer,"chipContainer-"+t,!0);n.x=e.chipXOrig;var i=f.createSprite(n,f.tableSpriteSheet,"coin"+(a+1),"chipSprite",.95);i.x=i.y=2;C.createCircle(n,"chipBorder","rgba(51, 51, 51, .8)",0,"rgba(0, 0, 0, 0)",33,!1);e.chipXOrig=e.chipXOrig+72,C.addMouseOverandOut(n,1.1,1),n.cache(-70,-70,140,140),n.on("click",function(a){C.checkSession(function(a){a?r.tickStarted&&e.selectChip(t):C.displayAlert("invalid session")})}),t===e.chips.length-1&&e.disableChips()}();console.log("##CANVAS playerChipsContainer",this.playerChipsContainer)},w.prototype.selectChip=function(e){var t=this.playerChipsContainer.getChildByName("chipContainer-"+C.selectedChip);t.uncache(),C.selectedChip=e,this.chipBorderContainer.x=this.chipPos[C.selectedChip],(t=this.playerChipsContainer.getChildByName("chipContainer-"+C.selectedChip)).cache(-70,-70,140,140)},w.prototype.disableChips=function(){for(var e=0;e<this.chips.length;e++){var t=this.playerChipsContainer.getChildByName("chipContainer-"+e);t.uncache(),t.children[1].visible=!0,t.scale=1,t.cache(-70,-70,140,140),this.chipBorderContainer.visible=!1}},w.prototype.enableChips=function(){for(var e=0;e<this.chips.length;e++){var t=this.playerChipsContainer.getChildByName("chipContainer-"+e);t.uncache(),t.children[1].visible=!1,t.cache(-70,-70,140,140),this.chipBorderContainer.visible=!0}},w.prototype.clearChips=function(){this.playerChipsContainer=null,this.footerContainer=null,this.chipXOrig=-144,this.chips=[],this.defaultChips=[1,5,10,50,100,500,1e3,5e3,1e4,5e4,1e5,5e5,1e6,2e6,5e6],this.allChips=[1,5,10,50,100,500,1e3,5e3,1e4,5e4,1e5,5e5,1e6,2e6,5e6],this.chipBorderContainer=null,this.chipPos=[-144,-72,0,72,144]};var T=new w,x=function(){this.tauntMainContainer=null,this.bubbleMainContainer=null,this.bubbleButtonContainer=null,this.tauntContainer=null,this.tauntDisable=!1,this.tauntBgContainer=null,this.emojiCloseButtonContainer=null,this.messages=[{text:"Dragon Win!",type:2,x:-133,y:-58,w:124},{text:"Tie!",type:2,x:0,y:-58,w:103},{text:"Tiger Win!",type:2,x:133,y:-58,w:124},{text:"Bet Dragon!",type:2,x:-133,y:0,w:124},{text:"Black!",type:2,x:0,y:0,w:103},{text:"Bet Tiger!",type:2,x:133,y:0,w:124},{text:"Odd Number!",type:2,x:-133,y:58,w:124},{text:"Red!",type:2,x:0,y:58,w:103},{text:"Even Number!",type:2,x:133,y:58,w:124}],this.tauntPos=[-489,-396,-302,302,396,489],this.bubblePos=[-415,-320,-230,230,320,415]};x.prototype.createTauntContainer=function(e){var a=this;a.tauntMainContainer=C.createContainer(O.gameContainer,"tauntMainContainer",!1),a.bubbleButtonContainer=C.createContainer(a.tauntMainContainer,"bubbleButtonContainer",!0);var n=f.createSprite(a.bubbleButtonContainer,f.panelSpriteSheet,"bubble","bubbleSprite",.75);n.scaleX=-.75,n.shadow=new createjs.Shadow("rgba(0, 0, 0, 1)",0,0,6),a.bubbleButtonContainer.y=210,a.bubbleButtonContainer.x=-270;var i=C.createCircle(a.bubbleButtonContainer,"bubbleHitArea","rgba(255, 255, 255, 1)",2,"rgba(255,255,255,1)",15,!1);a.bubbleButtonContainer.hitArea=i,C.addMouseOverandOut(a.bubbleButtonContainer,1.1,1),a.bubbleButtonContainer.on("click",function(){d.displayStandingPlayerList(!1),O.displayMinMaxContainer(!1),a.tauntDisable||(a.openTauntList(!0),console.log("openTauntList",3))}),a.tauntContainer=C.createContainer(a.tauntMainContainer,"tauntContainer",!1),a.tauntContainer.alpha=0,a.tauntContainer.y=183;var o=C.createContainer(a.tauntContainer,"tauntHitAreaContainer",!0);o.x=-210,o.y=-120;var r=C.createRoundRect(o,"tauntHitArea","rgba(0,0,0,1)",0,"#FFF",420,240,7,!1);o.hitArea=r,o.on("click",function(){});var l=C.createContainer(a.tauntContainer,"tauntListContainer",!0);l.x=210,l.y=-120;C.createRoundRect(l,"tauntListBg","rgba(0,0,0,.9)",0,"#FFF",420,240,7,!0);for(var s=C.createContainer(l,"messageListContainer",!0),c=0;c<a.messages.length;c++)!function(){var e=c,n=a.messages[e],i=C.createContainer(s,"messageContainer-"+e,!0);i.x=n.x,i.y=n.y;C.createRoundRect(i,"messageBg","rgba(0,0,0,0)",1,"#FFF",n.w,38,13,!0),C.createText(i,"messageText","center","middle","#FFF","900 16px Roboto CondensedBold",n.text);var o=C.createRoundRect(i,"hitArea","rgba(255, 255, 255, 1)",1,"#B1B1B1",n.w,38,13,!1);i.hitArea=o,C.addMouseOverandOut(i,1.15,1),i.on("click",function(){t.emit("player taunt",{index:e,type:n.type,pos:L.selectedSeat,displayname:userData.displayname}),a.disableTaunt()})}();a.emojiCloseButtonContainer=C.createContainer(a.tauntMainContainer,"emojiCloseButtonContainer",!1),a.emojiCloseButtonContainer.y=183;C.createCircle(a.emojiCloseButtonContainer,"closeButtonBg","rgba(255,255,255,1)",1,"rgba(255,255,255,1)",40,!0);var u=f.createSprite(a.emojiCloseButtonContainer,f.panelSpriteSheet,"close","closeSprite",1.2),h=(new createjs.ColorMatrix).adjustBrightness(-200);u.filters=[new createjs.ColorMatrixFilter(h)],u.cache(-18,-18,36,36),C.addMouseOverandOut(a.emojiCloseButtonContainer,1.1,1),a.emojiCloseButtonContainer.on("click",function(){a.openTauntList(!1)}),e()},x.prototype.createBubbleContainer=function(e){var t=this;t.bubbleMainContainer=C.createContainer(O.gameContainer,"bubbleMainContainer",!0),t.bubbleMainContainer.y=120;for(var a=0;a<L.seatPos.length;a++)!function(){var e=a,n=C.createContainer(t.bubbleMainContainer,"bubbleContainer-"+e,!1),i=e>2?t.bubblePos[e]+20:t.bubblePos[e]-20;n.x=i,n.y=25,n.alpha=0,f.createSprite(n,f.tableSpriteSheet,"bubble","bubble",1).scaleX=e>2?-1:1;C.createContainer(n,"tauntDisplayContainer",!0);console.log("bubbleContainer",n)}();e()},x.prototype.addTaunt=function(e,t){if(console.log("ADD TAUNT",this.tauntDisable,this.tauntContainer.visible),e>-1){if(this.tauntDisable)return!1;if(!t)return!1;var a=this.tauntContainer.getChildByName("tauntListContainer");if(!this.tauntContainer.visible){a.x=e>2?-205:205,this.tauntMainContainer.visible=!0;var n=e>2?this.tauntPos[e]+61:this.tauntPos[e]-61;this.tauntContainer.x=n,this.tauntContainer.y=250,this.emojiCloseButtonContainer.x=this.tauntPos[e],this.bubbleButtonContainer.x=(this.tauntPos[e],this.tauntPos[e]+32)}}},x.prototype.disableTaunt=function(){this.tauntContainer.visible=!1,this.tauntDisable=!0,this.emojiCloseButtonContainer.visible=!1,this.tauntBgContainer.visible=!1;var e=L.selectedSeat>2?this.tauntPos[L.selectedSeat]+61:this.tauntPos[L.selectedSeat]-61;createjs.Tween.get(this.tauntContainer).to({x:e,y:250,alpha:0},150);var t=(new createjs.ColorMatrix).adjustSaturation(-100);this.bubbleButtonContainer.filters=[new createjs.ColorMatrixFilter(t)],this.bubbleButtonContainer.cache(-15,-15,30,30),this.bubbleButtonContainer.visible=!0},x.prototype.displayTaunt=function(e){var t=this.bubbleMainContainer.getChildByName("bubbleContainer-"+e.pos),a=t.getChildByName("tauntDisplayContainer");C.createText(a,"messageText","center","middle","#FFF","900 18px Roboto CondensedBold",this.messages[e.index].text).y=5,t.visible=!0,createjs.Tween.get(t).to({x:this.bubblePos[e.pos],y:0,alpha:1},150),this.setDisplayTimeout(e)},x.prototype.setDisplayTimeout=function(e){var t=this,a=t.bubbleMainContainer.getChildByName("bubbleContainer-"+e.pos),n=a.getChildByName("tauntDisplayContainer");setTimeout(function(){var i=e.pos>2?t.bubblePos[e.pos]+20:t.bubblePos[e.pos]-20;createjs.Tween.get(a).to({alpha:0,x:i,y:25},150).call(function(){t.tauntDisable=!1,t.bubbleButtonContainer.uncache(),a.visible=!1,n.removeAllChildren()})},2500)},x.prototype.openTauntList=function(e,t){var a=this;if(e){if(!a.bubbleButtonContainer.visible)return!1;a.bubbleButtonContainer.visible=!1,a.tauntBgContainer.visible=!0,a.tauntContainer.visible=!0,createjs.Tween.get(a.tauntContainer).to({x:a.tauntPos[L.selectedSeat],y:183,alpha:1},150).call(function(){a.emojiCloseButtonContainer.visible=!0})}else{if(a.bubbleButtonContainer.visible)return!1;var n=L.selectedSeat>2?a.tauntPos[L.selectedSeat]+61:a.tauntPos[L.selectedSeat]-61;createjs.Tween.get(a.tauntContainer,{override:!0}).to({x:n,y:250,alpha:0},150).call(function(){a.bubbleButtonContainer.visible=!0,a.tauntBgContainer.visible=!1,a.tauntContainer.visible=!1,a.emojiCloseButtonContainer.visible=!1})}console.log("openTauntList",e,t)},x.prototype.clearEmoji=function(){this.tauntMainContainer=null,this.bubbleMainContainer=null,this.bubbleButtonContainer=null,this.tauntContainer=null,this.tauntDisable=!1,this.tauntBgContainer=null,this.emojiCloseButtonContainer=null};var A=new x,R=function(){this.seatPos=[{id:1,player:null,x:-489,y:0},{id:2,player:null,x:-396,y:0},{id:3,player:null,x:-303,y:0},{id:4,player:null,x:303,y:0},{id:5,player:null,x:396,y:0},{id:6,player:null,x:489,y:0}],this.seatsContainer=null,this.selectedSeat=null,this.isSeatDisable=null};R.prototype.createSeats=function(e){var t=this;t.seatsContainer=C.createContainer(O.gameContainer,"seatsContainer",!1),t.seatsContainer.y=183;for(var a=0;a<t.seatPos.length;a++)!function(){var e=a,i=t.seatPos[e],o=C.createContainer(t.seatsContainer,"seatContainer-"+e,!0);o.x=i.x,o.y=i.y;var l=C.createContainer(o,"avatarButtonContainer",!0);C.createCircle(l,"avatarButtonBorder","rgba(0, 0, 0, .8)",2,"rgba(255,255,255,.5)",39.5,!0).shadow=new createjs.Shadow("rgba(0, 0, 0, .5)",0,6,6);var s=l.addChild(new createjs.Sprite(f.seatBorderSpriteSheet,"run"));s.name="avatarButtonAnimation",s.paused=!0,s.y=1;var c=f.createSprite(l,f.panelSpriteSheet,"arrow","seatIcon",1);c.y=-15;var d=C.createText(l,"seatLabel","center","middle","#FFF","500 10px Roboto CondensedBold",n.getTranslation("sitHere"));d.y=18,createjs.Tween.get(c,{loop:!0}).call(function(){s.paused=!1}).to({y:0},350).call(function(){createjs.Tween.get(d).to({scale:1.1},100).to({scale:1},100)}).to({y:-15},350).call(function(){s.paused=!0});var u=l.addChild(new createjs.Shape);u.graphics.setStrokeStyle(0).beginStroke("rgba(0, 0, 0, 0)").beginLinearGradientFill(["rgba(255,255,255,.8)","rgba(0,0,0,0)","rgba(0,0,0,0)"],[0,1,.3],0,-22,0,50).drawCircle(0,0,25),u.name="topGradient",u.y=-10;var h=C.createCircle(l,"avatarButtonBorder","rgba(0, 0, 0, 1)",2,"rgba(255,255,255,1)",40,!1);l.hitArea=h,C.addMouseOverandOut(l,1.1,1),l.on("click",function(){A.tauntDisable||C.checkSession(function(a){a?r.tickStarted&&t.selectSeat(e):C.displayAlert("invalid session")})});var p=C.createContainer(o,"avatarContainer",!1),g=(C.createCircle(p,"avatarOuterButton","rgba(0, 0, 0, 0)",2,"rgba(255,255,255,.8)",44,!1),p.addChild(new createjs.Shape));g.graphics.setStrokeStyle(0).beginStroke("rgba(0, 0, 0, 0)").beginLinearGradientFill(["#834612","#f1e597","#f1e597"],[0,.5,1],0,-20,0,80).drawCircle(0,0,40),g.name="seatBorder",g.shadow=new createjs.Shadow("rgba(0, 0, 0, 1)",0,3,6);C.createCircle(p,"seatBg","rgba(0, 0, 0, .6)",0,"rgba(0, 0, 0, 0)",37,!0),C.createContainer(p,"playerAvatarImgCont",!0);var m=p.addChild(new createjs.Shape);m.graphics.setStrokeStyle(0).beginStroke("rgba(0, 0, 0, 0)").beginRadialGradientFill(["rgba(0,0,0,.8)","rgba(0,0,0,0)","rgba(0,0,0,0)"],[.5,0,.4],0,0,0,0,0,76).drawCircle(0,0,38),m.name="borderGradient";var b=C.createContainer(o,"displayNameContainer",!1);b.y=54,C.createRoundRectStrokeGradient(b,"displayNameBorder","rgba(0, 0, 0, .8)",1,["#834612","#f1e597","#f1e597"],80,24,5,!0,[0,.5,1],0,0,0,48).shadow=new createjs.Shadow("rgba(0, 0, 0, 1)",0,3,6);C.createText(b,"playerName","center","middle","#FFF","700 15px Roboto Condensed",""),C.createCircle(o,"disableButton","rgba(0, 0, 0, .5)",1,"rgba(0, 0, 0, .5)",40,!1)}();console.log("##CANVAS seatsContainer",t.seatsContainer),e()},R.prototype.selectSeat=function(e){var a=O.gameContainer.getChildByName("bettingStatusContainer").getChildByName("bettingCloseStatusContainer");if(this.isSeatDisable===status)return!1;a.alpha||A.tauntContainer.visible||(e>-1?(this.selectedSeat=e,t.emit("player sit",{pos:e})):this.selectedSeat=e)},R.prototype.playerSit=function(e,t){var a=this.seatsContainer.getChildByName("seatContainer-"+e.pos),n=a.getChildByName("avatarButtonContainer"),i=a.getChildByName("avatarContainer"),o=a.getChildByName("displayNameContainer"),r=i.getChildByName("playerAvatarImgCont"),l=i.getChildByName("seatBg"),s=o.getChildByName("playerName"),c=r.getChildByName("playerAvatarSprite"),u=i.getChildByName("avatarOuterButton"),h=n.getChildByName("topGradient");if(c){if(c.currentAnimation!=="avatar"+e.avatar)console.log("playerAvatarSprite",p),r.removeAllChildren(),(p=f.createSprite(r,f.avatarSpriteSheet,"avatar"+e.avatar,"playerAvatarSprite",.178)).mask=l;e.displayname===userData.displayname&&(this.selectedSeat=e.pos,A.openTauntList(!1,12),A.tauntContainer.visible=!1,A.addTaunt(e.pos,G.isBettingOpen),r.on("click",function(){d.displayStandingPlayerList(!1),O.displayMinMaxContainer(!1),A.tauntDisable||(console.log("openTauntList",2),A.openTauntList(!0))}))}else{var p;n.visible=!1,h.visible=!1,console.log("topGradient 3",h.visible),o.visible=!0,i.visible=!0,(p=f.createSprite(r,f.avatarSpriteSheet,"avatar"+e.avatar,"playerAvatarSprite",.178)).mask=l,s.text=e.displayname===userData.displayname?"YOU":this.formatName(e.displayname),u.visible=e.displayname===userData.displayname,e.displayname===userData.displayname&&(console.log("playerAvatarImgCont ====",r),this.selectedSeat=e.pos,A.openTauntList(!1,11),A.tauntContainer.visible=!1,A.addTaunt(e.pos,G.isBettingOpen),C.addMouseOverandOut(r,1,1),r.on("click",function(){d.displayStandingPlayerList(!1),O.displayMinMaxContainer(!1),A.tauntDisable||(console.log("openTauntList",1),A.openTauntList(!0))}))}},R.prototype.supplySeats=function(e){for(var t=0;t<e.length;t++)e[t].pos>-1&&this.playerSit(e[t],t);this.checkSeatedPlayer(e)},R.prototype.supplySeatsAfterTimer=function(e){this.disableSeat(!1);for(var t=0;t<e.length;t++)e[t].pos>-1&&this.playerSit(e[t],t);this.checkSeatedPlayer(e),this.disableSeat(!0)},R.prototype.checkSeatedPlayer=function(e){for(var t=this,a=0;a<t.seatsContainer.children.length;a++)!function(){var n=a,i=t.seatsContainer.getChildByName("seatContainer-"+n),o=i.getChildByName("avatarContainer"),r=i.getChildByName("avatarButtonContainer"),l=i.getChildByName("displayNameContainer"),s=o.getChildByName("playerAvatarImgCont"),c=l.getChildByName("playerName"),d=o.getChildByName("avatarOuterButton"),u=s.getChildByName("playerAvatarSprite"),h=r.getChildByName("topGradient");if(u){var p=e.findIndex(e=>e.pos===n);p<0&&(console.log("check seated players",p,n,i.name),s.removeAllChildren(),c.text="",h.visible=!0,console.log("topGradient 1",h.visible),r.visible=!0,l.visible=!1,o.visible=!1,d.visible=!1,t.selectedSeat===n&&(A.tauntMainContainer.visible=!1))}}()},R.prototype.removeFromSeat=function(){var e=this.seatsContainer.getChildByName("seatContainer-"+this.selectedSeat);if(e){var t=e.getChildByName("avatarContainer"),a=e.getChildByName("avatarButtonContainer"),n=e.getChildByName("displayNameContainer"),i=t.getChildByName("playerAvatarImgCont"),o=n.getChildByName("playerName"),r=t.getChildByName("avatarOuterButton"),l=a.getChildByName("topGradient");e.getChildByName("disableButton");o.text="",i.removeAllChildren(),A.tauntMainContainer.visible=!1,l.visible=!0,console.log("topGradient 2",l.visible),a.visible=!0,n.visible=!1,t.visible=!1,r.visible=!1,this.selectedSeat=null}},R.prototype.formatName=function(e){var t,a=e;if(a.length>8){a.length;t=a.substring(0,4)+"..."+a.substring(a.length-4,a.length)}else t=a;return t},R.prototype.disableSeat=function(e){var t,a,n,i,o,r,l,s=this;if(s.isSeatDisable===e)return!1;s.isSeatDisable=e;for(var c=0;c<s.seatPos.length;c++)void 0,a=void 0,void 0,i=void 0,o=void 0,r=void 0,l=void 0,t=c,a=s.seatsContainer.getChildByName("seatContainer-"+t),n=a.getChildByName("avatarContainer").getChildByName("playerAvatarImgCont").getChildByName("playerAvatarSprite"),i=a.getChildByName("disableButton"),o=a.getChildByName("avatarButtonContainer"),r=o.getChildByName("seatIcon"),l=o.getChildByName("seatLabel"),n||(i.visible=e,e?(l.scale=1,o.scale=1,r.y=-5,a.cache(-45,-45,90,90)):a.uncache())},R.prototype.clearSeat=function(){this.seatPos=[{id:1,player:null,x:-489,y:0},{id:2,player:null,x:-396,y:0},{id:3,player:null,x:-303,y:0},{id:4,player:null,x:303,y:0},{id:5,player:null,x:396,y:0},{id:6,player:null,x:489,y:0}],this.seatsContainer=null,this.selectedSeat=null,this.isSeatDisable=null};var L=new R,N=function(){this.balance=0,this.totalWin=0,this.totalBet=0,this.balanceValue=null,this.totalWinValue=null,this.totalBetValue=null,this.isMenuOpen=!1,this.isHomeEnabled=!0,this.isMenuEnabled=!0,this.panelAlertContainer=null,this.panelPopupContainer=null,this.infoActive=null,this.avatarActive=null,this.reportActive=null,this.enableRebet=!1,this.rebetButton=null,this.isRebetHidden=!0,this.currentGameRule=1,this.splitUrl=window.location.host.split("."),this.fullScreenSprite=null,this.minimizeSprite=null,this.footerBgContainer=null,this.currentErrorCode=null,this.alertContainerDone=!1,this.isAlertVisible=!1,this.donotshowButton=null,this.donotshowCheck=null,this.isdonotShowChecked=!1};N.prototype.init=function(){var e=this;this.createCPanel(function(){e.isdonotShowChecked=!!localStorage.getItem("donotshowPlaceBetInfo"),console.log("1121isdonotShowChecked",e.isdonotShowChecked),O.isPlaceBetInfoVisible=!e.isdonotShowChecked,console.log("1121isPlaceBetInfoVisible",O.isPlaceBetInfoVisible),O.placeBetInfoContainer=C.createContainer(C.mainContainer,"placeBetInfoContainer",O.isPlaceBetInfoVisible);var t=C.createBitmap(O.placeBetInfoContainer,"placebetinfo_sbo","placeBetBg",1);e.donotshowButton=C.createRect(O.placeBetInfoContainer,"donotshowButton","#FFF",2,"#000",41,41,!0),e.donotshowButton.x=-94,e.donotshowButton.y=205,e.donotshowCheck=C.createBitmap(O.placeBetInfoContainer,"check","donotshowCheck",1),e.donotshowCheck.visible=!1,e.donotshowCheck.x=-94,e.donotshowCheck.y=205,console.log("donotshowButton",e.donotshowButton),e.donotshowButton.on("click",function(){e.donotshowCheck.visible=!0,e.isdonotShowChecked=!0,localStorage.setItem("donotshowPlaceBetInfo",!0)}),t.on("click",function(){e.placeBetDisplay(!1)})})},N.prototype.placeBetDisplay=function(e){O.isPlaceBetInfoVisible=e,O.placeBetInfoContainer.visible=O.isPlaceBetInfoVisible,O.betHereMainContainer.visible||(O.isBetHereVisible=!0,O.animateBetHere(O.isBetHereVisible))},N.prototype.createCPanel=function(e){var t=C.mainContainer,a=(C.gameStage,C.createContainer(t,"panelContainer",!0));a.y=330,this.panelPopupContainer=C.createContainer(t,"panelPopupContainer",!0);var n=C.createContainer(a,"footerContainer",!0);this.createAlertContainer(t),console.log("##CANVAS panelContainer",a),this.createPlayerDetails(n),this.createMenuContainer(a,n),this.createHomeButtonContainer(a),this.createActionButtons(a),e()},N.prototype.createAlertContainer=function(e){this.panelAlertContainer=C.createContainer(C.alertMainContainer,"panelAlertContainer",!0);var t=C.createContainer(this.panelAlertContainer,"alertContainer",!0);t.y=-520;C.createRoundRect(t,"alertBg","rgba(0, 0, 0, .75)",0,"#000",500,250,4,!0);C.createText(t,"alertHeader","center","middle","#FFF","900 20px Roboto Condensed","").y=-80;var a=C.createText(t,"alertBody","center","middle","#FFF","100 18px Roboto CondensedLight","");a.y=-10,a.lineWidth=400;var i=C.createContainer(t,"okButtonContainer",!0);i.x=-95,i.y=59;C.createRoundRect(i,"okButton","rgba(0, 0, 0, 0)",1,"#B1B1B1",64,45,5,!0),C.createText(i,"okLabel","center","middle","#B1B1B1","900 20px Roboto Condensed",n.getTranslation("Okay"));var o=C.createRoundRect(i,"okButton","rgba(255, 255, 255, 1)",1,"#B1B1B1",64,45,5,!1);i.hitArea=o;var r=C.createContainer(t,"cancelButtonContainer",!0);r.x=95,r.y=59;C.createRoundRect(r,"cancelButton","rgba(255, 255, 255, 1)",1,"#FFF",64,45,5,!0),C.createText(r,"cancelLabel","center","middle","#000","900 20px Roboto Condensed",n.getTranslation("Cancel"));var l=C.createContainer(t,"lowerBetButtonContainer",!1);l.x=-68,l.y=59;C.createRoundRect(l,"lowerBetButton","rgba(0, 0, 0, 0)",1,"#B1B1B1",250,45,5,!0),C.createText(l,"lowerBetLabel","center","middle","#B1B1B1","900 20px Roboto Condensed","Lower Bet to Maximum Bet");var s=C.createRoundRect(l,"lowerBetButton","rgba(255, 255, 255, 1)",1,"#B1B1B1",250,45,5,!1);l.hitArea=s;var c=C.createContainer(t,"topUpButtonContainer",!1);c.x=-68,c.y=59;C.createRoundRect(c,"topUpButton","rgba(0, 0, 0, 0)",1,"#B1B1B1",250,45,5,!0),C.createText(c,"topUpLabel","center","middle","#B1B1B1","900 20px Roboto Condensed","Top Up to Minimum Bet");var d=C.createRoundRect(c,"topUpButton","rgba(255, 255, 255, 1)",1,"#B1B1B1",250,45,5,!1);c.hitArea=d,C.addMouseOverandOut(i,1.2,1),C.addMouseOverandOut(r,1.2,1),C.addMouseOverandOut(l,1.2,1),C.addMouseOverandOut(c,1.2,1),this.alertContainerDone=!0,console.log("##CANVAS panelAlertContainer",this.panelAlertContainer)},N.prototype.setAlert=function(e,t,a){var n=this,o=setInterval(function(){if(C.alertCanvas){C.alertCanvas.style.display="block";var r=i.list[e]?e:"default error",l=a?a.data.transactionId:"",s=i.list[r].title,c=i.list[r].message+l,u=i.list[r].button,h=i.list[r].pos;n.isAlertVisible=!0;var p=setInterval(function(){if(n.alertContainerDone){clearInterval(p);var e=n.panelAlertContainer.getChildByName("alertContainer");0===e.y&&"stand player"!==n.currentErrorCode&&"invalid session"!==n.currentErrorCode&&"kick player"!==n.currentErrorCode&&(r=n.currentErrorCode,s=i.list[r].title,c=i.list[r].message+l,u=i.list[r].button,h=i.list[r].pos),console.log("SET ALERT",r),e.alpha=r===n.currentErrorCode&&0===e.y?1:0;var o=e.getChildByName("alertHeader"),g=e.getChildByName("alertBody"),m=e.getChildByName("okButtonContainer"),b=e.getChildByName("cancelButtonContainer"),y=e.getChildByName("lowerBetButtonContainer"),v=e.getChildByName("topUpButtonContainer"),f=C.mainContainer.getChildByName("panelContainer"),S=f.getChildByName("actionContainer"),B=f.getChildByName("homeButtonContainer"),w=f.getChildByName("footerContainer");o.text=s,o.y=a?-30:-80,o.color=i.list[r].titleColor,g.text=c,g.y=h,"side bet alert"===r?(g.color=i.list[r].titleColor,o.y=0):g.color="#FFF",createjs.Tween.get(e).to({y:0,alpha:1},300),createjs.Tween.get(S,{override:!0}).to({x:685},300),n.closeMenu(),m.visible=2!==u&&4!==u&&5!==u,m.x=u<2?0:-95,b.visible=1!==u,b.x=2===u?0:95,b.x=4===u||5===u?161:b.x,y.visible=4===u,v.visible=5===u,u<1&&(m.visible=!1,b.visible=!1),m.on("click",function(){t(!0)}),b.on("click",function(){t(!1)}),y.on("click",function(){t(!0)}),v.on("click",function(){t(!0)}),console.log("min max lowerBetButtonContainer",y);var T=n.panelPopupContainer.getChildByName("infoContentContainer"),x=n.panelPopupContainer.getChildByName("infoContentBgCont"),R=n.panelPopupContainer.getChildByName("avatarContentContainer"),N=n.panelPopupContainer.getChildByName("reportContentContainer");n.infoActive.visible=!0,n.avatarActive.visible=!1,createjs.Tween.get(T).to({x:-350,alpha:0},300).call(function(){T.visible=!1,x.visible=!1}),createjs.Tween.get(R).to({x:-350,alpha:0},300).call(function(){R.visible=!1}),createjs.Tween.get(N).to({x:-350,alpha:0},300).call(function(){N.visible=!1}),createjs.Tween.get(w).to({y:0},300),createjs.Tween.get(n.footerBgContainer).to({y:285},300),createjs.Tween.get(B).to({x:610},300),n.currentErrorCode=r,d.displayStandingPlayerList(!1),O.displayMinMaxContainer(!1),A.openTauntList(!1,5),"stand player"===r?setTimeout(function(){L.removeFromSeat(),n.hideAlert()},2e3):"invalid session"===r&&clearInterval(O.sessionInterval)}},200);clearInterval(o)}},200);console.log("SET ALERT",e)},N.prototype.hideAlert=function(){console.log("SET ALERT hide");var e=this.panelAlertContainer.getChildByName("alertContainer"),t=(C.mainContainer.getChildByName("panelContainer"),e.getChildByName("okButtonContainer")),a=e.getChildByName("cancelButtonContainer"),n=e.getChildByName("lowerBetButtonContainer"),i=e.getChildByName("topUpButtonContainer");this.isAlertVisible=!1,createjs.Tween.get(e).to({y:-520,alpha:0},300).call(function(){C.alertCanvas.style.display="none"}),setTimeout(function(){C.alertCanvas.style.display="none"},300),t.removeAllEventListeners("click"),a.removeAllEventListeners("click"),n.removeAllEventListeners("click"),i.removeAllEventListeners("click"),this.displayAction()},N.prototype.createPlayerDetails=function(e){var t=C.createContainer(e,"balanceContainer",!0);t.x=-150,C.createText(t,"balanceLabel","center","middle","#FFF","200 18px Roboto Condensed",n.getTranslation("balance")).y=-27,this.balanceValue=C.createText(t,"balanceLabel","center","middle","#FFF","200 22px Roboto Condensed",this.balance.toLocaleString()),this.balanceValue.y=-7;var a=C.createContainer(e,"totalWinContainer",!0),i=C.createText(a,"totalWinLabel","center","middle","#FFF","200 18px Roboto Condensed",n.getTranslation("totalWin"));i.y=-27,this.totalWinValue=C.createText(a,"totalWinLabel","center","middle","#FFF","200 22px Roboto Condensed",this.totalWin.toLocaleString()),this.totalWinValue.y=-7;var o=C.createContainer(e,"totalBetContainer",!0);o.x=150;var r=C.createText(o,"totalBetLabel","center","middle","#FFF","200 18px Roboto Condensed",n.getTranslation("totalBet"));r.y=-27,this.totalBetValue=C.createText(o,"totalBetLabel","center","middle","#FFF","200 22px Roboto Condensed",this.totalBet.toLocaleString()),this.totalBetValue.y=-7,console.log("this.balanceValue",this.balanceValue),console.log("totalWinLabel",i),console.log("totalBetLabel",r)},N.prototype.setTotalWin=function(e){this.totalWin=e.totalPayout,C.animateNumber(0,e.totalPayout,function(e,t){k.totalWinValue.text=e||0})},N.prototype.createMenuContainer=function(e,t){var a=this,n=C.createContainer(e,"menuIconsContainer",!0);n.x=-680,n.y=-360;var i=C.createRect(n,"panelBg","rgba(0,0,0,.75)",1,"rgba(0,0,0,0)",1280,720,!0);i.y=30,i.x=-620,console.log("panelBg",i);C.createRect(n,"menuIconsBg","rgba(0, 0, 0, .75)",0,"rgba(0, 0, 0, 0)",80,660,!0);var o=C.createContainer(e,"menuContainer",!0);o.x=-605,o.y=-24;f.createSprite(o,f.panelSpriteSheet,"menu","menuSprite",1);f.createSprite(o,f.panelSpriteSheet,"close","closeSprite",1).scaleY=0;var r=C.createRect(o,"menuHitArea","rgba(255, 255, 255, 1)",.5,"#000",80,80,!1);o.hitArea=r;var l=C.createContainer(a.panelPopupContainer,"infoContentBgCont",!1),s=C.createRect(l,"infoContentHitArea","rgba(255, 255, 255, 1)",.5,"#000",1280,720,!1);l.hitArea=s,l.x=70,l.on("click",function(){a.hideMenu()});var c=C.createContainer(a.panelPopupContainer,"infoContentContainer",!1),u=C.createContainer(a.panelPopupContainer,"avatarContentContainer",!1),h=C.createContainer(a.panelPopupContainer,"reportContentContainer",!1);a.createFullScreenContainer(n),a.createMuteContainer(n),a.createReportContainer(n,c,u,h),a.createUserContainer(n,c,u,h),a.createInfoContainer(n,c,u,h),C.addMouseOverandOut(o,1.2,1),o.on("click",function(n){a.isMenuEnabled&&C.checkSession(function(n){if(n){var i=e.getChildByName("actionContainer"),o=e.getChildByName("homeButtonContainer");a.isMenuOpen?(a.closeMenu(),createjs.Tween.get(c).to({x:-350,alpha:0},300).call(function(){c.visible=!1,l.visible=!1}),createjs.Tween.get(u).to({x:-350,alpha:0},300).call(function(){u.visible=!1}),createjs.Tween.get(h).to({x:-350,alpha:0},300).call(function(){h.visible=!1}),createjs.Tween.get(i).to({x:a.isRebetHidden?685:585},300),createjs.Tween.get(t).to({y:0},300),createjs.Tween.get(a.footerBgContainer).to({y:285},300),createjs.Tween.get(o).to({x:610},300).call(function(){a.avatarActive.visible=!1,a.reportActive.visible=!1,a.infoActive.visible=!0})):(a.openMenu(),c.visible=!0,l.visible=!0,createjs.Tween.get(c).to({x:0,alpha:1},300).call(function(){c.visible=!0,console.log("open menu infoContentContainer",c)}),createjs.Tween.get(i).to({x:685},300),createjs.Tween.get(t).to({y:100},300),createjs.Tween.get(a.footerBgContainer).to({y:350},300),createjs.Tween.get(o).to({x:670},300),d.displayStandingPlayerList(!1),O.displayMinMaxContainer(!1),A.openTauntList(!1,6))}else C.displayAlert("invalid session")})}),console.log("##CANVAS menuContainer ",o),console.log("##CANVAS menuIconsContainer ",n)},N.prototype.hideMenu=function(){var e=this,t=C.mainContainer.getChildByName("panelContainer"),a=(t.getChildByName("actionContainer"),t.getChildByName("homeButtonContainer")),n=e.panelPopupContainer.getChildByName("infoContentContainer"),i=e.panelPopupContainer.getChildByName("infoContentBgCont"),o=e.panelPopupContainer.getChildByName("avatarContentContainer"),r=e.panelPopupContainer.getChildByName("reportContentContainer"),l=t.getChildByName("footerContainer");e.closeMenu(),createjs.Tween.get(n).to({x:-350,alpha:0},300).call(function(){n.visible=!1,i.visible=!1}),createjs.Tween.get(o).to({x:-350,alpha:0},300).call(function(){o.visible=!1}),createjs.Tween.get(r).to({x:-350,alpha:0},300).call(function(){r.visible=!1}),e.displayAction(),createjs.Tween.get(l).to({y:0},300),createjs.Tween.get(e.footerBgContainer).to({y:285},300),createjs.Tween.get(a).to({x:610},300).call(function(){e.avatarActive.visible=!1,e.reportActive.visible=!1,e.infoActive.visible=!0})},N.prototype.createFullScreenContainer=function(e){var t=this,a=C.createContainer(e,"fullScreenContainer",!(!C.isMobile||C.isIOS));a.y=227,a.x=5,t.fullScreenSprite=f.createSprite(a,f.panelSpriteSheet,"fullscreen","fullScreenSprite",1),t.minimizeSprite=f.createSprite(a,f.panelSpriteSheet,"minimize","minimizeSprite",1),t.minimizeSprite.visible=!1;var n=C.createRect(a,"hitArea","rgba(255, 255, 255, 1)",.5,"#000",65,108,!1);a.hitArea=n,C.addMouseOverandOut(a,1.2,1),a.on("click",function(){C.applyFullScreen(),t.minimizeSprite.visible=!!C.isFullScreen,t.fullScreenSprite.visible=!C.isFullScreen}),console.log("fullScreenContainer",a)},N.prototype.createMuteContainer=function(e){var a=C.createContainer(e,"muteContainer",!0);a.y=C.isMobile&&!C.isIOS?119:227,a.x=5;var n=f.createSprite(a,f.panelSpriteSheet,"mute","muteSprite",1);n.visible=D.mute;var i=f.createSprite(a,f.panelSpriteSheet,"unmute","unMuteSprite",1);i.visible=!D.mute;var o=C.createRect(a,"hitArea","rgba(255, 255, 255, 1)",.5,"#000",65,108,!1);a.hitArea=o,C.addMouseOverandOut(a,1.2,1),a.on("click",function(){D.toggleMute(),i.visible=!D.mute,n.visible=!!D.mute,t.emit("update settings",{type:"sounds",isMute:D.mute})}),console.log("muteContainer",a)},N.prototype.createReportContainer=function(e,t,a,n){var i=this,o=C.createContainer(e,"reportContainer",!0);o.y=C.isMobile&&!C.isIOS?11:119,o.x=5;f.createSprite(o,f.panelSpriteSheet,"doc","reportSprite",1);var r=C.createRect(o,"hitArea","rgba(255, 255, 255, 1)",.5,"#000",65,108,!1);o.hitArea=r,i.reportActive=C.createRect(o,"reportActive","rgba(255, 255, 255, 1)",0,"rgba(0, 0, 0, 0)",4,95,!0),i.reportActive.x=-33,i.reportActive.visible=!1,C.addMouseOverandOut(o,1.2,1),n.x=-350,n.alpha=0;C.createBitmap(n,"report_table","reportContentBg",1);C.createText(n,"reportLabel","center","middle","#FFF","900 30px Roboto CondensedBold","LATEST ROUND(S)").y=-217;var l=C.createContainer(n,"reportContentBgHitAreaCont",!0),s=C.createRoundRect(l,"reportContentBgHitArea","rgba(0, 0, 0, 1)",0,"#000",1e3,500,4,!1);l.hitArea=s,l.on("click",function(){}),I.createReportListContainer(n);var c=i.panelPopupContainer.getChildByName("infoContentBgCont");o.on("click",function(){createjs.Tween.get(a).to({x:-350,alpha:0},300).call(function(){a.visible=!1}),createjs.Tween.get(t).to({x:-350,alpha:0},300).call(function(){t.visible=!1,c.visible=!0}),n.visible=!0,createjs.Tween.get(n).wait(300).to({x:0,alpha:1},300),i.avatarActive.visible=!1,i.infoActive.visible=!1,i.reportActive.visible=!0}),console.log("reportContainer",o)},N.prototype.createUserContainer=function(e,t,a,i){var o=this,r=C.createContainer(e,"userContainer",!0);r.y=C.isMobile&&!C.isIOS?-96:11,r.x=5;f.createSprite(r,f.panelSpriteSheet,"user","userSprite",1);var l=C.createRect(r,"hitArea","rgba(255, 255, 255, 1)",.5,"#000",65,108,!1);r.hitArea=l,o.avatarActive=C.createRect(r,"avatarActive","rgba(255, 255, 255, 1)",0,"rgba(0, 0, 0, 0)",4,95,!0),o.avatarActive.x=-33,o.avatarActive.visible=!1,C.addMouseOverandOut(r,1.2,1),a.x=-350,a.alpha=0;C.createRoundRect(a,"avatarContentBg","rgba(0, 0, 0, .75)",0,"#000",1e3,500,4,!0);C.createText(a,"avatarLabel","center","middle","#FFF","900 30px Roboto CondensedBold",n.getTranslation("avatarSelection")).y=-217;var s=C.createContainer(a,"avatarContentBgHitAreaCont",!0),c=C.createRoundRect(s,"avatarContentBgHitArea","rgba(0, 0, 0, 1)",0,"#000",1e3,500,4,!1);s.hitArea=c,s.on("click",function(){}),h.createAvatarSelection(a);var d=o.panelPopupContainer.getChildByName("infoContentBgCont");r.on("click",function(){h.reload(),createjs.Tween.get(t).to({x:-350,alpha:0},300).call(function(){t.visible=!1,d.visible=!0}),createjs.Tween.get(i).to({x:-350,alpha:0},300).call(function(){i.visible=!1}),a.visible=!0,createjs.Tween.get(a).wait(300).to({x:0,alpha:1},300),o.avatarActive.visible=!0,o.infoActive.visible=!1,o.reportActive.visible=!1}),console.log("userContainer",r,o.avatarActive)},N.prototype.createRoadMapContainer=function(e){var t=C.createContainer(e,"roadMapContainer",!0);t.y=-90;f.createSprite(t,f.panelSpriteSheet,"roadmap","roadmapSprite",1);var a=C.createRect(t,"hitArea","rgba(255, 255, 255, 1)",.5,"#000",65,108,!1);t.hitArea=a,C.addMouseOverandOut(t,1.2,1)},N.prototype.createInfoContainer=function(e,t,a,n){var i=this,o=C.createContainer(e,"infoContainer",!0);o.y=C.isMobile&&!C.isIOS?-203:-96,o.x=5;f.createSprite(o,f.panelSpriteSheet,"info","infoSprite",1);var r=C.createRect(o,"hitArea","rgba(255, 255, 255, 1)",.5,"#000",65,108,!1);o.hitArea=r,i.infoActive=C.createRect(o,"infoActive","rgba(255, 255, 255, 1)",0,"rgba(0, 0, 0, 0)",4,95,!0),i.infoActive.x=-33,C.addMouseOverandOut(o,1.2,1),console.log("infoContainer",o),t.x=-350,t.alpha=0;C.createRoundRect(t,"infoContentBg","rgba(0, 0, 0, 0)",0,"#000",1e3,500,4,!0);var l=f.createSprite(t,f.gameGuideSpriteSheet,"game_rule_"+i.currentGameRule,"gameRule",1);l.on("click",function(){});var s=C.createContainer(t,"gameRuleLeftArrowCont",!0),c=(C.createBitmap(s,"arrow","gameRuleLeftArrow",.85),C.createRect(s,"gameRuleLeftArrowHitArea","rgba(255, 255, 255, 1)",1,"#000",40,30,!1));s.hitArea=c,s.rotation=90,s.x=-476,C.addMouseOverandOut(s,1.2,1);var d=C.createContainer(t,"gameRuleRightArrowCont",!0),u=(C.createBitmap(d,"arrow","gameRuleRightArrow",.85),C.createRect(d,"gameRuleRightArrowHitArea","rgba(255, 255, 255, 1)",1,"#000",40,30,!1));d.hitArea=u,d.rotation=-90,d.x=476,C.addMouseOverandOut(d,1.2,1),s.on("click",function(){i.currentGameRule=1===i.currentGameRule?4:i.currentGameRule-1,l.gotoAndStop("game_rule_"+i.currentGameRule),console.log("left",i.currentGameRule,l)}),d.on("click",function(){i.currentGameRule=4===i.currentGameRule?1:i.currentGameRule+1,l.gotoAndStop("game_rule_"+i.currentGameRule),console.log("right",i.currentGameRule,l)}),console.log("infoContentContainer",t),o.on("click",function(){t.visible=!0,createjs.Tween.get(a).to({x:-350,alpha:0},300).call(function(){a.visible=!1}),createjs.Tween.get(n).to({x:-350,alpha:0},300).call(function(){n.visible=!1}),createjs.Tween.get(t).wait(a.visible?300:0).to({x:0,alpha:1},300),i.avatarActive.visible=!1,i.reportActive.visible=!1,i.infoActive.visible=!0})},N.prototype.createHomeButtonContainer=function(e){var a=this,n=C.createContainer(e,"homeButtonContainer",!0);n.y=-660,n.x=610;C.createRect(n,"homebg","rgba(0, 0, 0, .75)",0,"rgba(0, 0, 0, 0)",60,60,!0);var i=C.createContainer(n,"homeContainer",!0),o=C.createRect(i,"hitArea","rgba(0, 255, 255, 1)",.5,"rgba(0, 0, 0, 1)",100,100,!1);i.hitArea=o;f.createSprite(i,f.panelSpriteSheet,"home","homeSprite",1);i.on("mouseover",function(e){if(!a.isHomeEnabled)return!1;i.cursor="pointer",createjs.Tween.get(i).to({scaleX:1.2,scaleY:1.2},100)}),i.on("mouseout",function(e){i.cursor="default",createjs.Tween.get(i).to({scaleX:1,scaleY:1},100)}),i.on("mousedown",function(e){createjs.Tween.get(i).to({scaleX:1,scaleY:1},100)}),n.on("click",function(){a.isHomeEnabled&&(C.pushStateHistory(),C.checkSession(function(e){e?(d.displayStandingPlayerList(!1),O.displayMinMaxContainer(!1),A.openTauntList(!1,7),a.setAlert("leave game",function(e){if(e){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(console.log("RESPONSE",n),4==n.readyState&&200==n.status){let e=JSON.parse(n.response);e.error||(t.emit("gotolobby",tableID),window.location.replace(e.url))}},n.open("POST",wsPath+"/gotoLobby",!0),n.send(null)}else a.hideAlert()})):C.displayAlert("invalid session")}))}),console.log("homeButtonContainer",n)},N.prototype.createActionButtons=function(e){var a=this,n=C.createContainer(e,"actionContainer",!0);n.x=685,n.y=-141;var i=C.createContainer(n,"rebetContainer",!0);a.rebetButton=f.createSprite(i,f.tableSpriteSheet,"rebet","rebetButton",1);var o=i.addChild(new createjs.Sprite(f.rebetBorderSpriteSheet,"run"));o.name="rebetButtonAnimation",o.paused=!1,console.log("rebetButtonAnimation",o),o.x=-4,i.on("click",function(){a.enableRebet&&r.tickStarted&&C.checkSession(function(e){if(e){d.displayStandingPlayerList(!1),O.displayMinMaxContainer(!1),A.openTauntList(!1,8);var n=null,i=0;if(O.isSideBetDisabled){var o=C.getRebetValues();n=o.bets,i=o.totalRebetAmount}else n=O.rebetValues,i=O.totalRebetAmount;if(Object.values(n).length>0){var r={bets:Object.values(n),totalAmount:i,pos:null===L.selectedSeat?-1:L.selectedSeat,displayname:userData.displayname,er:userData.exchangeRate.value};t.emit("rebet",r),a.updateRebetStatus(!1),O.rebetValuesTemp=n,O.totalRebetTemp=i,O.rebetValues={},O.totalRebetAmount=0}}else C.displayAlert("invalid session")})}),i.on("mouseover",function(e){if(!a.enableRebet)return!1;i.cursor="pointer",createjs.Tween.get(i).to({scaleX:1.2,scaleY:1.2},100)}),i.on("mouseout",function(e){i.cursor="default",createjs.Tween.get(i).to({scaleX:1,scaleY:1},100)}),i.on("mousedown",function(e){createjs.Tween.get(i).to({scaleX:1,scaleY:1},100)}),console.log("actionContainer",n)},N.prototype.closeMenu=function(){var e=this,t=C.mainContainer.getChildByName("panelContainer"),a=t.getChildByName("menuIconsContainer"),n=t.getChildByName("menuContainer"),i=n.getChildByName("menuSprite"),o=n.getChildByName("closeSprite");e.isMenuOpen=!1,createjs.Tween.get(a).to({alpha:0,x:-670},200),createjs.Tween.get(o).to({scaleY:e.isMenuOpen?1:0},100).wait(20).call(function(){createjs.Tween.get(i).to({scaleY:e.isMenuOpen?0:1},100)})},N.prototype.openMenu=function(){var e=this,t=C.mainContainer.getChildByName("panelContainer"),a=t.getChildByName("menuIconsContainer"),n=t.getChildByName("menuContainer"),i=n.getChildByName("menuSprite"),o=n.getChildByName("closeSprite"),r=a.getChildByName("panelBg");e.isMenuOpen=!0,a.alpha=0,createjs.Tween.get(a).to({alpha:1,x:-610},200),createjs.Tween.get().call(function(){createjs.Tween.get(r).to({x:610},200),createjs.Tween.get(r).to({alpha:1},200)}),createjs.Tween.get(i).to({scaleY:e.isMenuOpen?0:1},100).wait(20).call(function(){createjs.Tween.get(o).to({scaleY:e.isMenuOpen?1:0},100)})},N.prototype.updateRebetStatus=function(e){var t=C.mainContainer.getChildByName("panelContainer").getChildByName("actionContainer").getChildByName("rebetContainer"),a=t.getChildByName("rebetButtonAnimation");this.enableRebet=e,this.rebetButton.color=e?"#FFF":"#1A1A1A";var n=(new createjs.ColorMatrix).adjustSaturation(-100);e?(this.rebetButton.uncache(),this.displayAction(),a.paused=!1,a.visible=!0):(this.rebetButton.filters=[new createjs.ColorMatrixFilter(n)],this.rebetButton.cache(-45,-45,90,90),a.paused=!0,a.visible=!1,t.scale=1),this.isRebetHidden||this.displayAction()},N.prototype.getChipList=function(e,t,a){var n=[],i=e;do{var o=T.allChips.reverse().find(e=>e<=i);n.push(o),i-=o,T.allChips.reverse(),i<1&&a(n,t)}while(i>0)},N.prototype.rebet=function(e){for(var a=[],n=0,i=0;i<e.bets.length;i++){var o=e.bets[i];this.getChipList(o.stake,o.code,function(i,o){n++;for(var r=0;r<i.length;r++){var l=r,s=o.length>3?29:"TIE"===o?50:75,c=o.length>3?70:"TIE"===o?50:75;a.push({betAmount:i[l],pos:e.pos,betType:o,destination:{x:C.randomOrigin(c)+O.betOrigins[o].x,y:C.randomOrigin(s)+O.betOrigins[o].y},displayname:userData.displayname,er:userData.exchangeRate.value})}n===e.bets.length&&t.emit("rebet chips",a)})}},N.prototype.disableHome=function(e){this.isHomeEnabled=e;var t=C.mainContainer.getChildByName("panelContainer").getChildByName("homeButtonContainer").getChildByName("homeContainer").getChildByName("homeSprite"),a=(new createjs.ColorMatrix).adjustBrightness(-200);e?t.cacheCanvas&&t.uncache():(t.filters=[new createjs.ColorMatrixFilter(a)],t.cache(-30,-30,60,60))},N.prototype.disableMenu=function(e){this.isMenuEnabled=e;var t=C.mainContainer.getChildByName("panelContainer").getChildByName("menuContainer"),a=t.getChildByName("menuSprite"),n=(new createjs.ColorMatrix).adjustBrightness(-200);e?a.cacheCanvas&&a.uncache():(a.filters=[new createjs.ColorMatrixFilter(n)],t.scale=1,a.cache(-30,-30,60,60))},N.prototype.displayAction=function(){this.panelAlertContainer.getChildByName("alertContainer");var e=C.mainContainer.getChildByName("panelContainer").getChildByName("actionContainer"),t=this.isRebetHidden&&!this.enableRebet?685:585;t=this.isMenuOpen?685:t,t=this.isAlertVisible?685:t,createjs.Tween.get(e).to({x:t},300)},N.prototype.clearPanel=function(){this.balance=0,this.totalWin=0,this.totalBet=0,this.balanceValue=null,this.totalWinValue=null,this.totalBetValue=null,this.isMenuOpen=!1,this.isHomeEnabled=!0,this.isMenuEnabled=!0,this.panelAlertContainer=null,this.panelPopupContainer=null,this.infoActive=null,this.avatarActive=null,this.enableRebet=!1,this.rebetButton=null,this.isRebetHidden=!0,this.currentGameRule=1,this.splitUrl=window.location.host.split("."),this.fullScreenSprite=null,this.minimizeSprite=null,this.footerBgContainer=null};var k=new N,F=function(){this.betOption=[{name:"Dragon",label:"D",displayname:"D R A G O N",w:500,h:274,x:-381,y:-139,color:"rgba(213, 0, 0, .5)",betValue:0,border:[9,9,9,9],code:"DRG",font:"900 58px Roboto CondensedBold",fcolor:"#d50000",ratio:"1:1",tableLimit:"dragontiger"},{name:"Tiger",label:"T",displayname:"T I G E R",w:500,h:274,x:381,y:-139,color:"rgba(0, 0, 255, .3)",betValue:0,border:[9,9,9,9],code:"TGR",font:"900 58px Roboto CondensedBold",fcolor:"#0000ff",ratio:"1:1",tableLimit:"dragontiger"},{name:"Tie",label:"Tie",displayname:"TIE",w:196,h:180,x:0,y:96,color:"rgba(14, 232, 55, .3)",betValue:0,border:[9,9,9,9],code:"TIE",font:"900 24px Roboto CondensedBold",fcolor:"#0ee837",ratio:"8:1",tableLimit:"tie"}],this.sideBetOption=[{name:"Big",label:"B",w:262,h:99.5,x0:-119,x1:-147,y:-52,color:"gray",betValue:0,border:[9,9,9,9],code:"BIG",ratio:"1:1",tableLimit:"bigsmall"},{name:"Small",label:"S",w:262,h:99.5,x0:147,x1:119,y:-52,color:"gray",betValue:0,border:[9,9,9,9],code:"SML",ratio:"1:1",tableLimit:"bigsmall"},{name:"Red",label:"R",w:262,h:99.5,x0:-120,x1:-147,y:52,color:"red",betValue:0,border:[9,9,9,9],code:"RED",ratio:"1:1",tableLimit:"suitcolor"},{name:"Black",label:"BLK",w:262,h:99.5,x0:147,x1:118,y:52,color:"black",betValue:0,border:[9,9,9,9],code:"BLK",ratio:"1:1",tableLimit:"suitcolor"}],this.cardSlot=[{name:"Dragon",w:105,h:162,r:8,x:-67},{name:"Tiger",w:105,h:162,r:8,x:69}],this.gameContainer=null,this.betHereMainContainer=null,this.results=[],this.resourcesComplete=!1,this.tableDetails=null,this.haveBet=!1,this.allBets=[],this.betOrigins={DRG:{x:-382,y:-215,tbx:-381,tby:-23},TGR:{x:382,y:-215,tbx:381,tby:-23},TIE:{x:0,y:20,tbx:0,tby:27},DRGBIG:{x:-500,y:-27,tbx:-500,tby:23},DRGSML:{x:-234,y:-27,tbx:-233,tby:23},DRGRED:{x:-502,y:76,tbx:-500,tby:127},DRGBLK:{x:-234,y:76,tbx:-233,tby:127},TGRBIG:{x:234,y:-27,tbx:233,tby:23},TGRSML:{x:502,y:-27,tbx:500,tby:23},TGRRED:{x:234,y:76,tbx:233,tby:127},TGRBLK:{x:502,y:76,tbx:500,tby:127}},this.totalBetTemp=0,this.balanceTemp=0,this.cardValueDrg=null,this.cardValueTgr=null,this.tableMinVal=null,this.tableMaxVal=null,this.rebetValues={},this.totalRebetAmount=0,this.standingplayerCount=null,this.gameRoundLabel=null,this.statusLabel=null,this.tableBitmap=null,this.gradientLineTop=null,this.gradientLineBot=null,this.isDrawingPhase=!1,this.gameTicker=null,this.numOfRounds=0,this.isBetHereVisible=!1,this.isPlaceBetInfoVisible=!0,this.placeBetInfoContainer=null,this.canBet=!0,this.rebetValuesTemp={},this.totalRebetTemp=null,this.sessionInterval=null,this.isSideBetDisabled=!1,this.sideBetDisableContainer=null,this.roundCounter=0,this.tableNameLabel=null,this.playerCountLabel=null,this.tableInfo={tableName:"null",maxPlayer:50},this.tableNameHitArea=null,this.waitForNextRoundContainer=null,this.playerCountIcon=null,this.currentBetType=null};F.prototype.init=function(){var e=this;this.createGameContainer(function(){e.createTableContainer(function(){e.createTableHeaderContainer(function(){e.createCardSlotContainer(function(){r.createTimerContainer(function(){B.createRoadmapContainer(function(){e.createSideBetDisableContainer(function(){e.createBetsContainer(function(){e.createBetHereContainer(function(){e.createShufflingContainer(function(){L.createSeats(function(){e.createTotalBetContainer(function(){e.createWaitForNextRoundContainer(),e.createMinMaxContainer(function(){A.createBubbleContainer(function(){A.createTauntContainer(function(){e.createBettingStatusContainer(function(){d.createStandingContainer(function(){e.createNotifContainer(function(){e.createResultContainer(function(){k.init(),e.gameTicker=createjs.Ticker.on("tick",C.updateGameStage),console.log("##CANVAS- mainContainer",C.mainContainer),console.log("##CANVAS- alertMainContainer",C.alertMainContainer),e.resourcesComplete=!0,C.isMobile?(createjs.Ticker.useRAF=!0,createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED,createjs.Ticker.framerate=30,createjs.Ticker.setFPS(30)):(createjs.Ticker.useRAF=!0,C.isSafari||(createjs.Ticker.timingMode=createjs.Ticker.RAF),createjs.Ticker.framerate=60)})})})})})})})})})})})})})})})})})})})},F.prototype.createGameContainer=function(e){this.gameContainer=C.createContainer(C.mainContainer,"gameContainer",!0),console.log("##CANVAS gameContainer",this.gameContainer),e()},F.prototype.createTableContainer=function(e){var t=this,a=C.createContainer(this.gameContainer,"tableContainer",!0);a.y=-80,t.tableBitmap=C.createBitmap(a,"table","tableBitmap",1),t.tableBitmap.y=80;for(var i=C.createContainer(a,"betOptionsContainer",!0),o=0;o<t.betOption.length;o++)!function(){var e=o,a=C.createContainer(i,"betOptionContainer-"+e,!0);a.x=t.betOption[e].x,a.y=t.betOption[e].y;var r=C.createContainer(a,"betBgContainer",!0);C.createRoundRectComplex(r,"betOptionBg",t.betOption[e].color,1,"rgba(0, 0, 0, 0)",t.betOption[e].w,t.betOption[e].h,t.betOption[e].border,!0).alpha=0;var l=C.createRoundRectComplex(r,"betOptionHitArea","rgba(255, 255, 255, 1)",1,"#000",t.betOption[e].w,t.betOption[e].h,t.betOption[e].border,!1);r.hitArea=l;var s=C.createText(a,"betLabel","center","middle",t.betOption[e].fcolor,t.betOption[e].font,n.getTranslation(t.betOption[e].name));if(s.shadow=new createjs.Shadow("rgba(0, 0, 0, 1)",0,0,6),s.y=e<2?-20:-7,C.createText(a,"betRatio","center","middle","#dde8e4","700 18px Roboto CondensedBold",t.betOption[e].ratio).y=e<2?17:20,r.on("click",function(a){t.sendBet(t.betOption[e].code,null,!1,t.betOption[e].tableLimit,T.chips[C.selectedChip])}),console.log("##CANVAS betOptionContainer",a),e<2)t.createSideBetContainer(e,a,t.betOption[e].color,t.betHereMainContainer);else{var c=C.createText(a,"tieInfo","center","middle","#FFF","200 18px Roboto Condensed",n.getTranslation("allSideBets"));c.shadow=new createjs.Shadow("rgba(0, 0, 0, 1)",0,4,6),c.y=103}}();console.log("##CANVAS tableContainer",a),e()},F.prototype.createSideBetContainer=function(e,t,a,i){var o=this,r=C.createContainer(t,"sideBetOptionsContainer",!0);r.y=243;for(var l=0;l<o.sideBetOption.length;l++)!function(){var t=l,i=C.createContainer(r,"sideBetOptionContainer-"+t,!0);i.x=o.sideBetOption[t]["x"+e],i.y=o.sideBetOption[t].y,console.log("sideBetOptionContainer",i);var s,c,d,u=C.createContainer(i,"sidebetBgContainer",!0),h=o.sideBetOption[t].border;2===t&&e<1||t>2&&e>0?(C.createSBSpecialShape(u,"sideBetOptionBg",a,1,"rgba(0, 0, 0, 0)",!0).alpha=0,s=C.createSBSpecialShape(u,"betOptionHitArea","rgba(255, 255, 255, 1)",1,"#000",!1),u.y=-5,u.x=2===t&&e<1?1:-1,i.hitArea=s,i.scaleX=2===t&&e<1?1:-1,(c=C.createText(i,"sideBetOptionLabel","center","middle","#ddebe6","700 24px Roboto CondensedBold",n.getTranslation(o.sideBetOption[t].name).toUpperCase())).shadow=new createjs.Shadow("rgba(0, 0, 0, 1)",0,0,6),c.y=-8,c.scaleX=2===t&&e<1?1:-1,(d=C.createText(i,"sideBetRatio","center","middle","#dde8e4","700 18px Roboto CondensedBold",o.sideBetOption[t].ratio)).y=18,d.scaleX=2===t&&e<1?1:-1):(C.createRoundRectComplex(u,"sideBetOptionBg",a,1,"rgba(0, 0, 0, 0)",o.sideBetOption[t].w,o.sideBetOption[t].h,h,!0).alpha=0,s=C.createRoundRectComplex(u,"sideBetOptionBg","rgba(255, 255, 255, 1)",1,"#000",o.sideBetOption[t].w,o.sideBetOption[t].h,h,!1),i.hitArea=s,(c=C.createText(i,"sideBetOptionLabel","center","middle","#ddebe6","700 24px Roboto CondensedBold",n.getTranslation(o.sideBetOption[t].name).toUpperCase())).shadow=new createjs.Shadow("rgba(0, 0, 0, 1)",0,0,6),c.y=-8,(d=C.createText(i,"sideBetRatio","center","middle","#dde8e4","700 18px Roboto CondensedBold",o.sideBetOption[t].ratio)).y=18);i.on("click",function(a){var n=e<2?o.betOption[e].code:null;o.sendBet(n,o.sideBetOption[t].code,!1,o.sideBetOption[t].tableLimit,T.chips[C.selectedChip])})}();console.log("##CANVAS sideBetOptionsContainer",r)},F.prototype.createCardSlotContainer=function(e){var t,a,n=this,i=this.gameContainer.getChildByName("tableContainer"),o=C.createContainer(i,"cardSlotMainContainer",!0);o.y=-97;for(var r=0;r<n.cardSlot.length;r++)void 0,a=void 0,t=r,(a=C.createContainer(o,"cardSlotContainer-"+t,!0)).x=n.cardSlot[t].x,a.y=-47,a.scale=1.41;n.cardValueDrg=C.createText(o,"cardValueDrg","center","middle","#FFF","400 40px Roboto Condensed",""),n.cardValueDrg.y=C.isMobile&&C.isIOS?68:73,n.cardValueDrg.x=n.cardSlot[0].x,n.cardValueTgr=C.createText(o,"cardValueTgr","center","middle","#FFF","400 40px Roboto Condensed",""),n.cardValueTgr.y=C.isMobile&&C.isIOS?68:73,n.cardValueTgr.x=n.cardSlot[1].x,console.log("##CANVAS cardSlotMainContainer",o,n.cardValueDrg),e()},F.prototype.createBetsContainer=function(e){C.betsContainer=C.createContainer(this.gameContainer,"betsContainer",!0),C.betsContainer.y=-80;C.createText(C.mainContainer,"fpsLabel","center","middle","green","900 25px Century Gothic","");e()},F.prototype.createSideBetDisableContainer=function(e){var t=this;t.sideBetDisableMainContainer=C.createContainer(t.gameContainer,"sideBetDisableMainContainer",!1),t.sideBetDisableMainContainer.y=-80;for(var a=0;a<t.betOption.length;a++)!function(){var e=a;if(e<2)for(var n=0;n<t.sideBetOption.length;n++)!function(){var a=n,i=t.sideBetOption[a].border;if(2===a&&e<1||a>2&&e>0){(o=C.createContainer(t.sideBetDisableMainContainer,"betHereContainer-"+e+a,!0)).x=t.sideBetOption[a]["x"+e]+t.betOption[e].x,o.y=150,o.scaleX=e>0?-1:1;C.createSBSpecialShape(o,"betHereBg","rgba(0, 0, 0, .5)",1,"rgba(0,0,0,0)",!0)}else{var o;(o=C.createContainer(t.sideBetDisableMainContainer,"betHereContainer-"+e+a,!0)).x=t.sideBetOption[a]["x"+e]+t.betOption[e].x,o.y=a>1?157:52;C.createRoundRectComplex(o,"betHereBg","rgba(0, 0, 0, .5)",1,"rgba(0, 0, 0, 0)",t.sideBetOption[a].w,t.sideBetOption[a].h,i,!0)}}()}();e()},F.prototype.disableSideBetContainer=function(e){this.roundCounter=e.counter,this.roundCounter>50?(this.isSideBetDisabled=!0,this.sideBetDisableMainContainer.visible=!0):(this.isSideBetDisabled=!1,this.sideBetDisableMainContainer.visible=!1),51===this.roundCounter&&(k.setAlert("side bet alert",function(e){e&&((0,i[i.list["side bet alert"].action])(),k.hideAlert())}),setTimeout(function(){"side bet alert"===k.currentErrorCode&&k.hideAlert()},1500))},F.prototype.createBetHereContainer=function(e){var t=this;t.betHereMainContainer=C.createContainer(t.gameContainer,"betHereMainContainer",!1),t.betHereMainContainer.y=-80;for(var a=0;a<t.betOption.length;a++)!function(){var e=a,i=C.createContainer(t.betHereMainContainer,"betHereContainer-"+e,!0);i.x=t.betOption[e].x,i.y=t.betOption[e].y;C.createRoundRectComplex(i,"betHereBg","rgba(0,0,0,.5)",1,"rgba(0, 0, 0, 0)",t.betOption[e].w,t.betOption[e].h,t.betOption[e].border,!0),C.createBitmap(i,e<2?"bethere_main":"bethere_tie","betHereBorder",1);var o=C.createText(i,"betHereText","center","middle","#FFF",e<2?"200 30px Roboto Condensed":"200 20px Roboto Condensed",n.getTranslation("tapToPlaceBet"));if(o.shadow=new createjs.Shadow("rgba(0, 255, 255, 1)",0,0,6),o.y=e<2?65:55,e<2)for(var r=0;r<t.sideBetOption.length;r++)!function(){var a=r,n=t.sideBetOption[a].border;if(2===a&&e<1||a>2&&e>0){(i=C.createContainer(t.betHereMainContainer,"betHereContainer-"+e+a,!0)).x=t.sideBetOption[a]["x"+e]+t.betOption[e].x,i.y=150,i.scaleX=e>0?-1:1;C.createSBSpecialShape(i,"betHereBg","rgba(0, 0, 0, .5)",1,"rgba(0,0,0,0)",!0);(o=C.createBitmap(i,"bethere_subspec","betHereBorder",1)).scaleX=-1,o.y=5}else{var i;(i=C.createContainer(t.betHereMainContainer,"betHereContainer-"+e+a,!0)).x=t.sideBetOption[a]["x"+e]+t.betOption[e].x,i.y=a>1?157:52;C.createRoundRectComplex(i,"betHereBg","rgba(0, 0, 0, .5)",1,"rgba(0, 0, 0, 0)",t.sideBetOption[a].w,t.sideBetOption[a].h,n,!0);var o=C.createBitmap(i,"bethere_sub","betHereBorder",1)}}()}();var i=C.createContainer(t.betHereMainContainer,"betHereHeader",!0);i.y=-256;var o=C.createContainer(i,"shoeContainer",!0),r=C.createRect(o,"shoeContainerBg","#FFF",0,"#000",180,90,!1);o.hitArea=r,o.x=208,o.y=18;f.createSprite(o,f.tableSpriteSheet,"shoe","shoeSprite",1);var l=C.createContainer(i,"burnCardsContainer",!0);l.x=-168,l.y=6;f.createSprite(l,f.tableSpriteSheet,"burnCard","burnSprite",1);e()},F.prototype.createTotalBetContainer=function(e){var t=this,a=(t.gameContainer.getChildByName("tableContainer"),C.createContainer(t.gameContainer,"totalBetsContainer",!0));for(var n in a.y=-80,t.betOrigins)!function(){var e=n,i=C.createContainer(a,"totalBetContainer-"+e,!0);i.x=t.betOrigins[n].tbx,i.y=t.betOrigins[n].tby,i.alpha=0;f.createSprite(i,f.tableSpriteSheet,"betamountbg","betAmountBg",1),C.createText(i,"betValue","center","middle","#FFF","200 25px Roboto Condensed",0);console.log("totalBetContainer",i,n)}();e()},F.prototype.createShufflingContainer=function(e){var t=C.createContainer(C.mainContainer,"shuffleAnimationContainer",!1).addChild(new createjs.Sprite(f.cardShufflingSpriteSheet,"run"));t.name="animation",t.paused=!0,e()},F.prototype.createNotifContainer=function(e){var t=C.createContainer(C.mainContainer,"notifContainer",!1);t.y=-57,t.alpha=0;f.createSprite(t,f.tableSpriteSheet,"notifbg","notifbg",1);C.createText(t,"notifLabel","center","middle","#D60000","900 40px Roboto CondensedBold","").y=5;var a=C.createRect(t,"notifHitArea","#FFF",0,"#000",1252,80,!1);t.hitArea=a,t.on("click",function(){}),console.log("notifContainer",t),e()},F.prototype.createResultContainer=function(e){var t=C.createContainer(this.gameContainer,"resultContainer",!1);t.y=-67;C.createRect(t,"resultBg","rgba(0, 0, 0, .8)",2,"rgba(255,255,255,0)",1280,198,!0);var a=f.createSprite(t,f.resultSpriteSheet,"win_glow","glow1",0),n=f.createSprite(t,f.resultSpriteSheet,"win_glow","glow2",0),i=f.createSprite(t,f.resultSpriteSheet,"tiger","tigerLogo",0),o=f.createSprite(t,f.resultSpriteSheet,"dragon","dragonLogo",0),r=f.createSprite(t,f.resultSpriteSheet,"tie","tieLabel",0),l=f.createSprite(t,f.resultSpriteSheet,"dragonwins","dragonWinLabel",0),s=f.createSprite(t,f.resultSpriteSheet,"tigerwins","tigerWinLabel",0),c=C.createContainer(t,"shiningAnimationCont",!1).addChild(new createjs.Sprite(f.shiningSpriteSheet,"run"));c.name="animation",c.paused=!0;var d=C.createRect(t,"whiteBG","rgba(255,255,255,.8)",2,"rgba(255,255,255,1)",1280,800,!0);d.y=26,d.alpha=0,console.log("##CANVAS resultContainer",t),console.log("##CANVAS resultContainer, tigerLogo",i),console.log("##CANVAS resultContainer, dragonLogo",o),console.log("##CANVAS resultContainer, tieLabel",r),console.log("##CANVAS resultContainer, dragonWinLabel",l),console.log("##CANVAS resultContainer, tigerWinLabel",s),console.log("##CANVAS resultContainer, glow1",a),console.log("##CANVAS resultContainer, glow2",n),console.log("##CANVAS resultContainer, animation",c),console.log("##CANVAS resultContainer, whiteBG",d),e()},F.prototype.showResult=function(){var e=this;e.clearResult();var t=e.gameContainer.getChildByName("resultContainer"),a=t.getChildByName("resultBg"),n=t.getChildByName("glow1"),i=t.getChildByName("glow2"),o=t.getChildByName("tigerLogo"),r=t.getChildByName("dragonLogo"),l=t.getChildByName("tieLabel"),s=t.getChildByName("dragonWinLabel"),c=t.getChildByName("tigerWinLabel"),u=t.getChildByName("shiningAnimationCont"),h=u.getChildByName("animation"),p=t.getChildByName("whiteBG");d.displayStandingPlayerList(!1),A.openTauntList(!1,2),e.displayMinMaxContainer(!1),console.log("click now"),"DRG"===e.results[0]?(u.x=150,a.alpha=0,r.scale=1,r.x=-900,r.y=-19,n.alpha=0,n.scaleX=-1,n.scaleY=1,i.alpha=0,i.scaleX=-1,i.scaleY=1,s.alpha=0,s.x=209,s.y=-5,t.visible=!0,createjs.Tween.get().call(function(){createjs.Tween.get(p).to({alpha:1},100).to({alpha:0},100)}).wait(150).call(function(){createjs.Tween.get(a).to({alpha:1},100)}).call(function(){createjs.Tween.get(r).to({x:0},100).to({x:-358},100)}).call(function(){createjs.Tween.get(s).wait(200).to({alpha:1,scale:1.1},150).call(function(){u.visible=!0,D.playAudio(e.results[0]+"win"),h.paused=!1}).to({scale:1},150)}).call(function(){createjs.Tween.get(n).wait(100).to({alpha:1,x:480,y:-20},100).to({x:500,y:-40},5e3),createjs.Tween.get(i).wait(100).to({alpha:1,x:-50,y:65},100).to({x:-70,y:85},5e3)})):"TGR"===e.results[0]?(u.x=-150,a.alpha=0,o.scale=1,o.x=900,o.y=-19,n.alpha=0,n.scale=1,i.alpha=0,i.scale=1,c.alpha=0,c.x=-209,c.y=-5,t.visible=!0,createjs.Tween.get().call(function(){createjs.Tween.get(p).to({alpha:1},100).to({alpha:0},100)}).wait(150).call(function(){createjs.Tween.get(a).to({alpha:1},100)}).call(function(){createjs.Tween.get(o).to({x:0},100).to({x:358},100)}).call(function(){createjs.Tween.get(c).wait(200).to({alpha:1,scale:1.1},150).call(function(){u.visible=!0,D.playAudio(e.results[0]+"win"),h.paused=!1}).to({scale:1},150)}).call(function(){createjs.Tween.get(n).wait(100).to({alpha:1,x:-450,y:-15},100).to({x:-470,y:-35},5e3),createjs.Tween.get(i).wait(100).to({alpha:1,x:50,y:65},100).to({x:70,y:85},5e3)})):(u.x=0,a.alpha=0,a.scaleY=.606,r.scale=.844,r.x=-860,r.y=7,o.scale=.844,o.x=860,o.y=7,l.alpha=0,n.alpha=0,n.rotation=194,n.scale=1,n.y=-50,i.alpha=0,i.rotation=14,i.scale=1,i.y=50,t.visible=!0,createjs.Tween.get().call(function(){createjs.Tween.get(p).to({alpha:1},100).to({alpha:0},100)}).wait(150).call(function(){createjs.Tween.get(a).to({alpha:1},100)}).call(function(){createjs.Tween.get(o).to({x:210},100).to({x:416},100),createjs.Tween.get(r).to({x:-210},100).to({x:-416},100)}).call(function(){createjs.Tween.get(l).wait(200).to({alpha:1,scale:1.1},150).call(function(){u.visible=!0,D.playAudio(e.results[0]+"win"),h.paused=!1}).to({scale:1},150)}).call(function(){createjs.Tween.get(n).wait(100).to({alpha:1,y:-88},100),createjs.Tween.get(i).wait(100).to({alpha:1,y:88},100)})),createjs.Tween.get(t).wait(2e3).to({alpha:0},500).call(function(){console.log("Clear result"),e.clearResult()})},F.prototype.clearResult=function(){var e=this.gameContainer.getChildByName("resultContainer"),t=e.getChildByName("resultBg"),a=e.getChildByName("glow1"),n=e.getChildByName("glow2"),i=e.getChildByName("tigerLogo"),o=e.getChildByName("dragonLogo"),r=e.getChildByName("tieLabel"),l=e.getChildByName("dragonWinLabel"),s=e.getChildByName("tigerWinLabel"),c=e.getChildByName("shiningAnimationCont");e.visible=!1,e.alpha=1,a.x=0,a.y=0,a.scale=0,a.rotation=0,n.x=0,n.y=0,n.scale=0,n.rotation=0,i.x=0,i.y=0,i.scale=0,o.x=0,o.y=0,o.scale=0,r.x=0,r.y=0,r.scale=0,r.alpha=0,l.x=0,l.y=0,l.scale=0,l.alpha=0,s.x=0,s.y=0,s.scale=0,s.alpha=0,t.scale=1,c.visible=!1,c.removeAllChildren();var d=c.addChild(new createjs.Sprite(f.shiningSpriteSheet,"run"));d.name="animation",d.paused=!0},F.prototype.createWaitForNextRoundContainer=function(){this.waitForNextRoundContainer=C.createContainer(this.gameContainer,"waitForNextRoundContainer",!0),C.createRect(this.waitForNextRoundContainer,"waitForNextRoundContainerBg","rgba(0,0,0,.6)",1,"rgba(0,0,0,0)",1280,331,!0).y=-38;var e=C.createText(this.waitForNextRoundContainer,"waitForNextRoundLabel","center","middle","#FFF","500 50px Roboto Condensed","PLEASE WAIT FOR THE NEXT ROUND");e.y=71,e.shadow=new createjs.Shadow("rgba(0, 0, 0, 1)",0,0,15);var t=C.createText(this.waitForNextRoundContainer,"waitForNextRoundLabelB","center","middle","#FFF","500 50px Roboto Condensed","PLEASE WAIT FOR THE NEXT ROUND");t.y=71,t.shadow=new createjs.Shadow("rgba(0, 0, 0, 1)",0,0,15),s.createTimerContainer(),console.log("waitForNextRoundContainer",this.waitForNextRoundContainer)},F.prototype.hideWaitForNextRoundContainer=function(){this.waitForNextRoundContainer.visible=!1,L.seatsContainer.visible=!0,B.roadmapContainer.visible=!0,s.setEndTimer({curr:0,max:20})},F.prototype.setNotif=function(e){if("bet failed"!==e){var t=C.mainContainer.getChildByName("notifContainer");t.getChildByName("notifLabel").text=e.label.toUpperCase(),t.scale=t.visible?1:2,t.visible=!0,t.visible=!!r.tickStarted&&t.visible,createjs.Tween.get(t,{override:!0}).to({alpha:1,scale:1},150).wait(700).to({alpha:0,scale:1.2},200).call(function(){t.visible=!1})}else k.setAlert("bet failed",function(e){e&&(0,i[i.list["bet failed"].action])();k.hideAlert()},data),setTimeout(function(){"bet failed"===k.currentErrorCode&&k.hideAlert()},2e3)},F.prototype.sendBet=function(e,a,n,o,l){var s=this;return D.playIntro(),console.log("SEND BET LOW",r.tickStarted,s.canBet),!!r.tickStarted&&(!!s.canBet&&void C.checkSession(function(n){if(n){if(a&&s.isSideBetDisabled)return k.setAlert("side bet alert",function(e){e&&((0,i[i.list["side bet alert"].action])(),k.hideAlert())}),setTimeout(function(){"side bet alert"===k.currentErrorCode&&k.hideAlert()},1500),!1;s.canBet=!1;C.mainContainer.getChildByName("panelContainer").getChildByName("footerContainer");var r=s.gameContainer.getChildByName("standingPlayerContainer"),c=a?e+a:e,d=s.betOrigins[c].x,u=s.betOrigins[c].y,h=c.length>3?22:"TIE"===c?50:75,p=c.length>3?70:"TIE"===c?50:75;d=C.randomOrigin(p)+d,u=C.randomOrigin(h)+u;r.x,r.y;null!==L.selectedSeat&&(L.seatsContainer.x+L.seatsContainer.children[L.selectedSeat].x,L.seatsContainer.y+L.seatsContainer.children[L.selectedSeat].y);var g={betAmount:l,pos:null===L.selectedSeat?-1:L.selectedSeat,betType:a?e+a:e,destination:{x:d,y:u},displayname:userData.displayname,er:userData.exchangeRate.value},m=a?e+a:e;s.currentBetType={tableLimit:o,betType:m};C.selectedChip;t.emit("player bet",g)}else C.displayAlert("invalid session")}))},F.prototype.checkBetTypeBoundary=function(e,t,a,n,i){var o,r,l,s,c,d,u=this.betOption.findIndex(e=>e.code===a),h=n?this.sideBetOption.findIndex(e=>e.code===n):null;return null===n?(o=this.betOption[u].y+this.betOption[u].h/2-20-80,r=this.betOption[u].y-this.betOption[u].h/2+20-80,l=this.betOption[u].x-this.betOption[u].w/2+20,s=this.betOption[u].x+this.betOption[u].w/2-20):(o=this.betOrigins[a+n].y+this.sideBetOption[h].h/2-20,r=this.betOrigins[a+n].y-this.sideBetOption[h].h/2+20,l=this.betOrigins[a+n].x-this.sideBetOption[h].w/2+20,s=this.betOrigins[a+n].x+this.sideBetOption[h].w/2-20),d=r>t?r:o<t?o:t,c=l>e?l:s<e?s:e,i&&(c=e<0?e+20:e-20),{x:c,y:d}},F.prototype.animateBet=function(e){var t,a,n=g.players.findIndex(t=>t.displayname===e.displayname),i=e.betAmount*(e.er/userData.exchangeRate.value),o=T.defaultChips.findIndex(e=>e===i),r=e.displayname===userData.displayname,l=(C.mainContainer.getChildByName("panelContainer").getChildByName("footerContainer"),this.gameContainer.getChildByName("standingPlayerContainer"));e.pos<0?(t=l.x,a=l.y):(t=L.seatsContainer.x+L.seatsContainer.children[e.pos].x,a=L.seatsContainer.y+L.seatsContainer.children[e.pos].y),userData.displayname===e.displayname&&(this.haveBet=!this.haveBet||this.haveBet,k.disableHome(!1),this.storeRebet(e),this.canBet=!0,console.log("canBet",this.canBet),this.isBetHereVisible=!1,this.animateBetHere(this.isBetHereVisible)),console.log("coin max",o,i),o<0&&i>1?k.getChipList(i,e.betType,function(o,l){console.log("MIN animateCoin",i,o);for(var s=0;s<o.length;s++)!function(){var i=s,c=T.defaultChips.findIndex(e=>e===o[i]);console.log("MIN animateCoin",c),e.betAmount=o[i],g.storeBets(e),O.setTotalBet(e),O.allBets.push(e),setTimeout(function(){O.animateCoin(t,a,e.destination.x,e.destination.y,c,l,n,r)},100*i)}()}):(g.storeBets(e),this.setTotalBet(e),this.allBets.push(e),this.animateCoin(t,a,e.destination.x,e.destination.y,o,e.betType,n,r))},F.prototype.setTotalBet=function(e){var t=this,a=(t.gameContainer.getChildByName("tableContainer"),t.gameContainer.getChildByName("totalBetsContainer")),n=T.defaultChips.findIndex(t=>t===e.betAmount);if(e.displayname===userData.displayname){var i=a.getChildByName("totalBetContainer-"+e.betType),o=i.getChildByName("betValue"),r="number"==typeof o.text?o.text:o.text.replace(/\,/g,""),l=Number(r)+T.defaultChips[n];o.text=l.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),createjs.Tween.get(i).to({alpha:1},200),console.log("SET BET VALUE MAX",l,o.text),k.totalBetValue.text=k.totalBet.toLocaleString(),t.totalBetTemp=t.totalBetTemp+T.defaultChips[n],C.animateNumber(k.totalBet,t.totalBetTemp,function(e,a){k.totalBet=t.totalBetTemp;k.totalBetValue.text=e||0})}},F.prototype.animateCoin=function(e,t,a,n,i,o,r,l){var s,c=this.gameContainer.getChildByName("tableContainer");i>-1?(s=f.createSprite(C.betsContainer,f.tableSpriteSheet,"nvcoin"+(i+1),"betsBg-"+o+"-"+r,.743)).cache(-35,-35,70,70):(s=C.createBitmap(C.betsContainer,"decimal_chip","betsBg-"+o+"-"+r,.743)).cache(0,0,70,70);s.x=e,s.y=t+80,C.betsContainer.cache(-640,-500,1280,1e3);var d=C.getRandomVal(90);n-=c.y,createjs.Tween.get(s).call(function(){C.betsContainer.uncache(),l&&D.playAudio("chip")}).to({x:a,y:n,rotation:d},200).call(function(){C.betsContainer.cache(-640,-500,1280,1e3)})},F.prototype.createTableHeaderContainer=function(e){var t=this.gameContainer.getChildByName("tableContainer"),a=C.createContainer(t,"tableHeaderContainer",!0);a.y=-256;var n=C.createContainer(a,"shoeContainer",!0),i=C.createRect(n,"shoeContainerBg","#FFF",0,"#000",180,90,!1);n.hitArea=i,n.x=208,n.y=18;f.createSprite(n,f.tableSpriteSheet,"shoe","shoeSprite",1);var o=C.createContainer(a,"coinTrayContainer",!0),r=(f.createSprite(o,f.tableSpriteSheet,"cointray","coinTraySprite",1),C.createContainer(a,"burnCardsContainer",!0));r.x=-168,r.y=6;f.createSprite(r,f.tableSpriteSheet,"burnCard","burnSprite",1);n.on("click",function(){}),r.on("click",function(){}),console.log("tableHeaderContainer",a),console.log("shoeContainerBg",i),e()},F.prototype.createMinMaxContainer=function(e){var t=this,a=C.createContainer(t.gameContainer,"tableLimitBGContainer",!1),i=C.createRect(a,"sHitarea","red",2,"rgba(255,255,255,1)",1280,720,!1);a.hitArea=i,a.on("click",function(){C.checkSession(function(e){e?t.displayMinMaxContainer(!1):C.displayAlert("invalid session")})});var o=C.createContainer(O.gameContainer,"standingPlayerOuterBG",!1);i=C.createRect(o,"sHitarea","blue",2,"rgba(255,255,255,1)",1280,720,!1);o.hitArea=i,o.on("click",function(){C.checkSession(function(e){e?d.displayStandingPlayerList(!1):C.displayAlert("invalid session")})}),A.tauntBgContainer=C.createContainer(O.gameContainer,"tauntBgContainer",!1);i=C.createRect(A.tauntBgContainer,"sHitarea","green",2,"rgba(255,255,255,1)",1280,720,!1);A.tauntBgContainer.hitArea=i,A.tauntBgContainer.on("click",function(){C.checkSession(function(e){e?A.openTauntList(!1,3):C.displayAlert("invalid session")})});var r=C.createContainer(t.gameContainer,"tableLimitContainer",!0);r.x=-263,r.y=-322;var l=C.createContainer(r,"tableLimitContentContainer",!1);l.y=45;var s=C.createContainer(r,"minmaxLabelCont",!0),c=(f.createSprite(s,f.tableSpriteSheet,"minmaxCont","tableLimit",1),C.createContainer(s,"tableLimitLabelContainer",!0));this.tableMinVal=C.createText(c,"tableMinVal","center","middle","#FFF","200 14px Roboto Condensed","MIN 500K"),this.tableMinVal.y=-14,this.tableMaxVal=C.createText(c,"tableMaxVal","center","middle","#FFF","200 14px Roboto Condensed","MAX 100M"),this.tableMaxVal.y=1,c.x=-10;var u=C.createBitmap(s,"arrow","tableLimitArrow",.47);u.x=35,u.y=-7,l.on("click",function(){}),s.on("click",function(){C.checkSession(function(e){e?(d.displayStandingPlayerList(!1),A.openTauntList(!1,4),t.displayMinMaxContainer(!l.visible)):C.displayAlert("invalid session")})}),s.on("mouseover",function(e){if(t.isDrawingPhase)return!1;s.cursor="pointer",createjs.Tween.get(u).to({scaleX:.67,scaleY:.67},100)}),s.on("mouseout",function(e){s.cursor="default",createjs.Tween.get(u).to({scaleX:.47,scaleY:.47},100)}),s.on("mousedown",function(e){createjs.Tween.get(u).to({scaleX:.47,scaleY:.47},100)}),console.log("##CANVAS tableLimitContainer",r);var h=C.createContainer(t.gameContainer,"gameRoundContainer",!0),p=C.createRect(h,"gameRoundBg","#FFF",0,"#000",300,60,!1);p.x=100,h.hitArea=p,h.on("click",function(){}),t.gameRoundLabel=C.createText(h,"gameRoundLabel","left","middle","#FFF ","200 18px Roboto Condensed",n.getTranslation("gameRound")),t.gameRoundLabel.shadow=new createjs.Shadow("#000",0,0,10),h.y=-330,h.x=-619;var g=C.createContainer(t.gameContainer,"tableNameContainer",!0);t.tableNameHitArea=C.createRoundRect(g,"tableNameHitArea","#FFF",0,"#000",300,40,0,!1),g.hitArea=t.tableNameHitArea,g.on("click",function(){}),t.tableNameLabel=C.createText(g,"tableNameLabel","left","middle","#FFF ","200 18px Roboto Condensed","null"),t.tableNameLabel.shadow=new createjs.Shadow("#000",0,0,10),g.y=-330,g.x=285,t.playerCountIcon=f.createSprite(g,f.panelSpriteSheet,"player","playerCountIcon",.66),t.playerCountIcon.y=-1,t.playerCountLabel=C.createText(g,"playerCountLabel","left","middle","#FFF ","200 18px Roboto Condensed","null"),t.playerCountLabel.shadow=new createjs.Shadow("#000",0,0,10),g.y=-330,g.x=285,console.log("tableNameContainer",g),e()},F.prototype.displayMinMaxContainer=function(e){var t=this.gameContainer.getChildByName("tableLimitContainer"),a=t.getChildByName("tableLimitContentContainer"),n=t.getChildByName("minmaxLabelCont").getChildByName("tableLimitArrow"),i=this.gameContainer.getChildByName("tableLimitBGContainer");e?(a.visible=!0,i.visible=!0,n.rotation=180,createjs.Tween.get(a).to({y:94},150)):createjs.Tween.get(a).to({y:45},150).call(function(){a.visible=!1,i.visible=!1,n.rotation=0})},F.prototype.setTableDetails=function(e){this.tableDetails=e,console.log("tableDetails",e),this.tableMinVal.text="MIN "+C.formatAmount(e.dragontigerMin),this.tableMaxVal.text="MAX "+C.formatAmount(e.dragontigerMax);var t=0,a=this.gameContainer.getChildByName("tableLimitContainer").getChildByName("tableLimitContentContainer"),n=C.createRoundRect(a,"tableLimitContentBorder","#ebebeb",0,"#ebebeb",188,136,6,!0),i=C.createRoundRect(a,"tableLimitContentBg","#1a1a1a",0,"#1a1a1a",180,120,6,!0),o=C.createContainer(a,"tblLimitContentLabelContainer",!0);o.x=-81;var r=C.createText(o,"tblDrgLabel","left","middle","#ffc500 ","200 14px Roboto Condensed","DRAGON :");r.y=-47;var l=C.createText(o,"tblTgrLabel","left","middle","#ffc500 ","200 14px Roboto Condensed","TIGER :");l.y=-23;var s=C.createText(o,"tblTieLabel","left","middle","#ffc500 ","200 14px Roboto Condensed","TIE :"),c=C.createText(o,"tblBlkRdLabel","left","middle","#ffc500 ","200 14px Roboto Condensed","BLACK / RED :");c.y=23;var d=C.createText(o,"tblBgSmlLabel","left","middle","#ffc500 ","200 14px Roboto Condensed","BIG / SMALL :");d.y=47;var u=C.createContainer(a,"tblLimitContentValueContainer",!0),h=C.createText(u,"tblDrgValue","left","middle","#FFF ","200 14px Roboto Condensed",C.formatLimit(e.dragontigerMin,e.dragontigerMax));h.y=-47;var p=C.createText(u,"tblTgrValue","left","middle","#FFF ","200 14px Roboto Condensed",C.formatLimit(e.dragontigerMin,e.dragontigerMax));p.y=-23;var g=C.createText(u,"tblTieValue","left","middle","#FFF ","200 14px Roboto Condensed",C.formatLimit(e.tieMin,e.tieMax)),m=C.createText(u,"tblBlkRdValue","left","middle","#FFF ","200 14px Roboto Condensed",C.formatLimit(e.suitcolorMin,e.suitcolorMax));m.y=23;var b=C.createText(u,"tblBgSmlValue","left","middle","#FFF ","200 14px Roboto Condensed",C.formatLimit(e.bigsmallMin,e.bigsmallMax));b.y=47,t=r.getBounds().width+h.getBounds().width,t=l.getBounds().width+p.getBounds().width>t?l.getBounds().width+p.getBounds().width:t,t=s.getBounds().width+g.getBounds().width>t?s.getBounds().width+g.getBounds().width:t,t=c.getBounds().width+m.getBounds().width>t?c.getBounds().width+m.getBounds().width:t,t=d.getBounds().width+b.getBounds().width>t?d.getBounds().width+b.getBounds().width:t,t=Math.floor(t)+40;var y=h.getBounds().width;y=p.getBounds().width>y?p.getBounds().width:y,y=g.getBounds().width>y?g.getBounds().width:y,y=m.getBounds().width>y?m.getBounds().width:y,y=b.getBounds().width>y?b.getBounds().width:y,C.clearRoundRect(n,"#ebebeb",0,"#ebebeb",t+8,136,6,!0),C.clearRoundRect(i,"#1a1a1a",0,"#1a1a1a",t,120,6,!0);var v=t-10;o.x=v/2*-1,u.x=t/2-y-10,console.log("tableLimitContentContainer",a,t,y)},F.prototype.createBettingStatusContainer=function(e){var t=C.createContainer(this.gameContainer,"bettingStatusContainer",!0),a=C.createContainer(t,"bettingOpenStatusContainer",!1);a.alpha=0,a.y=-276;var i=f.createSprite(a,f.tableSpriteSheet,"betamountbg","statusBg",1);i.scaleX=1.376,i.scaleY=.88,this.statusLabel=C.createText(a,"statusLabel","center","middle","#0EE937","200 24px Carter",n.getTranslation("bettingOpen")),this.statusLabel.y=C.isMobile&&C.isIOS?0:3;var o=C.createRect(a,"maskRect","rgba(0,0,0,0)",0,"rgba(0,0,0,0)",235,48,!0),r=C.createContainer(a,"gradientLineContainer",!0);this.gradientLineTop=r.addChild(new createjs.Shape),this.gradientLineTop.name="gradientLineTop",this.gradientLineTop.graphics.setStrokeStyle(3,"round").beginStroke("rgba(33, 249, 70, .6)").moveTo(-34.5,0).lineTo(34.5,0),this.gradientLineTop.shadow=new createjs.Shadow("#21F946",0,0,4),this.gradientLineBot=r.addChild(new createjs.Shape),this.gradientLineBot.name="gradientLineBot",this.gradientLineBot.graphics.setStrokeStyle(3,"round").beginStroke("rgba(33, 249, 70, .6)").moveTo(-34.5,0).lineTo(34.5,0),this.gradientLineBot.shadow=new createjs.Shadow("#21F946",0,0,4),this.gradientLineTop.y=-18,this.gradientLineTop.x=155,this.gradientLineBot.y=18,this.gradientLineBot.x=-155,r.mask=o;var l=a.addChild(new createjs.Shape);l.graphics.beginLinearGradientFill(["rgba(0,0,0,0)","rgba(255,255,255,.7)","rgba(0,0,0,0)"],[0,.5,1],65,65,5,35).drawRect(0,0,100,35),l.y=-17.5,l.x=-40,l.scaleX=-1,l.alpha=0,console.log("gradientWhite",l),createjs.Tween.get(this.gradientLineTop,{loop:!0}).to({x:-155},500).to({x:155}).wait(2e3),createjs.Tween.get(this.gradientLineBot,{loop:!0}).to({x:155},500).to({x:-155}).wait(2e3),createjs.Tween.get(l,{loop:!0}).wait(600).to({x:40,alpha:1},200).to({x:150,alpha:0},200).to({x:-40}).wait(1500);var s=C.createContainer(t,"bettingCloseStatusContainer",!1);s.y=-60,s.alpha=0;f.createSprite(s,f.tableSpriteSheet,"bettingclose","closeBG",1);e()},F.prototype.bettingStatDisplay=function(e){var t=this.gameContainer.getChildByName("bettingStatusContainer"),a=t.getChildByName("bettingOpenStatusContainer"),n=t.getChildByName("bettingCloseStatusContainer"),i=C.mainContainer.getChildByName("notifContainer");a.visible=e,createjs.Tween.get(a).to({alpha:e?1:0},300),n.visible=!e,e||(D.playAudio("no_more_bets"),"leave game"===k.currentErrorCode&&k.hideAlert(),this.isDrawingPhase=!0,i.visible=!1,this.betHereMainContainer.visible=!1,A.openTauntList(!1,1),d.displayStandingPlayerList(!1)),createjs.Tween.get(n).to({alpha:e?0:1,scale:e?1.5:1},150).wait(1300).to({alpha:e?1:0,scale:e?1:1.5},100)},F.prototype.animateBurnCard=function(e){for(var t=this.gameContainer.getChildByName("tableContainer").getChildByName("tableHeaderContainer"),a=t.getChildByName("shoeContainer"),n=t.getChildByName("burnCardsContainer"),i=(this.gameContainer.x,t.x,a.x,this.gameContainer.x+t.x+n.x),o=0;o<e;o++){var r=o,l=f.createSprite(t,f.cardSpriteSheet,"BCK","burnCardSprite",.205);l&&(l.x=170,l.y=26,l.rotation=-43),createjs.Tween.get(l).wait(450*r).to({x:0,y:80,rotation:0,scale:.2883},200).to({x:i,y:0},200).call(function(){t.removeChildAt(3)})}},F.prototype.animateBurnCards=function(e){for(var t=this.gameContainer.getChildByName("tableContainer").getChildByName("tableHeaderContainer"),a=(t.getChildByName("shoeContainer"),t.getChildByName("burnCardsContainer")),n=a.getChildByName("burnSprite"),i=this.gameContainer.x+t.x+a.x,o=C.createContainer(t,"burnCardSpritesContainer",!0),r=e%2<1?(e-1)/2*-47:-47*Math.round((e-2)/2),l=0;l<e;l++){var s=l,c=f.createSprite(o,f.cardSpriteSheet,"BCK","burnCardSprite",.205);c&&(c.x=170,c.y=26,c.rotation=-43,c.alpha=0),console.log("burnCardSprite",c),createjs.Tween.get(c).wait(200*s).to({y:332,scale:.437,x:0,rotation:0,alpha:1},100).to({scale:.5},30).to({scale:.437},30).wait(200*(e-s)).to({x:r},150).call(function(){var e=t.children[3];createjs.Tween.get(e).wait(900).to({scaleX:0},50).call(function(){e.gotoAndStop("BCK")}).to({scaleX:.437,scaleY:.437},50).to({y:332},100).to({alpha:0})}).wait(1e3).to({x:0},200).to({x:i,y:0,alpha:0,scale:.205},300).call(function(){n.gotoAndStop("burnCard"),t.removeChildAt(4),t.removeChildAt(3)}),r+=47}console.log("tableHeaderContainer",t)},F.prototype.animateYellowCard=function(){var e=this.gameContainer.getChildByName("tableContainer").getChildByName("tableHeaderContainer"),t=e.getChildByName("shoeContainer"),a=e.getChildByName("burnCardsContainer"),n=this.gameContainer.x+e.x+t.x,i=this.gameContainer.x+e.x+a.x,o=C.createRoundRect(e,"burnCardYlw","yellow",0,"#000",46,74,2,!0);o.x=n,createjs.Tween.get(o).to({x:0,y:80},200).to({x:i,y:0},200).call(function(){e.removeChildAt(3)}),console.log("tableHeaderContainer",e)},F.prototype.animateShowCard=function(e){var t=this.gameContainer.getChildByName("tableContainer").getChildByName("tableHeaderContainer"),a=t.getChildByName("shoeContainer"),n=t.getChildByName("burnCardsContainer"),i=(n.getChildByName("burnSprite"),this.gameContainer.x,t.x,a.x,this.gameContainer.x,t.x,n.x,f.createSprite(t,f.cardSpriteSheet,"BCK","showCardSprite",.205));i.x=170,i.y=26,i.rotation=-43,console.log("showCardSprite",i),createjs.Tween.get(i).to({x:0,y:188,scaleX:.437,scaleY:.437,rotation:0},100).wait(200).to({scaleX:0},100).call(function(){i.gotoAndStop(e)}).to({scaleX:.437,scaleY:.437},150)},F.prototype.animateDrawCard=function(e,t){var a=this.gameContainer.getChildByName("tableContainer"),n=a.getChildByName("tableHeaderContainer"),i=n.getChildByName("shoeContainer"),o=a.getChildByName("cardSlotMainContainer"),r=o.getChildByName("cardSlotContainer-"+t),l=t<1?this.cardValueDrg:this.cardValueTgr,s=C.createContainer(r,"drawCardContainer",!0),c=C.getCardValue(e.value),d=f.createSprite(s,f.cardSpriteSheet,"BCK","showBCardSprite",.15),u=f.createSprite(s,f.cardSpriteSheet,e.value,"showFCardSprite",.32);u.visible=!1;i.x,r.x,n.y,o.y,a.y;d.x=t<1?167:70,d.y=-60,d.rotation=-45;var h=new createjs.Shape;h.graphics.beginFill("rgba(0, 0, 0, 0)"),h.graphics.moveTo(-90,-75).lineTo(90,-75).lineTo(90,-75).lineTo(60,75).lineTo(-90,75).lineTo(-90,-75),s.addChild(h),createjs.Tween.get(d).to({x:0,y:0,scale:.32,rotation:0},300).call(function(){d.mask=h,u.mask=h,u.visible=!0,u.x=120,u.y=27,createjs.Tween.get(h).to({rotation:10,x:-35},40).to({rotation:0,x:-45},60).to({x:-55},60).to({x:-60},40).to({x:-70},60).to({rotation:-2,x:-80},60).to({rotation:-5,x:-90},60).to({rotation:-5,x:-100},60).to({rotation:-6,x:-115},60).to({rotation:-6,x:-115},60).call(function(){D.playAudio("flip")}).to({rotation:0,x:0},60),createjs.Tween.get(u).to({x:74,y:27,rotation:40},40).to({x:60,y:13,rotation:25},60).to({x:40,y:7,rotation:20},60).to({x:31,y:5,rotation:20},40).to({x:10,y:2,rotation:20},60).to({x:-10,y:-1,rotation:20},60).to({x:-35,y:-5,rotation:15},60).call(function(){d.visible=!1}).to({x:-55,y:-5,rotation:10},60).to({x:-75,y:-5,rotation:5},60).to({x:-80,y:-5,rotation:5},60).to({x:0,y:0,rotation:0},60).call(function(){var e=t<1?"DRG":"TGR";D.playSprite("hand_values",e+c),l.text=c,u.shadow=new createjs.Shadow("rgba(0, 0, 0, .5)",0,8,10)})})},F.prototype.burnDrawCard=function(){for(var e=this,a=e.gameContainer.getChildByName("tableContainer"),n=(a.getChildByName("tableHeaderContainer").getChildByName("shoeContainer"),a.getChildByName("cardSlotMainContainer")),i=0;i<2;i++)!function(){var a=i,o=n.getChildByName("cardSlotContainer-"+a).getChildByName("drawCardContainer");if(o){var r=o.getChildByName("showBCardSprite"),l=o.getChildByName("showFCardSprite");createjs.Tween.get(l).call(function(){r.scaleX=0,r.visible=!0}).wait(500).to({scaleX:0},150).call(function(){createjs.Tween.get(r).to({scaleX:-.32},150).call(function(){e.cardValueTgr.text=null,e.cardValueDrg.text=null})}).wait(300).call(function(){createjs.Tween.get(o).to({scale:.45,x:a<1?-71:-167,y:-82,alpha:0},300).call(function(){a>0&&(t.emit("playerbet history"),t.emit("get my balance"))}),e.isDrawingPhase=!1})}}()},F.prototype.animateCoinToDealer=function(){var e=this;C.betsContainer.uncache();e.gameContainer.getChildByName("tableContainer");for(var t=e.gameContainer.getChildByName("totalBetsContainer"),a=0;a<C.betsContainer.children.length;a++)!function(){var t=a,n=C.betsContainer.children[t],i=n.name.split("-")[1];e.results.findIndex(e=>e===i)<0&&createjs.Tween.get(n).wait(1700).to({y:-280,x:0},200)}();for(var a in e.betOrigins){var n=t.getChildByName("totalBetContainer-"+a),i=n.getChildByName("betValue");e.results.findIndex(e=>e===a)<0&&(i.text=0,createjs.Tween.get(n).wait(2e3).to({alpha:0},200))}e.showBetOptionWinner(),setTimeout(function(){e.animateBackToTable()},2200),console.log("PROCESS 1 animateCoinToDealer")},F.prototype.animateBackToTable=function(){console.log("PROCESS 2 animateBackToTable",g.players.length);for(var e=this,t=0;t<g.players.length;t++){var a=t,n=g.players[a];if(n.bets){console.log("PROCESS 2 animateBackToTable 2",n.bets);for(var i=0;i<n.bets.length;i++){var o=i,r=n.bets[o],l=r.betType,s=e.results.findIndex(e=>e===l),c=T.defaultChips.findIndex(e=>e===r.betAmount);if(console.log("PROCESS 2 3 animateBackToTable 2",c,r.betAmount),s>-1)for(var d="TIE"===l?8:1,u=0;u<d;u++)e.createChipstoTable(c,l,a)}}if(e.results.findIndex(e=>"TIE"===e)>-1&&n.totalBets){if(n.totalBets.DRG>0){var h=Math.floor(n.totalBets.DRG/2);k.getChipList(h,"DRG",function(t,n){for(var i=0;i<t.length;i++){var o=T.defaultChips.findIndex(e=>e===t[i]);e.createChipstoTable(o,"DRG",a)}})}if(n.totalBets.TGR>0){h=Math.floor(n.totalBets.TGR/2);k.getChipList(h,"TGR",function(t,n){for(var i=0;i<t.length;i++){var o=T.defaultChips.findIndex(e=>e===t[i]);e.createChipstoTable(o,"TGR",a)}})}}a+1===g.players.length&&setTimeout(function(){e.removeOtherChips(),setTimeout(function(){e.animateCoinToPlayers()},300)},100)}},F.prototype.createChipstoTable=function(e,t,a){var n=f.createSprite(C.betsContainer,f.tableSpriteSheet,"nvcoin"+(e+1),"betsBg-"+t+"-"+a,.743);n.cache(-35,-35,70,70),n.y=-280;var i=this.betOrigins[t].x,o=this.betOrigins[t].y+80,r=t.length>3?22:"TIE"===t?50:75,l=t.length>3?70:"TIE"===t?50:75;i=C.randomOrigin(l)+i,o=C.randomOrigin(r)+o,createjs.Tween.get(n).to({y:o,x:i},200)},F.prototype.removeOtherChips=function(){for(var e=0;e<C.betsContainer.children.length;e++){var t=C.betsContainer.children[e];-280===t.y&&createjs.Tween.get(t).to({alpha:0},100)}},F.prototype.animateCoinToPlayers=function(){for(var e,t,a=this.gameContainer.getChildByName("standingPlayerContainer"),n=0;n<C.betsContainer.children.length;n++){var i=C.betsContainer.children[n];if(-280!==i.y){var o=i.name.split("-")[2];o=Number(o);var r=g.players[o].pos;console.log("playerIndex",o,r,g.players[o]),r<0?(console.log("playerIndex if"),e=a.x,t=a.y):(console.log("playerIndex else"),e=L.seatsContainer.x+L.seatsContainer.children[r].x,t=L.seatsContainer.y+L.seatsContainer.children[r].y),createjs.Tween.get(i).to({x:e,y:t+80},400).to({alpha:0})}}this.burnDrawCard()},F.prototype.showBetOptionWinner=function(){var e=this.gameContainer.getChildByName("tableContainer").getChildByName("betOptionsContainer"),t=this.gameContainer.getChildByName("totalBetsContainer"),a=function(e){createjs.Tween.get(e).to({alpha:1},150).to({alpha:0},150).to({alpha:1},150).to({alpha:0},150).to({alpha:1},150).wait(1700).to({alpha:0},150)},n=this.results.findIndex(e=>"TIE"===e),i=g.players.findIndex(e=>e.displayname===userData.displayname);if(n>-1&&g.players[i].totalBets){if(g.players[i].totalBets.DRG>0){var o=this.betOption.findIndex(e=>"DRG"===e.code),r=(c=t.getChildByName("totalBetContainer-DRG")).getChildByName("betValue"),l=Number(g.players[i].totalBets.TGR)/2;r.text=l.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),createjs.Tween.get(c).to({alpha:0},200).wait(400).to({alpha:1},100).wait(200).to({alpha:0},200)}if(g.players[i].totalBets.TGR>0){o=this.betOption.findIndex(e=>"TGR"===e.code),r=(c=t.getChildByName("totalBetContainer-TGR")).getChildByName("betValue"),l=Number(g.players[i].totalBets.TGR)/2;r.text=l.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),createjs.Tween.get(c).to({alpha:0},200).wait(400).to({alpha:1},100).wait(200).to({alpha:0},200)}}for(var s=0;s<this.results.length;s++){o=this.betOption.findIndex(e=>e.code===this.results[s]);var c,d="number"==typeof(r=(c=t.getChildByName("totalBetContainer-"+this.results[s])).getChildByName("betValue")).text?r.text:r.text.replace(/\,/g,"");if(Number(d)>0){var u="TIE"===this.results[s]?8:2;l=Number(d)*u;r.text=l.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),createjs.Tween.get(c).to({alpha:1},200),createjs.Tween.get(c).wait(800).to({alpha:0},200)}if(this.results[s].length>3){var h=this.results[s],p=h[0]+h[1]+h[2],m=h[3]+h[4]+h[5],C=this.betOption.findIndex(e=>e.code===p),b=this.sideBetOption.findIndex(e=>e.code===m),y=e.getChildByName("betOptionContainer-"+C).getChildByName("sideBetOptionsContainer").getChildByName("sideBetOptionContainer-"+b).getChildByName("sidebetBgContainer").getChildByName("sideBetOptionBg");this.isSideBetDisabled||a(y)}if(o>-1)a(e.getChildByName("betOptionContainer-"+o).getChildByName("betBgContainer").getChildByName("betOptionBg"))}},F.prototype.createPlayersBetChips=function(e,t,a,n){var i=C.createContainer(t,"betContainer-"+a,!0);i.y=-230;var o=n.reverse().find(t=>t<=e);n.reverse();var r=n.findIndex(e=>e===o);f.createSprite(i,f.tableSpriteSheet,"nvcoin"+(r+1),"betsBg",.743);return i},F.prototype.burnCard=function(e){var t=this,a=C.getCardValue(e);t.animateShowCard(e),setTimeout(function(){t.animateBurnCards(a)},800)},F.prototype.drawCard=function(e){var t=this,a=[];for(var n in e)a.push({name:n,value:e[n]});var i=a.findIndex(e=>"skip"===e.name),o=a.find(e=>"dragon"===e.name),r=a.find(e=>"tiger"===e.name);0===i?createjs.Tween.get().call(function(){t.animateYellowCard()}).wait(500).call(function(){t.animateBurnCard(1)}).wait(500).call(function(){t.animateDrawCard(o,0)}).wait(1700).call(function(){t.animateDrawCard(r,1)}):1===i?createjs.Tween.get().call(function(){t.animateBurnCard(1)}).wait(500).call(function(){t.animateYellowCard()}).wait(500).call(function(){t.animateDrawCard(o,0)}).wait(1700).call(function(){t.animateDrawCard(r,1)}):2===i?createjs.Tween.get().call(function(){t.animateBurnCard(1)}).wait(500).call(function(){t.animateDrawCard(o,0)}).wait(1700).call(function(){t.animateYellowCard()}).wait(500).call(function(){t.animateDrawCard(r,1)}):createjs.Tween.get().call(function(){t.animateBurnCard(1)}).wait(500).call(function(){t.animateDrawCard(o,0)}).wait(1700).call(function(){t.animateDrawCard(r,1)})},F.prototype.cleanCanvas=function(){console.log("TIMEERRR cleanCanvas"),this.haveBet=!1,this.results=[],this.allBets=[],this.totalBetTemp=0,O.statusLabel.text="BETTING OPEN",O.statusLabel.color="#0EE937",O.statusLabel.font="200 24px Carter",O.gradientLineTop.graphics.clear(),O.gradientLineTop.graphics.setStrokeStyle(3,"round").beginStroke("rgba(33, 249, 70, .6)").moveTo(-34.5,0).lineTo(34.5,0),O.gradientLineTop.shadow=new createjs.Shadow("#21F946",0,0,4),O.gradientLineBot.graphics.clear(),O.gradientLineBot.graphics.setStrokeStyle(3,"round").beginStroke("rgba(33, 249, 70, .6)").moveTo(-34.5,0).lineTo(34.5,0),O.gradientLineBot.shadow=new createjs.Shadow("#21F946",0,0,4);var e,t=this.gameContainer.getChildByName("tableContainer"),a=t.getChildByName("cardSlotMainContainer"),n=(t.getChildByName("betOptionsContainer"),this.gameContainer.getChildByName("totalBetsContainer"));for(var i in this.cardValueTgr.text=null,this.cardValueDrg.text=null,this.betOrigins){var o=n.getChildByName("totalBetContainer-"+i);o.alpha=0,o.getChildByName("betValue").text=0}for(i=0;i<2;i++)void 0,e=i,a.getChildByName("cardSlotContainer-"+e).removeAllChildren();C.betsContainer.removeAllChildren(),C.betsContainer.uncache(),C.betsContainer.cache(-640,-500,1280,1e3),C.animateNumber(k.totalWin,0,function(e,t){k.totalWinValue.text=e||0}),C.animateNumber(k.totalBet,0,function(e,t){k.totalBetValue.text=e||0}),k.totalBet=0,k.totalWin=0;for(var l=0;l<g.playerBetsResult.length;l++){var s=g.playerBetsResult[l];s.totalAmount=0,s.totalPayout=0}for(i=0;i<g.players.length;i++)g.players[i].bets=[],g.players[i].totalBets={DRG:0,TGR:0};var c=t.getChildByName("timerContainer").getChildByName("mainCircle");c.rotation=0,c.graphics.clear(),c.graphics.beginFill("#03fe00").drawCircle(0,-42,4),r.isTickAdded=!1,r.isRotating=!1,r.isShaking=!1,r.timerLabel.color="#03fe00",r.timerLabel.shadow=new createjs.Shadow("#03fe00",0,0,15)},F.prototype.evaluateResult=function(e){var t=this;t.results=e.gameResult;for(var a=0;a<e.playerBets.length;a++){var n=e.playerBets[a];g.playerBetsResult[n.pos+1].totalPayout=g.playerBetsResult[n.pos+1].totalPayout+n.totalPayout,g.playerBetsResult[n.pos+1].totalAmount=g.playerBetsResult[n.pos+1].totalAmount+n.totalAmount}t.showResult(),setTimeout(function(){t.animateCoinToDealer()},800)},F.prototype.animateRebet=function(e,t){setTimeout(function(){g.storeBets(e),O.animateBet(e)},t>1?200:0)},F.prototype.animateShuffle=function(){var e=this,t=C.mainContainer.getChildByName("shuffleAnimationContainer");t.scale=1.5;var a=this.gameContainer.getChildByName("tableContainer").getChildByName("tableHeaderContainer").getChildByName("shoeContainer").getChildByName("shoeSprite"),n=t.getChildByName("animation");n.paused=!1,n.y=-60,createjs.Tween.get().wait(200).call(function(){e.removeCardonBurnShoe(),t.visible=!0}).wait(3400).call(function(){createjs.Tween.get().wait(300).call(function(){a.gotoAndStop("shoe")}),createjs.Tween.get(n).to({x:108,y:-200,scale:.65,rotation:-45},300).to({alpha:0},300)}).wait(1500).call(function(){t.removeAllChildren(),t.visible=!1;var e=t.addChild(new createjs.Sprite(f.cardShufflingSpriteSheet,"run"));e.name="animation",e.paused=!0})},F.prototype.removeCardonBurnShoe=function(){var e=this.gameContainer.getChildByName("tableContainer").getChildByName("tableHeaderContainer"),t=e.getChildByName("shoeContainer").getChildByName("shoeSprite"),a=e.getChildByName("burnCardsContainer").getChildByName("burnSprite");t.gotoAndStop("emptyshoe"),a.gotoAndStop("burnCardEmpty")},F.prototype.storeRebet=function(e){k.enableRebet&&(this.rebetValues={},this.totalRebetAmount=0,k.enableRebet=!1,k.updateRebetStatus(k.enableRebet)),console.log("storeRebet",e,this.rebetValues),this.totalRebetAmount=e.betAmount+this.totalRebetAmount,this.rebetValues[e.betType]?this.rebetValues[e.betType].stake=e.betAmount+this.rebetValues[e.betType].stake:(this.rebetValues[e.betType]={},this.rebetValues[e.betType].code=e.betType,this.rebetValues[e.betType].stake=e.betAmount,this.rebetValues[e.betType].winloss=0,this.rebetValues[e.betType].win=!1)},F.prototype.checkRebetValues=function(){var e=!0;if(this.roundCounter<51)return!1;for(var t=Object.values(O.rebetValues),a=0;a<t.length;a++)if(t[0].code.length<6&&(e=!1),a===t.length-1)return console.log("checkRebetValues",e),e},F.prototype.reconstructGame=function(e){if(!e)return!1;for(var t=this,a=e.chips,n=0;n<a.length;n++){var i=a[n],o=g.players.findIndex(e=>e.displayname===i.player);if(T.defaultChips.findIndex(e=>e===i.amount)<0)k.getChipList(i.amount,i,function(e,a){for(var n=0;n<e.length;n++){var i=a.destination;if(!i){var r=t.betOrigins[a.code].x,l=t.betOrigins[a.code].y,s=a.code.length>3?22:"TIE"===a.code?50:75,c=a.code.length>3?70:"TIE"===a.code?50:75;i={x:C.randomOrigin(c)+r,y:C.randomOrigin(s)+l}}var d={betAmount:e[n],displayname:a.player,betType:a.code,destination:i,pos:g.players[o].pos,er:a.exchangeRate};g.storeBets(d),t.animateBet(d)}});else{var r=i.destination;if(!r){var l=t.betOrigins[i.code].x,s=t.betOrigins[i.code].y,c=i.code.length>3?22:"TIE"===i.code?50:75,d=i.code.length>3?70:"TIE"===i.code?50:75;r={x:C.randomOrigin(d)+l,y:C.randomOrigin(c)+s}}var u={betAmount:i.amount,displayname:i.player,betType:i.code,destination:r,pos:g.players[o].pos,er:i.exchangeRate};g.storeBets(u),t.animateBet(u)}}},F.prototype.updateGameRoundID=function(e){this.gameRoundLabel.text="GAME ROUND "+e.roundId},F.prototype.updateTableName=function(){this.tableNameLabel&&(this.tableNameLabel.text=this.tableInfo.tableName,this.playerCountIcon.x=this.tableNameLabel.getBounds().width+18,this.playerCountLabel.text="("+g.players.length+"/"+this.tableInfo.maxPlayer+")",this.playerCountLabel.x=this.playerCountIcon.x+9,C.clearRoundRect(this.tableNameHitArea,"#FFF",0,"#000",this.tableNameLabel.getBounds().width+this.playerCountLabel.getBounds().width+20,40,0,!1))},F.prototype.clearGame=function(){this.gameContainer=null,this.results=[],this.resourcesComplete=!1,this.tableDetails=null,this.haveBet=!1,this.allBets=[],this.totalBetTemp=0,this.balanceTemp=0,this.cardValueDrg=null,this.cardValueTgr=null,this.tableMinVal=null,this.tableMaxVal=null,this.rebetValues={},this.totalRebetAmount=0,this.standingplayerCount=null,this.gameRoundLabel=null,this.tableNameLabel=null,this.playerCountLabel=null,this.tableInfo={tableName:"null",maxPlayer:50},this.statusLabel=null,this.tableBitmap=null,this.gradientLineTop=null,this.gradientLineBot=null,this.isDrawingPhase=!1,this.gameTicker=null,this.waitForNextRoundContainer=null,this.rebetValuesTemp={},this.totalRebetTemp=null,this.sessionInterval=null,this.isSideBetDisabled=!1,this.sideBetDisableContainer=null,this.roundCounter=0,this.tableNameHitArea=null,this.playerCountIcon=null},F.prototype.animateBetHere=function(e){var t,a,n,i,o=this;if(e){if(!r.tickStarted)return!1;if(O.haveBet)return!1;o.betHereMainContainer.visible=!0,console.log("self.betHereMainContainer.children",o.betHereMainContainer.children);for(var l=0;l<o.betHereMainContainer.children.length;l++)void 0,a=void 0,n=void 0,void 0,t=l,a=o.betHereMainContainer.children[t],n=a.getChildByName("betHereBorder"),i=a.getChildByName("betHereText"),n&&(n.alpha=0,o.isSideBetDisabled?a.visible=!1:(a.visible=!0,createjs.Tween.get(n,{loop:!0}).to({alpha:1},300).to({alpha:0},400).wait(600),i&&createjs.Tween.get(i,{loop:!0}).to({scale:.9},300).to({scale:1},400).wait(600)))}else{if(o.betHereMainContainer.visible=!1,!o.betHereMainContainer.visible)return!1;for(l=0;l<o.betHereMainContainer.children.length;l++)!function(){var e=l,t=o.betHereMainContainer.children[e].getChildByName("betHereBorder");createjs.Tween.get(t,{override:!0}).to({alpha:0},300)}()}},F.prototype.setTotalRound=function(){if(!G.loadComplete)return!1;this.numOfRounds=this.numOfRounds+1,this.numOfRounds>1&&(this.isBetHereVisible=!1)},F.prototype.removeTickers=function(){console.log("REMOVE TICKER"),C.mainContainer.cache(-640,-360,1280,720),C.isSocketDisconnected=!0,createjs.Ticker.off("tick",self.gameTicker),createjs.Ticker.off("tick",G.loadingTicker),r.tickListener&&createjs.Ticker.off("tick",r.tickListener)},F.prototype.restartGame=function(e){C.mainContainer.removeAllChildren(),C.alertMainContainer.removeAllChildren(),G.clearLoading(),this.clearGame(),h.clearAvatar(),T.clearChips(),C.clearCGen(),k.clearPanel(),L.clearSeat(),d.clearStanding(),A.clearEmoji(),g.clearPlayer(),y.clearResources(),B.clearRoadMap(),D.clearSound(),f.clearSprites(),r.clearTimer(),s.clearTimer(),G.init(),e()};var O=new F,M=function(){this.loadState={count:0,state:!1},this.audio={},this.mute=userData.isMuted,this.isIntroDone=!1,this.isIntroStarted=!1};M.prototype.playAudio=function(e){if(!G.loadComplete)return!1;if(void 0===this.audio[e]||null===this.audio[e])return!1;this.mute?(this.audio[e].volume=0,this.audio[e].stop()):(this.audio[e].volume=1,this.audio[e].play(),console.log("playaudio",e))},M.prototype.toggleMute=function(){this.mute=!this.mute,Howler.mute(this.mute),this.playIntro()},M.prototype.playIntro=function(){if(!G.loadComplete)return!1;var e=this;e.isIntroDone||e.isIntroStarted||(e.mute?(e.audio.intro.volume=0,e.audio.intro.stop()):(console.log("intro",e.audio.intro.playing()),e.audio.intro.playing()||(e.audio.intro.volume=1,e.playAudio("intro"))),e.isIntroStarted=!0,setTimeout(function(){e.isIntroDone=!0,e.playBg(),console.log("intro end",e.audio.bg.playing())},65500))},M.prototype.playBg=function(){if(!G.loadComplete)return!1;this.mute?(this.audio.bg.volume=0,this.audio.bg.stop()):(console.log("bg",this.audio.bg.playing()),this.audio.bg.playing()||(this.audio.bg.volume=1,this.playAudio("bg"))),this.audio.bg.on("end",function(){console.log("bg end")})},M.prototype.playSprite=function(e,t){if(!G.loadComplete)return!1;if(void 0===this.audio[e]||null===this.audio[e])return!1;this.mute?(this.audio[e].volume=0,this.audio[e].stop()):(this.audio[e].volume=1,this.audio[e].play(t),console.log("PLAYSPRITE",e,t,this.audio[e]))},M.prototype.clearSound=function(){this.loadState={count:0,state:!1},this.audio={},this.mute=!1,this.isIntroDone=!1,this.isIntroStarted=!1};var D=new M,E=function(){this.reports=[],this.sampleReports=[{totalPayout:20,totalAmount:10,gameEnd:"2020-02-05T07:07:17.783Z",transId:1,__v:0},{totalPayout:20,totalAmount:10,gameEnd:"2020-02-05T07:07:17.783Z",transId:2,__v:0},{totalPayout:20,totalAmount:10,gameEnd:"2020-02-05T07:07:17.783Z",transId:3,__v:0},{totalPayout:20,totalAmount:10,gameEnd:"2020-02-05T07:07:17.783Z",transId:4,__v:0},{totalPayout:20,totalAmount:10,gameEnd:"2020-02-05T07:07:17.783Z",transId:5,__v:0},{totalPayout:20,totalAmount:10,gameEnd:"2020-02-05T07:07:17.783Z",transId:6,__v:0},{totalPayout:20,totalAmount:10,gameEnd:"2020-02-05T07:07:17.783Z",transId:7,__v:0},{totalPayout:20,totalAmount:10,gameEnd:"2020-02-05T07:07:17.783Z",transId:8,__v:0},{totalPayout:20,totalAmount:10,gameEnd:"2020-02-05T07:07:17.783Z",transId:9,__v:0},{totalPayout:20,totalAmount:10,gameEnd:"2020-02-05T07:07:17.783Z",transId:10,__v:0}],this.reportListContainer=null,this.reportHeader=[{label:"DATE / TIME",x:-350},{label:"TRANSACTION ID",x:-150},{label:"STAKE",x:48},{label:"WIN / LOSS",x:248}]};E.prototype.createReportListContainer=function(e){this.reportListContainer=C.createContainer(e,"reportListContainer",!0),this.createReportList()},E.prototype.createReportList=function(){var e=this,t=window.location.host.split(".");function a(e){e.target.scale=1.2}function n(e){e.target.scale=1}"192"!==t[0]&&"338alab"!==t[1]||(e.reports=e.sampleReports),e.reportListContainer.removeAllChildren();var i,o,r=C.createContainer(e.reportListContainer,"reportHeaderContainer",!0);r.y=-160;for(var l=0;l<e.reportHeader.length;l++){var s=l;void 0,o=void 0,i=e.reportHeader[s],(o=C.createText(r,"reportHeaderLabel-"+s,"center","middle","#FFF","200 18px Roboto CondensedLight",i.label)).x=i.x,console.log("reportHeaderLabel",i,o)}var c=-122;for(l=0;l<e.reports.length;l++){s=l;!function(){var t=e.reports[s],i=C.createContainer(e.reportListContainer,"reportRowContainer-"+s,!0);i.y=c;var o=new Date(t.gameEnd),r=o.getMonth()+1;r=r.toLocaleString().length>1?r:0+r.toLocaleString();var l=(o.getDate().toLocaleString().length>1?o.getDate():0+o.getDate().toLocaleString())+"/"+r+"/"+o.getFullYear(),d=o.getHours()>12?o.getHours()-12:o.getHours(),u=o.getHours()>12?"PM":"AM";l=l+" "+d+":"+(o.getMinutes().toLocaleString().length>1?o.getMinutes():0+o.getMinutes().toLocaleString())+":"+(o.getSeconds().toLocaleString().length>1?o.getSeconds():0+o.getSeconds().toLocaleString())+" "+u,C.createText(i,"date","center","middle","#FFF","200 18px Roboto CondensedLight",l).x=-350,C.createText(i,"date","center","middle","#FFF","200 18px Roboto CondensedLight",t.transId).x=-150,C.createText(i,"date","center","middle","#FFF","200 18px Roboto CondensedLight",t.totalAmount).x=48,C.createText(i,"date","center","middle","#FFF","200 18px Roboto CondensedLight",t.totalPayout).x=248,c+=36;var h=C.createContainer(i,"arrowContainer",!0);h.x=398,h.y=-2,C.createBitmap(h,"arrow","arrow",.6).rotation=-90;var p=C.createRect(h,"buttonHitArea","#FFF",0,"#000",90,30,!1);h.hitArea=p,h.on("mouseover",a),h.on("mouseout",n);h.on("click",function(){window.open(location.origin+"/svy/dtm/statement?transId="+t.transId,"same_window","width=1024, height=736")})}()}};var I=new E;function P(e){var t=document.getElementById("game-container"),a=document.getElementById("canvas-container"),n=document.getElementById("loading-container"),i=C.isSBO?null:document.getElementsByClassName("svy-announcement-popup-cont")[0];if(e=!(e&&!C.isIOS)&&e,console.log("####### onResize",e,C.isIOS),e)if(window.innerWidth>window.innerHeight){console.log("Type : Landscape",a);var o=t.offsetWidth,r=t.offsetHeight,l=1.8*Math.min(o,r),s=1e3,c=window.innerWidth,d=window.innerHeight,u=0;if(console.log("IS IOS",window.innerHeight),console.log("scaleResult",l),C.isIOS&&c<=580){s=2e3;var h=document.getElementsByTagName("BODY")[0];h.style.height="calc(100% + 10%)",window.scrollTo(0,1e3),setTimeout(function(){h.style.height="100%"},1e3)}setTimeout(function(){if(d=window.innerHeight,C.isIOS){r-=83,s=2e3;var e=window.innerHeight/720;c=1280*e,console.log("NEWW",c,window.innerHeight),c<=405?(d=window.innerHeight/2+19,a.style.position="absolute",a.style.margin="auto",a.style.top=0,a.style.bottom=0,a.style.left=0,a.style.right=0,a.style.display="block",C.isSBO||(i.style.position="fixed",i.style.margin="auto"),u="92px",n&&(n.style.height="171.4%")):577.7777777777778===c?(a.style.position="absolute",a.style.margin="auto",a.style.top=0,a.style.left=0,a.style.right=0,a.style.display="block"):(n&&(n.style.height="100%"),C.isSBO||(i.style.position="fixed",i.style["margin-left"]="auto",i.style["margin-right"]="auto"))}if(a.style.width=c+"px",a.style.height=d+"px",C.isSBO||(i.style.height=window.innerHeight+"px",i.style.width=c+"px",i.style.top=u),C.mainContainer||C.alertMainContainer)j(c);else var t=setInterval(function(){C.mainContainer&&(j(c),clearInterval(t))},200)},s)}else console.log("Type : Portrait");else{document.getElementsByClassName("popup-header")[0];var p=document.getElementById("gameStage");if(a.style.position="absolute",a.style.margin="auto",a.style.top=0,a.style.bottom=0,a.style.left=0,a.style.right=0,C.isMobile){C.isSBO||(i.style.position="fixed",i.style.margin="auto",i.style.bottom=0,i.style.left=0,i.style.right=0);var g=document.fullscreenElement&&null!==document.fullscreenElement||document.webkitFullscreenElement&&null!==document.webkitFullscreenElement||document.mozFullScreenElement&&null!==document.mozFullScreenElement||document.msFullscreenElement&&null!==document.msFullscreenElement;k.minimizeSprite&&k.fullScreenSprite&&(k.minimizeSprite.visible=!!g,k.fullScreenSprite.visible=!g)}var m=p.width/p.height,b=window.innerWidth,y=t.clientHeight;if(b/y>m)if(b=y*m,a.style.height=y+"px",a.style.width=b+"px",C.isSBO||(i.style.height=y+"px",i.style.width=b+"px"),C.isMobile||C.isSBO||(i.style.top="111px"),C.mainContainer||C.alertMainContainer)j(b);else var v=setInterval(function(){C.mainContainer&&(j(b),clearInterval(v))},200);else if(y=b/m,a.style.width=b+"px",a.style.height=y+"px",C.isSBO||(i.style.height=y+"px",i.style.width=b+"px"),C.isMobile||C.isSBO||(i.style.top="111px"),C.mainContainer||C.alertMainContainer)j(b);else v=setInterval(function(){C.mainContainer&&(j(b),clearInterval(v))},200)}}function j(e){console.log("resize");var t=(e+=400)>=1280?1280:e,a=.5625*t;document.getElementById("gameStage").width=t>=1280?1280:t,document.getElementById("gameStage").height=a>=720?720:a,C.mainContainer.scaleX=t>=1280?1:t/1280,C.mainContainer.scaleY=a>=720?1:a/720,C.mainContainer.x=t/2,C.mainContainer.y=a/2,document.getElementById("alertStage").width=t>=1280?1280:t,document.getElementById("alertStage").height=a>=720?720:a,C.alertMainContainer.scaleX=t>=1280?1:t/1280,C.alertMainContainer.scaleY=a>=720?1:a/720,C.alertMainContainer.x=t/2,C.alertMainContainer.y=a/2}window.addEventListener("resize",function(){P(C.isMobile)});var H=function(){this.socketLists=["table limit","get my balance","table state"],this.loadingSound=null,this.motdLists=[],this.loadComplete=!1,this.loadDisplay=0,this.maxDisplay=0,this.progressWidth={width:"0%"},this.motd=null,this.imageState={completed:!1},this.loadedSockets=[],this.socketState={completed:!1},this.loadingTemplate="<div class='svy-loading-page'>\t<div class='svy-loading-cont' id='loading-container'>\t\t<div class='svy-table-loading-wrap'>\t\t\t<canvas id='loadingStage' width='1280' height='720'>\t\t\t</div>\t</div></div>",this.isJoined=!1,this.loadingQueue=null,this.loadingStage=null,this.loadingMainContainer=null,this.percentLabel=null,this.loadingBar=null,this.loadingBarBitmap=null,this.loadingTicker=null,this.isCanvasCleared=!1,this.isBettingOpen=!1};H.prototype.init=function(){var e=this,t=document.createElement("div");if(t.id="loadingPage",t.innerHTML=this.loadingTemplate,document.getElementById("canvas-container").appendChild(t),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?(Howler._mobileEnabled=!0,console.log("Howler",Howler)):Howler.mobileAutoEnable=!0,e.loadLoadingImages(function(){e.loadImages()}),e.isCanvasCleared){var a=document.getElementById("loading-container");if(C.isIOS){var n=1280*(window.innerHeight/720);a&&(a.style.height=n<=405?"171.4%":"100%")}}O.sessionInterval=setInterval(function(){C.checkSession(function(e){e||C.displayAlert("invalid session")})},6e4)},H.prototype.loadLoadingImages=function(e){var t=this;t.loadingQueue=new createjs.LoadQueue(!0),t.loadingQueue.loadManifest(y.loadingResources),t.loadingQueue.addEventListener("complete",function(){console.log("loading loading images complete"),t.createLoadingContainer(function(){e(),t.loadingTicker=createjs.Ticker.addEventListener("tick",function(){t.loadingStage.update(),createjs.Ticker.useRAF=!0,createjs.Ticker.timingMode=createjs.Ticker.RAF,createjs.Ticker.framerate=60})})})},H.prototype.createLoadingContainer=function(e){this.loadingStage=new createjs.Stage(document.getElementById("loadingStage")),this.loadingStage.name="loadingStage",this.loadingStage.enableMouseOver(),this.loadingMainContainer=C.createContainer(this.loadingStage,"loadingMainContainer",!0),this.loadingMainContainer.x=this.loadingStage.canvas.width/2,this.loadingMainContainer.y=this.loadingStage.canvas.height/2,this.percentLabel=C.createText(this.loadingMainContainer,"percentLabel","center","middle","#FAFF00","500 46px Roboto CondensedBold","0%"),this.percentLabel.y=121,this.percentLabel.shadow=new createjs.Shadow("rgba(0, 0, 0, 1)",0,0,8);var t=C.createText(this.loadingMainContainer,"loadingLabel","center","middle","#FAFF00","900 30px Roboto CondensedBold",n.getTranslation("loading"));t.y=162,t.shadow=new createjs.Shadow("rgba(0, 0, 0, 1)",0,0,8);var a=C.createLoadingBitmap(this.loadingMainContainer,"logo","logo",.53,this.loadingQueue);a.regX=a.image.width/2,a.regY=a.image.height/2,a.y=271,a.scaleX=a.scaleY=.53;var i=C.createContainer(this.loadingMainContainer,"loadingBarContainer",!0);i.y=192,C.createRoundRect(i,"loadingBarBorder","rgba(0,0,0,.4)",1,"rgba(0,0,0,0)",1045,16,7.5,!0).shadow=new createjs.Shadow("rgba(0, 0, 0, .5)",0,7,8),this.loadingBar=i.addChild(new createjs.Shape),this.loadingBar.name="loadingBar",this.loadingBar.graphics.setStrokeStyle(1).beginStroke("rgba(0,0,0,0)").beginFill("rgba(0,0,0,0)").drawRoundRect(0,0,1043,13,6.5),this.loadingBar.regY=this.loadingBar.graphics.command.h/2,this.loadingBar.regX=this.loadingBar.graphics.command.w/2,this.loadingBarBitmap=C.createLoadingBitmap(i,"loading_bar","loadingBarBitmap",1,this.loadingQueue),this.loadingBarBitmap.regY=this.loadingBarBitmap.image.height/2,this.loadingBarBitmap.mask=this.loadingBar,this.loadingBarBitmap.scaleX=0,this.loadingBarBitmap.x=-521.5,console.log("##CANVAS loadingMainContainer",this.loadingMainContainer),e()},H.prototype.loadImages=function(){var e=this;e.loadComplete||e.imageState.completed||(y.loadQueue=new createjs.LoadQueue(!0),y.loadQueue.loadManifest(y.resources),y.loadQueue.addEventListener("complete",function(){console.log("loading images complete"),e.imageState.completed=!0,f.init(function(){C.createStage(function(){console.log("container successfully created"),O.init(),e.setMaxPercent(20),e.createHowlerAudio()})})}))},H.prototype.getMOTD=function(){},H.prototype.createHowlerAudio=function(){var e=this;if(console.log("navigator.userAgent",navigator.userAgent,C.isIOS),!e.loadComplete&&!D.loadState.state)for(var t=0;t<y.audio.length;t++){var a=C.isIOS&&"bg"===y.audio[t].id?[rsPath+"/sounds/loopingfinal.mp3"]:[y.audio[t].src];D.audio[y.audio[t].id]=new Howl({src:a,sprite:y.audio[t].sprite?y.audio[t].sprite:null,volume:(y.audio[t].volume,1),preload:!0,loop:!!y.audio[t].loop,html5:!!y.audio[t].loop,onload:(D.loadState.count++,void(D.loadState.count>=y.audio.length&&(console.log("loading sounds complete...",D.audio),D.loadState.state=!0,e.setMaxPercent(80),e.checkLoading())))})}},H.prototype.reloadGame=function(e){e()},H.prototype.loadItems=function(e){if(console.log("load ITEMS",e),!this.loadComplete&&!this.socketState.completed){var t=this.socketLists.indexOf(e);this.socketLists[t]===e&&-1===this.loadedSockets.indexOf(e)&&(this.loadedSockets.push(e),this.checkLoading()),this.loadedSockets.length===this.socketLists.length&&(console.log("loading sockets complete..."),this.socketState.completed=!0)}},H.prototype.checkLoading=function(){D.loadState.state&&this.setMaxPercent(80+this.loadedSockets.length/this.socketLists.length*20)},H.prototype.setMaxPercent=function(e){this.maxDisplay=e,console.log("setMaxPercent",e),this.updateDisplay()},H.prototype.updateDisplay=function(){var e=this;this.loadComplete||(100===this.loadDisplay?this.reloadGame(function(){e.updatePercent(),e.loadFinish()}):(80===this.loadDisplay&&(e.isJoined||(e.isJoined=!0,t.emit("join room"),t.emit("get my balance"),t.emit("table limit"),console.log("loadDisplay",this.loadDisplay))),setTimeout(function(){e.loadDisplay<e.maxDisplay&&(e.updatePercent(),e.loadDisplay++,e.progressWidth={width:e.loadDisplay+"%"},e.updateDisplay())},20)))},H.prototype.updatePercent=function(){this.percentLabel.text=this.loadDisplay+"%",this.loadingBarBitmap.scaleX=this.loadDisplay/100},H.prototype.loadFinish=function(){this.loadComplete=!0,t.emit("playerbet history"),setTimeout(function(){var e=document.getElementById("canvas-container"),t=document.getElementById("loadingPage");e.removeChild(t),setTimeout(function(){k.placeBetDisplay(!1)},5e3)},1e3)},H.prototype.checkBetTick=function(e){this.loadComplete||r.tickStarted||e.curr>=2&&(this.loadItems("check tick"),console.log("load items check tick"))},H.prototype.checkState=function(e){if(this.loadItems("table state"),this.isBettingOpen=1===e.state,this.isBettingOpen)O.hideWaitForNextRoundContainer(),T.enableChips(),A.addTaunt(L.selectedSeat,this.isBettingOpen);else{s.clearTicker();var t={curr:20,max:20};s.setEndTimer(t),s.endTimer=setInterval(function(){0===t.curr||(t.curr=t.curr-1,s.setEndTimer(t))},1e3)}},H.prototype.checkNewRound=function(){this.loadComplete||(console.log("load items check round"),this.loadItems("check tick"))},H.prototype.clearLoading=function(){this.isCanvasCleared=!0,this.socketLists=["table limit","check tick","get my balance"],this.loadingSound=null,this.motdLists=[],this.loadComplete=!1,this.loadDisplay=0,this.maxDisplay=0,this.progressWidth={width:"0%"},this.motd=null,this.imageState={completed:!1},this.loadedSockets=[],this.socketState={completed:!1},this.loadingTemplate="<div class='svy-loading-page'>\t<div class='svy-loading-cont' id='loading-container'>\t\t<div class='svy-table-loading-wrap'>\t\t\t<canvas id='loadingStage' width='1280' height='720'>\t\t\t</div>\t</div></div>",this.isJoined=!1,this.loadingQueue=null,this.loadingStage=null,this.loadingMainContainer=null,this.percentLabel=null,this.loadingBar=null,this.loadingBarBitmap=null,this.loadingTicker=null,this.isBettingOpen=!1};var G=new H;if(document.addEventListener("DOMContentLoaded",function(){var e,t;G.init(),C.pushStateHistory(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(C.isMobile=!0),P(C.isMobile),e=window.innerWidth,t=window.innerHeight;var a=window.outerWidth-e,n=window.outerHeight-t;C.isMobile||(C.isSBO?window.resizeTo(1280+a,720+n):window.resizeTo(1280+a,832+n));if(document.getElementById("gameStage").addEventListener("mousewheel",function(e){if(G.loadComplete&&O.gameContainer.getChildByName("standingPlayersListMainContainer").visible){var t=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));d.currentY=d.currentY+t,d.scrollList(d.currentY),console.log("mousewheel",d.currentY,d.scrollStart),e.preventDefault()}}),!C.isSBO){var i=document.getElementById("dynaStyles"),o=document.getElementById("templateStyle"),r=window.location.host.split(".");if("192"===r[0])i.href="https://www.338alab.com/assets/game_popup/css/popup.css?gt.ver.0",o.href="https://games.338alab.com/assets/css/template.css";else{var l=r[1]+"."+r[2],s="https://www."+l;i.href=s+"/assets/game_popup/css/popup.css?gt.ver.0",o.href="https://games."+l+"/assets/css/template.css"}}var c=window.screen.width/2-650,u=window.screen.height/2-450;window.moveTo(c,u),setTimeout(function(){P(C.isMobile)},200)}),document.addEventListener("click",function(){D.playIntro()}),function(){"use strict";var e=C.isSBO?1:0,a=window.location.host.split("."),n=a[1]+"."+a[2];n="192"==a[0]&&"168"==a[1]?"338alab.com":n;var i="https://"+(C.isMobile?"m.":"www.")+n,o=document.getElementsByClassName("maxpayout")[0];if(!C.isMobile){setInterval(function(){var e=new Date,t=e.getDate(),a=e.getMonth(),n=e.getFullYear(),i=e.getHours(),o=e.getMinutes(),r=e.getSeconds(),l=e.getTimezoneOffset();if(i<10&&(i="0"+i),o<10&&(o="0"+o),r<10&&(r="0"+r),l<0)var s="+",c=-l/60;else s="-",c=l/60;var d=document.getElementById("datetime");d&&(d.innerHTML=a+1+"/"+t+"/"+n+" "+i+":"+o+" GMT "+s+c)},1e3);var r=document.getElementsByClassName("currency")[0];if(r&&(r.innerHTML=userData.exchangeRate.currencyCode+" "),0==e){var l=document.getElementsByClassName("hide-on-min")[0];l&&(l.innerHTML="Available Balance ");var s=[i+"/statement",i+"/balance",i+"/gaming_rules/21",i+"/help/1"],c=document.getElementById("link");({en:["statement","balance","game guide","help"],id:["laporan","saldo","panduan permainan","bantuan"],zh:["","","",""]})[userData.lang.toLowerCase()].map(function(e,t){var a=document.createElement("li"),n=document.createElement("a");n.setAttribute("href","javascript:createWindow('"+s[t]+"')"),n.innerText=e,a.appendChild(n),c.appendChild(a)}),document.getElementsByClassName("mobile-nav")[0].onclick=function(){navEnabled=!navEnabled,navEnabled?navigation.style.display="block":navigation.style.display="none"};var d=document.getElementById("update_balance");d.style.transition="0.5s";var u=0;d.onclick=function(){G.loadComplete&&(C.delayBalanceUpdate||O.isDrawingPhase||(C.delayBalanceUpdate=!0,u+=180,d.style.transform=`rotate(${u}deg)`,t.emit("get my balance")))},o.innerHTML="Max Payout Per Bet: "+userData.exchangeRate.currencyCode+" "+computedMaxPayout.toLocaleString()}}}(),0==(C.isSBO?1:0)){this.svy_announcement=this.svy_announcement||{};var V=!0,_="rtext",Y=C.isMobile?"savvy_ann_container":"savvy_ann_container-popup";V&&(document.getElementById(_).style.display="none"),function(){"use strict";svy_announcement.Config=new function(){window.location.host;var e=window.location.host.split("."),t=e[1]+"."+e[2],a="announcement."+(t="192"==e[0]&&"168"==e[1]?"338alab.com":t);return("lab"===e[1].substr(e[1].length-3)||"192"==e[0]&&"168"==e[1])&&(a+=":3100"),{connection:"https://"+a}}}(),console.log("svy_announcement.Config",svy_announcement.Config),function(){"use strict"}(),function(){"use strict";svy_announcement.Run=new function(){var e=this;return e={current:{onQueue:[],list:[],index:0,pos:0,dur:30,enabled:!1,started:!1,display:null,domWrapper:null,domText:null,handler:null,close_table:!1},isMouseEnable:!1,close:function(){console.log("# Function: Announcements -> close"),e.current.started=!1,e.current.enabled=!1,clearInterval(e.current.handler),e.onUpdate()},setAnnouncement:function(t){console.log("# Function: Announcements -> setAnnouncement =>",t),t.length<1?(e.current.onQueue=[],e.refreshList()):e.current.close_table||(e.current.onQueue=e.arrangeAnnouncements(t)),e.createAnnouncement()},addAnnouncement:function(t){console.log("# Function: Announcements -> addAnnouncement =>",t),e.current.onQueue=e.current.onQueue.concat(t),e.current.onQueue=e.arrangeAnnouncements(e.current.onQueue),e.createAnnouncement()},removeOtherAnnouncements:function(t){console.log("# Function: Announcements -> removeOtherAnnouncements =>",t),e.current.close_table=!0,e.current.list=[],e.current.onQueue=[],e.current.index=0,e.current.enabled=!0,e.current.onQueue.push(t),e.refreshList(),e.startAnnouncement()},arrangeAnnouncements:function(e){return console.log("# Function: Announcements -> arrangeAnnouncements =>",e),e.sort(function(e,t){return ee(e.priority)==ee(t.priority)?t.time-e.time:ee(e.priority)-ee(t.priority)}),e},refreshList:function(){console.log("# Function: Announcements -> refreshList"),e.current.started=!0,e.current.list=e.current.onQueue,e.current.onQueue=[]},createAnnouncement:function(){console.log("# Function: Announcements -> createAnnouncement"),e.current.started||(e.current.onQueue.length>0&&e.refreshList(),e.current.index=0,e.current.pos=0,e.current.enabled=!0,e.startAnnouncement())},startAnnouncement:function(){console.log("# Function: Announcements -> startAnnouncement"),setTimeout(function(){e.current.list.length>0?(e.current.display=e.current.list[e.current.index],e.onUpdate(),e.current.domWrapper=document.getElementById("svy-announcement-wrapper"),e.current.domWrapper&&(e.current.domWrapper.style.transform="translateX("+e.current.pos+"px)",e.current.domText=document.getElementById("svy-announcement-text"),e.current.close_table&&(e.current.pos=-3),clearInterval(e.current.handler),e.current.handler=setInterval(function(){Math.abs(e.current.pos)>=e.current.domText.scrollWidth+e.current.domWrapper.clientWidth?(e.resetAnnouncement(),e.startAnnouncement()):e.moveAnnouncement()},e.current.dur))):(e.current.started=!1,e.current.enabled=!1,clearInterval(e.current.handler),e.onUpdate())})},resetAnnouncement:function(){console.log("# Function: Announcements -> resetAnnouncement"),clearInterval(e.current.handler),e.current.pos=0,e.current.index+1>=e.current.list.length?(e.current.index=0,e.getNewAnnouncements()):e.current.index+=1},moveAnnouncement:function(){e.current.pos-=e.isMouseEnable?1.5:e.current.close_table?1.5:3,e.current.domWrapper.style.transform="translateX("+e.current.pos+"px)",e.updateAnnouncementTime()},isMouseOver:function(t){console.log("# Function: Announcements -> isMouseOver"),e.isMouseEnable=1==t},updateAnnouncementTime:function(){for(var t=0;t<e.current.list.length;t++)e.current.list[t].time-=e.current.dur},getNewAnnouncements:function(){console.log("# Function: Announcements -> getNewAnnouncements");var t=[];if(e.current.onQueue.length>0)e.refreshList();else{for(var a=0;a<e.current.list.length;a++){var n=e.current.list[a];n.time>0&&t.push(n)}e.current.list=t}},onUpdate:function(){V&&(document.getElementById(_).style.display=e.current.enabled?"block":"none"),document.getElementsByClassName("svy-announcement-cont")[0].style.display=e.current.enabled?"block":"none",document.getElementById("svy-announcement-text").innerHTML=e.current.display.txt}}}}();var X=document.createElement("elemRunningText");X.innerHTML="<div id='annDiv' class='svy-announcement-cont' style='display: none;'>\t<div class='svy-announcement-wrapper'>\t\t<div class='svy-announcement-label-cont'>\t\t\t<div class='svy-announcement-label-wrapper'>\t\t\t\t<div class='svy-announcement-label'>ANNOUNCEMENT</div>\t\t\t</div>\t\t</div>\t\t<div class='svy-announcement-message-cont' onmouseover='svy_announcement.Run.isMouseOver(1)' onmouseleave='svy_announcement.Run.isMouseOver(0)'>\t\t\t<div id ='svy-announcement-wrapper' class='svy-announcement-message-wrapper'>\t\t\t\t<div class='svy-announcement-message'>\t\t\t\t\t<div id='svy-announcement-text'></div>\t\t\t\t</div>\t\t\t</div>\t\t</div>\t\t<div class='svy-announcement-close-cont' onclick='svy_announcement.Run.close()'>\t\t\t<div class='svy-announcement-close-wrapper'>\t\t\t\t<svg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'>\t\t\t\t\t<path d='M19.3332 2.54663L17.4532 0.666626L9.99984 8.11996L2.5465 0.666626L0.666504 2.54663L8.11984 9.99996L0.666504 17.4533L2.5465 19.3333L9.99984 11.88L17.4532 19.3333L19.3332 17.4533L11.8798 9.99996L19.3332 2.54663Z' fill='#FFC500'/>\t\t\t\t</svg>\t\t\t</div>\t\t</div>\t</div></div>",document.getElementById(_).appendChild(X),function(){"use strict";svy_announcement.Popup=new function(){var e,t=localStorage,a=svy_announcement.Config,n=this;return n={current:{pointer:0,onQueue:[],list:[],enabled:!1,localStorageName:null,activePopup:null},setPopup:function(e){console.log("# Function: Popup -> setPopup =>",e),n.current.onQueue=n.arrangeAnnouncements(e),n.current.localStorageName=userData.clientID?function(e){for(var t=function(e){for(var t=1+(e.length+8>>6),a=new Array(16*t),n=0;n<16*t;n++)a[n]=0;for(var n=0;n<e.length;n++)a[n>>2]|=e.charCodeAt(n)<<n%4*8;return a[n>>2]|=128<<n%4*8,a[16*t-2]=8*e.length,a}(e),a=1732584193,n=-271733879,i=-1732584194,o=271733878,r=0;r<t.length;r+=16){var l=a,s=n,c=i,d=o;a=J(a,n,i,o,t[r+0],7,-680876936),o=J(o,a,n,i,t[r+1],12,-389564586),i=J(i,o,a,n,t[r+2],17,606105819),n=J(n,i,o,a,t[r+3],22,-1044525330),a=J(a,n,i,o,t[r+4],7,-176418897),o=J(o,a,n,i,t[r+5],12,1200080426),i=J(i,o,a,n,t[r+6],17,-1473231341),n=J(n,i,o,a,t[r+7],22,-45705983),a=J(a,n,i,o,t[r+8],7,1770035416),o=J(o,a,n,i,t[r+9],12,-1958414417),i=J(i,o,a,n,t[r+10],17,-42063),n=J(n,i,o,a,t[r+11],22,-1990404162),a=J(a,n,i,o,t[r+12],7,1804603682),o=J(o,a,n,i,t[r+13],12,-40341101),i=J(i,o,a,n,t[r+14],17,-1502002290),n=J(n,i,o,a,t[r+15],22,1236535329),a=q(a,n,i,o,t[r+1],5,-165796510),o=q(o,a,n,i,t[r+6],9,-1069501632),i=q(i,o,a,n,t[r+11],14,643717713),n=q(n,i,o,a,t[r+0],20,-373897302),a=q(a,n,i,o,t[r+5],5,-701558691),o=q(o,a,n,i,t[r+10],9,38016083),i=q(i,o,a,n,t[r+15],14,-660478335),n=q(n,i,o,a,t[r+4],20,-405537848),a=q(a,n,i,o,t[r+9],5,568446438),o=q(o,a,n,i,t[r+14],9,-1019803690),i=q(i,o,a,n,t[r+3],14,-187363961),n=q(n,i,o,a,t[r+8],20,1163531501),a=q(a,n,i,o,t[r+13],5,-1444681467),o=q(o,a,n,i,t[r+2],9,-51403784),i=q(i,o,a,n,t[r+7],14,1735328473),n=q(n,i,o,a,t[r+12],20,-1926607734),a=$(a,n,i,o,t[r+5],4,-378558),o=$(o,a,n,i,t[r+8],11,-2022574463),i=$(i,o,a,n,t[r+11],16,1839030562),n=$(n,i,o,a,t[r+14],23,-35309556),a=$(a,n,i,o,t[r+1],4,-1530992060),o=$(o,a,n,i,t[r+4],11,1272893353),i=$(i,o,a,n,t[r+7],16,-155497632),n=$(n,i,o,a,t[r+10],23,-1094730640),a=$(a,n,i,o,t[r+13],4,681279174),o=$(o,a,n,i,t[r+0],11,-358537222),i=$(i,o,a,n,t[r+3],16,-722521979),n=$(n,i,o,a,t[r+6],23,76029189),a=$(a,n,i,o,t[r+9],4,-640364487),o=$(o,a,n,i,t[r+12],11,-421815835),i=$(i,o,a,n,t[r+15],16,530742520),n=$(n,i,o,a,t[r+2],23,-995338651),a=Z(a,n,i,o,t[r+0],6,-198630844),o=Z(o,a,n,i,t[r+7],10,1126891415),i=Z(i,o,a,n,t[r+14],15,-1416354905),n=Z(n,i,o,a,t[r+5],21,-57434055),a=Z(a,n,i,o,t[r+12],6,1700485571),o=Z(o,a,n,i,t[r+3],10,-1894986606),i=Z(i,o,a,n,t[r+10],15,-1051523),n=Z(n,i,o,a,t[r+1],21,-2054922799),a=Z(a,n,i,o,t[r+8],6,1873313359),o=Z(o,a,n,i,t[r+15],10,-30611744),i=Z(i,o,a,n,t[r+6],15,-1560198380),n=Z(n,i,o,a,t[r+13],21,1309151649),a=Z(a,n,i,o,t[r+4],6,-145523070),o=Z(o,a,n,i,t[r+11],10,-1120210379),i=Z(i,o,a,n,t[r+2],15,718787259),n=Z(n,i,o,a,t[r+9],21,-343485551),a=Q(a,l),n=Q(n,s),i=Q(i,c),o=Q(o,d)}return U(a)+U(n)+U(i)+U(o)}(userData.clientID):"guan",n.checkExpiration()},addPopup:function(e){console.log("# Function: Popup -> addPopup =>",e),e.sort(function(e,t){return ee(e.priority)==ee(t.priority)?t.close_seconds-e.close_seconds:ee(e.priority)-ee(t.priority)}).map(function(e){n.current.list.push(e)}),n.current.list.filter(function(e){return e.close_seconds>0}).length||this.setPopup(n.current.list)},arrangeAnnouncements:function(e){return console.log("# Function: Popup -> arrangeAnnouncements =>",e),e.sort(function(e,t){return ee(e.priority)==ee(t.priority)?t.close_seconds-e.close_seconds:ee(e.priority)-ee(t.priority)}),e},checkExpiration:function(){console.log("# Function: Popup -> checkExpiration"),n.current.onQueue.map(function(e){var a=t.getItem("ann_"+e.id);if(a){a=JSON.parse(a),console.log(new Date);var n=a.filter(function(e){if(new Date(e.pDv)-new Date>=0)return e});n.length?t.setItem("ann_"+e.id,JSON.stringify(n)):t.removeItem("ann_"+e.id)}}),n.createPopup()},createPopup:function(){if(console.log("# Function: Popup -> createPopup"),n.current.enabled=!0,n.onUpdate(1),n.current.activePopup=n.current.onQueue.filter(function(e){return e.close_seconds>0}).find(function(i){var o=JSON.parse(t.getItem("ann_"+i.id));if(o){var r=o.find(function(e){return e.pNm==n.current.localStorageName});return i.imgSrc=a.connection+"/upload_popup/"+i.languageFolderUpload+"/"+i.path,document.getElementsByClassName("svy-popup-image")[0].setAttribute("src",i.imgSrc),i.hide=!1,e=setTimeout(n.getNextPopup,i.close_seconds),i.close_seconds&&!r}return i.imgSrc=a.connection+"/upload_popup/"+i.languageFolderUpload+"/"+i.path,document.getElementsByClassName("svy-popup-image")[0].setAttribute("src",i.imgSrc),i.hide=!1,e=setTimeout(n.getNextPopup,i.close_seconds),i.close_seconds}),console.log("# CURRENT.ACTIVEPOPUP:",n.current.activePopup),console.log("AKTIB",n.current.activePopup),n.onUpdate(2),n.current.activePopup)return n.current.enabled=!0;n.current.enabled=!1},getNextPopup:function(){console.log("# Function: Popup -> getNextPopup"),clearTimeout(e),n.current.activePopup&&(n.closePopup(!1),n.current.activePopup.close_seconds=0,setTimeout(function(){if(!n.createPopup())return n.current.list.length?(n.closePopup(!0),n.setPopup(_ann.current.list)):n.closePopup(!0)},100))},closePopup:function(e){console.log("# Function: Popup -> closePopup"),e&&n.hidePopupAnnouncement()},hidePopupAnnouncement:function(){console.log("# Function: Popup -> hidePopupAnnouncement"),n.onUpdate(3),n.current.onQueue.filter(function(e){return e.hide}).map(function(e){var a=[],i=t.getItem("ann_"+e.id);if(i){if(!JSON.parse(i).find(function(e){if(e.pNm==n.current.localStorageName)return e})){var o=JSON.parse(i);o.push({pNm:n.current.localStorageName,pDv:n.createExpiration()}),t.setItem("ann_"+e.id,JSON.stringify(o))}}else a.push({pNm:n.current.locStorName,pDv:n.createExpiration()}),t.setItem("ann_"+e.id,JSON.stringify(a));return e})},createExpiration:function(){var e=new Date,t=e.getDate()+1;return e.setDate(t),e},onCheck:function(){n.current.activePopup.hide=!n.current.activePopup.hide},onUpdate:function(e){document.getElementsByClassName("svy-announcement-popup-cont")[0].style.display=n.current.enabled?"block":"none";var t=document.getElementsByClassName("svy-popup-image")[0],a=document.getElementsByClassName("svy-announcement-popup-disable-label")[0];console.log("onUpdate",n.current.activePopup,e),n.current.activePopup&&(t.src=n.current.activePopup.imgSrc,a.innerHTML=n.current.activePopup.msgLanguage)}}}}();var W=document.createElement("elemPopUp");W.innerHTML="<div class='svy-announcement-popup-cont' style='display: none;'>\t<div class='svy-announcement-popup-bg'></div>\t<div class='svy-announcement-popup-wrapper'>\t\t<div class='svy-announcement-popup-header-cont'>\t\t\t<div class='svy-announcement-popup-disable-cont'>\t\t\t\t<div class='svy-announcement-popup-check'>\t\t\t\t\t<input type='checkbox' onclick='svy_announcement.Popup.onCheck()'>\t\t\t\t</div>\t\t\t\t<div class='svy-announcement-popup-disable-label'></div>\t\t\t</div>\t\t\t<div class='svy-announcement-popup-label '>ANNOUNCEMENT</div>\t\t\t<div class='svy-announcement-popup-close-cont' onclick='svy_announcement.Popup.getNextPopup()'>\t\t\t\t<div class='svy-announcement-popup-close-wrapper'>\t\t\t\t\t<svg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'>\t\t\t\t\t\t<path d='M19.3332 2.54663L17.4532 0.666626L9.99984 8.11996L2.5465 0.666626L0.666504 2.54663L8.11984 9.99996L0.666504 17.4533L2.5465 19.3333L9.99984 11.88L17.4532 19.3333L19.3332 17.4533L11.8798 9.99996L19.3332 2.54663Z' fill='#FFC500'/>\t\t\t\t\t</svg>\t\t\t\t</div>\t\t\t</div>\t\t</div>\t\t<div class='svy-announcement-popup-body-cont'>\t\t\t<img class='svy-popup-image'>\t\t</div>\t</div></div>",document.getElementById(Y).appendChild(W),function(){"use strict"}();var z="0123456789abcdef";function U(e){for(var t="",a=0;a<=3;a++)t+=z.charAt(e>>8*a+4&15)+z.charAt(e>>8*a&15);return t}function Q(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function K(e,t,a,n,i,o){return Q((r=Q(Q(t,e),Q(n,o)))<<(l=i)|r>>>32-l,a);var r,l}function J(e,t,a,n,i,o,r){return K(t&a|~t&n,e,t,i,o,r)}function q(e,t,a,n,i,o,r){return K(t&n|a&~n,e,t,i,o,r)}function $(e,t,a,n,i,o,r){return K(t^a^n,e,t,i,o,r)}function Z(e,t,a,n,i,o,r){return K(a^(t|~n),e,t,i,o,r)}function ee(e){switch(e.toLowerCase()){case"high":return 1;case"low":return 3;default:return 2}}}}();
//# sourceMappingURL=game-build.min.js.map